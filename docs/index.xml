<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>FOSS Trading</title>
    <link>https://blog.fosstrading.com/</link>
    <description>Recent content on FOSS Trading</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Sat, 24 Jun 2023 10:21:00 -0500</lastBuildDate><atom:link href="https://blog.fosstrading.com/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Running TimeBase in Docker</title>
      <link>https://blog.fosstrading.com/2023/06/running-timebase-in-docker/</link>
      <pubDate>Sat, 24 Jun 2023 10:21:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2023/06/running-timebase-in-docker/</guid>
      <description>&lt;p&gt;This is the second post in the series on using &lt;a href=&#34;https://timebase.info/&#34;&gt;TimeBase&lt;/a&gt; to stream real-time market data. This post covers using &lt;a href=&#34;https://www.docker.com/&#34;&gt;Docker&lt;/a&gt; to run TimeBase and the &lt;a href=&#34;https://kb.timebase.info/docs/development/tools/Web%20Admin/admin_about&#34;&gt;TimeBase Web Administrator&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&#34;getting-started&#34;&gt;Getting Started&lt;/h3&gt;
&lt;p&gt;Docker installation and configuration is outside the scope of this post. Docker has a &lt;a href=&#34;https://www.docker.com/get-started/&#34;&gt;Get Started&lt;/a&gt; page to help you get set up.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;ll be using Docker via Ubuntu and the command line interface. I know this approach is probably very advanced for most readers, but please bear with me. The concepts should be the same if you&amp;rsquo;re using the &lt;a href=&#34;https://docs.docker.com/desktop/&#34;&gt;Docker Desktop&lt;/a&gt; GUI instead.&lt;/p&gt;
&lt;p&gt;If you&amp;rsquo;re not familiar with Docker, an &amp;ldquo;image&amp;rdquo; contains all the necessary information to run an instance of the application. A &amp;ldquo;container&amp;rdquo; is a running instance of an image.&lt;/p&gt;
&lt;h3 id=&#34;running-the-docker-containers&#34;&gt;Running the Docker Containers&lt;/h3&gt;
&lt;p&gt;First we need to get the container images from &lt;a href=&#34;https://hub.docker.com/&#34;&gt;Docker Hub&lt;/a&gt;. I will use the &lt;code&gt;docker pull&lt;/code&gt; command.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# pull the TimeBase image&lt;/span&gt;
docker pull finos/timebase-ce-server:6.1.16

&lt;span class=&#34;c1&#34;&gt;# pull the Web Admin image&lt;/span&gt;
docker pull epam/timebase-ws-server:1.0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The TimeBase documentation has a page on &lt;a href=&#34;https://kb.timebase.info/community/deployment/docker&#34;&gt;deploying with Docker&lt;/a&gt;. This post closely follows those examples.&lt;/p&gt;
&lt;p&gt;One major difference is that TimeBase documentation uses the &lt;code&gt;--link&lt;/code&gt; option to allow the containers to talk to each other, but the Docker documentation says that is a legacy feature that may be removed. The currently preferred method is to create a user-defined network.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# create a user-defined network so the containers to see each other&lt;/span&gt;
docker network create --driver bridge timebase-net

&lt;span class=&#34;c1&#34;&gt;# make sure the network was created&lt;/span&gt;
docker network ls
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;By default, the docker containers will write data to a disk that&amp;rsquo;s only available to the container. You won&amp;rsquo;t be able to access the data from your computer or if the container isn&amp;rsquo;t running. There&amp;rsquo;s a &lt;code&gt;--volume&lt;/code&gt; option to specify a mapping between a directory in the container and a directory on your local machine. I&amp;rsquo;m not going to use that here because you have to run the container as root in order for it to write to your local file system.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;docker run --rm --detach &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    --publish 8011:8011 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    --name timebase-server &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    --user deltix:deltix &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    --ulimit&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;nofile&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;65536:65536 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    --network timebase-net &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    finos/timebase-ce-server:6.1.16
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Here are the descriptions of the options used:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;--rm&lt;/code&gt;: Automatically remove the container when it exits&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--detach&lt;/code&gt;: Run the container in the background&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--publish&lt;/code&gt;: Map the container&amp;rsquo;s port 8011 to my computer&amp;rsquo;s port 8011&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--name&lt;/code&gt;: Assign a name to the container&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--user&lt;/code&gt;: Run the container as the &amp;lsquo;deltix&amp;rsquo; user instead of &amp;lsquo;root&amp;rsquo;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--ulimit&lt;/code&gt;: Set user process resource limits&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--network&lt;/code&gt;: Use the &amp;lsquo;timebase-net&amp;rsquo; network&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Now we can run the Web Admin container. Make sure to use the same network (&lt;code&gt;timebase-net&lt;/code&gt;) and make sure the host name (&lt;code&gt;dxtick://timebase-server&lt;/code&gt;) is the same as the name you used for the TimeBase container (i.e. &amp;lsquo;timebase-server&amp;rsquo; in this case). The &lt;code&gt;--env&lt;/code&gt; option allows us to set environment variables. These are used to control various &lt;a href=&#34;https://kb.timebase.info/community/development/tools/Web%20Admin/admin_config#deployment&#34;&gt;configuration options&lt;/a&gt; (note that these configuration options are for running a local instance, but they give you an idea of what you can change).&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;docker run --rm --detach &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    --publish 8099:8099 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    --name timebase-admin &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    --env &lt;span class=&#34;s2&#34;&gt;&amp;#34;JAVA_OPTS=-Dtimebase.url=dxtick://timebase-server:8011&amp;#34;&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    --network timebase-net &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    epam/timebase-ws-server:1.0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We can use the Web Admin&amp;rsquo;s interface once it&amp;rsquo;s running. Open a browser and enter localhost:8099 in the address bar. That should take you to the login page. The default username/password is &lt;code&gt;admin/admin&lt;/code&gt;. After you log in you should see a page like the image below. The only stream in the database is &lt;code&gt;events#&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;web-admin-initial-contents.png&#34;&gt;&lt;img src=&#34;web-admin-initial-contents.png&#34; alt=&#34;&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Although this post is about &lt;em&gt;running&lt;/em&gt; TimeBase and the Web Admin, I&amp;rsquo;m not going to end it without showing a little functionality.&lt;/p&gt;
&lt;h3 id=&#34;import-data&#34;&gt;Import Data&lt;/h3&gt;
&lt;p&gt;Let&amp;rsquo;s import some data and take a quick look. Download this &lt;a href=&#34;running-timebase-in-docker-bars.qsmsg.gz&#34;&gt;data file&lt;/a&gt;. Then click the &amp;lsquo;Import from QSMSG&amp;rsquo; button highlighted in red below.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;web-admin-import-qsmsg-button.png&#34;&gt;&lt;img src=&#34;web-admin-import-qsmsg-button.png&#34; alt=&#34;&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Navigate to the file you just downloaded. Name the stream &amp;lsquo;bars&amp;rsquo;. You can leave the Description and Symbols fields blank, and leave Periodicity set to irregular.&lt;/p&gt;
&lt;p&gt;Now click the &amp;lsquo;bars&amp;rsquo; stream in the navigation bar on the left. You should see the data you just imported. It looks like the image below.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;web-admin-after-importing-bars.png&#34;&gt;&lt;img src=&#34;web-admin-after-importing-bars.png&#34; alt=&#34;&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Okay, that&amp;rsquo;s all for now. In the next post, we&amp;rsquo;ll set up a data connector and watch some data stream into the database!&lt;/p&gt;
&lt;div class=&#34;container&#34; role=&#34;main&#34;&gt;
  &lt;div class=&#34;row&#34;&gt;
    &lt;h3&gt;Other Posts in this TimeBase Series&lt;/h3&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&#34;../streaming-data-with-timebase&#34;&gt;Streaming Market Data with TimeBase&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&#34;../running-timebase-in-docker&#34;&gt;Running TimeBase in Docker&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;div class=&#34;container&#34; role=&#34;main&#34;&gt;
  &lt;div class=&#34;row&#34;&gt;
    &lt;hr&gt;
    &lt;p&gt;If you love using my open-source work (e.g.
      &lt;a href=&#34;https://cran.r-project.org/package=quantmod&#34;&gt;quantmod&lt;/a&gt;,
      &lt;a href=&#34;https://cran.r-project.org/package=TTR&#34;&gt;TTR&lt;/a&gt;,
      &lt;a href=&#34;https://cran.r-project.org/package=xts&#34;&gt;xts&lt;/a&gt;,
      &lt;a href=&#34;https://cran.r-project.org/package=IBrokers&#34;&gt;IBrokers&lt;/a&gt;,
      &lt;a href=&#34;https://cran.r-project.org/package=microbenchmark&#34;&gt;microbenchmark&lt;/a&gt;,
      &lt;a href=&#34;https://github.com/braverock/blotter/&#34;&gt;blotter&lt;/a&gt;,
      &lt;a href=&#34;https://github.com/braverock/quantstrat/&#34;&gt;quantstrat&lt;/a&gt;,
      etc.), you can give back by &lt;a href=&#34;https://github.com/sponsors/joshuaulrich/&#34;&gt;sponsoring me on GitHub&lt;/a&gt;. I truly appreciate anything you&amp;rsquo;re willing and able to give!&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>Streaming Market Data with TimeBase</title>
      <link>https://blog.fosstrading.com/2023/06/streaming-data-with-timebase/</link>
      <pubDate>Mon, 19 Jun 2023 12:14:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2023/06/streaming-data-with-timebase/</guid>
      <description>&lt;p&gt;This is the first post of a series on using &lt;a href=&#34;https://timebase.info/&#34;&gt;TimeBase&lt;/a&gt; to stream real-time market data. TimeBase is a high performance event-based time series database and message broker. I used it on a proprietary trading desk that made markets in futures, and currently use it to build and test equity trading strategies. It was &lt;a href=&#34;https://github.com/finos/TimeBase-CE/&#34;&gt;released as open-source&lt;/a&gt; in February 2021.&lt;/p&gt;
&lt;h3 id=&#34;preface&#34;&gt;Preface&lt;/h3&gt;
&lt;p&gt;I am not affiliated with the company that created and maintains TimeBase (Deltix, now EPAM). I&amp;rsquo;m not currently compensated by them in any way for promoting their product. I&amp;rsquo;m merely a happy user who is excited that TimeBase is open source and I can show you how to do some cool stuff with it.&lt;/p&gt;
&lt;h3 id=&#34;whats-your-problem&#34;&gt;What&amp;rsquo;s Your Problem?&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://timebase.info/&#34;&gt;TimeBase&lt;/a&gt; addresses several key needs in automated trading. You need to process large amounts of real-time market data. This includes trades, best bid/offer, and/or the entire limit order book. You use this data to calculate indicators/features, determine when and where to place orders, monitoring unrealized P&amp;amp;L, and monitoring/managing risk of your positions.&lt;/p&gt;
&lt;p&gt;All data in the trading system needs to be processed quickly and absolutely must be processed in strict time order. This is not trivial when you need to interleave data from multiple sources (e.g. exchanges and the trading system itself).
The &lt;a href=&#34;https://medium.com/prooftrading/proof-engineering-the-algorithmic-trading-platform-b9c2f195433d#d545&#34;&gt;System Architecture&lt;/a&gt; section of &amp;ldquo;The Algorithmic Trading Platform&amp;rdquo; by Prerak Sanghvi describes the benefits of using a strictly time-sequenced stream of events. To summarize:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Synchronized: every system component always receives the same data in the same order.&lt;/li&gt;
&lt;li&gt;Observable: the system is deterministic and can be debugged offline by replaying the data.&lt;/li&gt;
&lt;li&gt;Auditable: You can re-create the state of the system at any point in time.&lt;/li&gt;
&lt;li&gt;Streamlined: Tasks like logging and persisting to disk can be delegated to components that are off the critical path.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The data also needs be stored for analysis and debugging. Analysis includes things like running backtests, post-trade evaluation, and investigating market behavior. &lt;a href=&#34;https://medium.com/prooftrading/selecting-a-database-for-an-algorithmic-trading-system-2d25f9648d02&#34;&gt;&amp;ldquo;Selecting a Database for an Algorithmic Trading System&amp;rdquo;
&lt;/a&gt; by Prerak Sanghvi discusses the necessary components of a time-series database for algorithmic trading. To summarize:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Fast data ingest: millions of records per second (quote data can be 100+ million records per day)&lt;/li&gt;
&lt;li&gt;Ability to process large amounts of historical data for patterns and trends&lt;/li&gt;
&lt;li&gt;Time series operations and real-time analytics (e.g. window functions, aggregations, as-of joins)&lt;/li&gt;
&lt;li&gt;Expressive query language&lt;/li&gt;
&lt;li&gt;Optimized on-disk layout&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;timebase-vs-alternatives&#34;&gt;TimeBase vs Alternatives&lt;/h3&gt;
&lt;p&gt;Why use TimeBase instead of other open-source projects like &lt;a href=&#34;https://www.rabbitmq.com/&#34;&gt;RabbitMQ&lt;/a&gt;, &lt;a href=&#34;https://kafka.apache.org/&#34;&gt;Kafka&lt;/a&gt;, &lt;a href=&#34;https://www.influxdata.com/&#34;&gt;InfluxDB&lt;/a&gt;, &lt;a href=&#34;https://www.timescale.com/&#34;&gt;TimeScaleDB&lt;/a&gt;, or &lt;a href=&#34;https://clickhouse.com/&#34;&gt;ClickHouse&lt;/a&gt;? The main reason is that TimeBase is both a &lt;a href=&#34;https://en.wikipedia.org/wiki/Message_broker&#34;&gt;message broker&lt;/a&gt; &lt;em&gt;and&lt;/em&gt; a &lt;a href=&#34;https://en.wikipedia.org/wiki/Time_series_database&#34;&gt;time-series database&lt;/a&gt;. The TimeBase website has its own &lt;a href=&#34;https://timebase.info/why-timebase/&#34;&gt;&amp;ldquo;Why TimeBase&amp;rdquo; page&lt;/a&gt; and pages that compare popular &lt;a href=&#34;https://timebase.info/why-timebase/tsdb-comparison.html&#34;&gt;time-series databases&lt;/a&gt; and &lt;a href=&#34;https://timebase.info/why-timebase/message-brokers-comparison.html&#34;&gt;message brokers&lt;/a&gt;. Here&amp;rsquo;s a summary of the benefits of TimeBase from those pages:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Based on configuration, it supports microsecond latencies or the ability to handle millions of messages per second on commodity hardware.&lt;/li&gt;
&lt;li&gt;Enforces stream schemas with heterogeneous and potentially complex &lt;a href=&#34;https://kb.timebase.info/community/overview/messages&#34;&gt;message structures&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;The same &lt;a href=&#34;https://kb.timebase.info/community/development/libs&#34;&gt;APIs&lt;/a&gt; can be used to stream real-time data &lt;em&gt;and&lt;/em&gt; replay historical data.&lt;/li&gt;
&lt;li&gt;Able to &lt;a href=&#34;https://kb.timebase.info/community/technology/replication/replication_intro&#34;&gt;replicate data&lt;/a&gt; to other TimeBase instances or applications.&lt;/li&gt;
&lt;li&gt;The open-source community edition has multiple crypto exchange data connectors. The enterprise edition has 50+ built-in data connectors.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;timebase-structure&#34;&gt;TimeBase Structure&lt;/h3&gt;
&lt;p&gt;This is a high-level summary of the &lt;a href=&#34;https://timebase.info/architecture.html&#34;&gt;TimeBase architecture page&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Data connectors&lt;/strong&gt; handle connecting to external data sources and translating their data into the TimeBase format. There are many open source &lt;a href=&#34;https://github.com/epam/TimebaseCryptoConnectors&#34;&gt;crypto exchange data connectors&lt;/a&gt;. The enterprise edition has another 50+ data connectors to all major exchanges and many data vendors.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;The message broker&lt;/strong&gt; provides a &lt;a href=&#34;https://en.wikipedia.org/wiki/Publish%E2%80%93subscribe_pattern&#34;&gt;publish/subscribe&lt;/a&gt; pattern to write/read streaming data. The data is processed via readers and writers to &lt;a href=&#34;https://kb.timebase.info/community/overview/streams&#34;&gt;streams&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Writers can only write to one stream. Readers can consume multiple streams simultaneously and the messages from every stream are interleaved so that every message consumed is always in guaranteed time order regardless of which stream they come from. It is extremely important that every consumer receives data strictly sequenced by time!&lt;/p&gt;
&lt;p&gt;There are two types of streams, durable and transient. Durable streams are persisted to disk. Transient streams are only in memory and can be &lt;em&gt;lossy&lt;/em&gt; or &lt;em&gt;lossless&lt;/em&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Writers to &lt;em&gt;lossy&lt;/em&gt; streams are not blocked by slow readers, so slow readers may not receive every message but always receive the next available message once they finish processing a message.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Writers to &lt;em&gt;lossless&lt;/em&gt; streams are blocked by slow readers, so every reader always receives every message and every reader can only process data as fast as the slowest reader.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;The database&lt;/strong&gt; handles reading/writing data from/to disk, importing and exporting data, replicating data to other applications, and can aggregate data to regular bars. It has a query language (&lt;a href=&#34;https://kb.timebase.info/community/development/qql/QQL%205.5/qql-tut-intro&#34;&gt;QQL&lt;/a&gt;) you can use to extract, filter, aggregate, and transform data in streams.&lt;/p&gt;
&lt;p&gt;There&amp;rsquo;s also an open-source &lt;a href=&#34;https://kb.timebase.info/community/development/tools/Web%20Admin/admin_config_ce&#34;&gt;Web Administrator&lt;/a&gt; you can use to manipulate streams (create, delete, edit, import/export). It also allows you to view data, including monitoring live data streaming in to the database.&lt;/p&gt;
&lt;h3 id=&#34;whats-next&#34;&gt;What&amp;rsquo;s Next?&lt;/h3&gt;
&lt;p&gt;Later posts in this series will cover at least the topics below. Please leave a comment or contact me with any other things you would like to see!&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Building and running TimeBase from source/Docker&lt;/li&gt;
&lt;li&gt;Building and running the Web Administrator from source/Docker&lt;/li&gt;
&lt;li&gt;Setting up a data connector&lt;/li&gt;
&lt;li&gt;Introduction to the Web Administrator (viewing/monitoring data, import/export)&lt;/li&gt;
&lt;li&gt;Introduction to QQL, the quant query language&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Thanks to &lt;a href=&#34;https://robotjames.com/&#34;&gt;TheRobotJames&lt;/a&gt; for helpful feedback, and to &lt;a href=&#34;https://twitter.com/gestaltu&#34;&gt;Adam Butler&lt;/a&gt; for encouraging me to write more!&lt;/p&gt;
&lt;div class=&#34;container&#34; role=&#34;main&#34;&gt;
  &lt;div class=&#34;row&#34;&gt;
    &lt;h3&gt;Other Posts in this TimeBase Series&lt;/h3&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&#34;../streaming-data-with-timebase&#34;&gt;Streaming Market Data with TimeBase&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&#34;../running-timebase-in-docker&#34;&gt;Running TimeBase in Docker&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;div class=&#34;container&#34; role=&#34;main&#34;&gt;
  &lt;div class=&#34;row&#34;&gt;
    &lt;hr&gt;
    &lt;p&gt;If you love using my open-source work (e.g.
      &lt;a href=&#34;https://cran.r-project.org/package=quantmod&#34;&gt;quantmod&lt;/a&gt;,
      &lt;a href=&#34;https://cran.r-project.org/package=TTR&#34;&gt;TTR&lt;/a&gt;,
      &lt;a href=&#34;https://cran.r-project.org/package=xts&#34;&gt;xts&lt;/a&gt;,
      &lt;a href=&#34;https://cran.r-project.org/package=IBrokers&#34;&gt;IBrokers&lt;/a&gt;,
      &lt;a href=&#34;https://cran.r-project.org/package=microbenchmark&#34;&gt;microbenchmark&lt;/a&gt;,
      &lt;a href=&#34;https://github.com/braverock/blotter/&#34;&gt;blotter&lt;/a&gt;,
      &lt;a href=&#34;https://github.com/braverock/quantstrat/&#34;&gt;quantstrat&lt;/a&gt;,
      etc.), you can give back by &lt;a href=&#34;https://github.com/sponsors/joshuaulrich/&#34;&gt;sponsoring me on GitHub&lt;/a&gt;. I truly appreciate anything you&amp;rsquo;re willing and able to give!&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;

</description>
    </item>
    
    <item>
      <title>getSymbols Rebooted</title>
      <link>https://blog.fosstrading.com/2023/05/getsymbols-rebooted/</link>
      <pubDate>Mon, 22 May 2023 10:14:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2023/05/getsymbols-rebooted/</guid>
      <description>&lt;p&gt;quantmod and &lt;code&gt;getSymbols()&lt;/code&gt; have been a core part of the R/Finance ecosystem for over 15 years. We want to change some things, but they would break existing code. We can make these changes in the new &lt;a href=&#34;https://github.com/joshuaulrich/rfimport/&#34;&gt;&amp;lsquo;rfimport&amp;rsquo;&lt;/a&gt; package instead.&lt;/p&gt;
&lt;h3 id=&#34;background&#34;&gt;Background&lt;/h3&gt;
&lt;p&gt;The quantmod package has been a core part of the R/Finance ecosystem for over 15 years. It&amp;rsquo;s awesome that the package is so popular, but that also comes with responsibility to maintain backward compatibility. Breaking changes may break code used for making business decisions, research, production, blog posts, books, courses, answers on &lt;a href=&#34;https://stackoverflow.com&#34;&gt;stackoverflow&lt;/a&gt;, and much more. We take this responsibility seriously, and do our best to keep functions backward compatible. Sometimes breaking changes are necessary (e.g. bug fixes, changes to external data sources, etc.), but we do our best to make them carefully, with plenty of warning and lead time for users to adjust their code.&lt;/p&gt;
&lt;h3 id=&#34;motivation&#34;&gt;Motivation&lt;/h3&gt;
&lt;p&gt;There are things in quantmod that we want to change, but they would certainly break existing code. No matter how much we&amp;rsquo;d like to make those changes, we can&amp;rsquo;t justify breaking a large portion of the code our community has written in the past 15+ years.&lt;/p&gt;
&lt;p&gt;We can create a new package instead of making these changes in quantmod. &lt;a href=&#34;https://github.com/joshuaulrich/rfimport/&#34;&gt;&amp;lsquo;rfimport&amp;rsquo;&lt;/a&gt; is where we will work on new implementations that improve on the pieces in &lt;code&gt;getSymbols()&lt;/code&gt; that we would like to change. This code is &lt;em&gt;extremely alpha&lt;/em&gt;. This is the time to provide feedback, suggestions, feature requests, etc. Know that we will break things, maybe without warning. You should consider the API unstable until the 1.0.0 release.&lt;/p&gt;
&lt;h3 id=&#34;refresher-on-how-getsymbols-works&#34;&gt;Refresher on how &lt;code&gt;getSymbols()&lt;/code&gt; works&lt;/h3&gt;
&lt;p&gt;By default &lt;code&gt;getSymbols()&lt;/code&gt; creates objects in the environment it&amp;rsquo;s called from, and it returns the value of the &lt;code&gt;Symbols&lt;/code&gt; argument. It&amp;rsquo;s good practice for functions to avoid changing anything in the user&amp;rsquo;s environment (this is called having side-effects). It&amp;rsquo;s better for functions to only return a value, like &lt;code&gt;getSymbols(..., auto.assign = FALSE)&lt;/code&gt; does. &lt;code&gt;getSymbols()&lt;/code&gt; does not support &lt;code&gt;auto.assign = FALSE&lt;/code&gt; for more than one symbol.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;getSymbols()&lt;/code&gt; also uses functionality that was formerly provided by the archived &lt;a href=&#34;https://cran.r-project.org/package=Defaults&#34;&gt;&amp;lsquo;Defaults&amp;rsquo;&lt;/a&gt; package. This functionality allows users to set default values for &lt;code&gt;getSymbols()&lt;/code&gt; source method arguments (e.g. &lt;code&gt;return.class = &amp;quot;data.frame&amp;quot;&lt;/code&gt;). This is also a side-effect because it makes &lt;code&gt;getSymbols()&lt;/code&gt; depend on something other than argument values.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;getSymbols()&lt;/code&gt; specifies the data sources via its &lt;code&gt;src&lt;/code&gt; argument, and uses the &lt;code&gt;src&lt;/code&gt; argument to determine which source method to use (e.g. &lt;code&gt;getSymbols(&amp;quot;SPY&amp;quot;, src = &amp;quot;yahoo&amp;quot;)&lt;/code&gt; will call &lt;code&gt;getSymbols.yahoo(&amp;quot;SPY&amp;quot;)&lt;/code&gt; behind the scenes). This is essentially method dispatch, but done manually rather than using R&amp;rsquo;s built-in S3 functionality.&lt;/p&gt;
&lt;h1 id=&#34;what-weve-learned&#34;&gt;What we&amp;rsquo;ve learned&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;We should avoid the side-effect of creating objects in the calling environment.&lt;/li&gt;
&lt;li&gt;Data sources should use S3 method dispatch, and documentation needs to be easier to find.&lt;/li&gt;
&lt;li&gt;Stock ticker symbology is a pain and we need a better way to handle it.&lt;/li&gt;
&lt;li&gt;We need a way to provide functionality like the &lt;a href=&#34;https://cran.r-project.org/package=Defaults&#34;&gt;&amp;lsquo;Defaults&amp;rsquo;&lt;/a&gt; package did, but without side-effects.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;1-automatically-creating-objects&#34;&gt;1. Automatically creating objects&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;getSymbols()&lt;/code&gt; creates an object for every value in the &lt;code&gt;Symbols&lt;/code&gt; argument. This isn&amp;rsquo;t an issue for a few symbols, but it clutters the environment when there are several hundred symbols. You can load all the symbols into a separate environment, but that&amp;rsquo;s not a pattern most users are familiar with.&lt;/p&gt;
&lt;p&gt;We wanted to remove the ability to load objects into the calling environment, and even created a warning about changing &lt;code&gt;auto.assign = FALSE&lt;/code&gt; as the default for &lt;code&gt;getSymbols()&lt;/code&gt; and recommending users replace their &lt;code&gt;getSymbols()&lt;/code&gt; call with the &lt;code&gt;loadSymbols()&lt;/code&gt; function that already exists. But we ultimately decided breaking the community&amp;rsquo;s code wasn&amp;rsquo;t worth it.&lt;/p&gt;
&lt;p&gt;Automatically creating objects makes it cumbersome to put prices for all symbols into one object. This is a common use case and there are several steps. It should be possible with one or two function calls. Here&amp;rsquo;s an example.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;n&#34;&gt;symbols&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;SPY&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;AAPL&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;getSymbols&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;symbols&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Put all the prices into one xts object,&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;prices&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;do.call&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;merge&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;lapply&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;symbols&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# or&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;prices&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;do.call&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;merge&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;mget&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;symbols&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Extract only the Close prices&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;close_prices&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Cl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;prices&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Remove &amp;#34;.Close&amp;#34; suffix so close_prices[, &amp;#34;SPY&amp;#34;] works&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;colnames&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;close_prices&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;sub&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;.Close&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;colnames&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;close_prices&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Automatically creating objects also makes passing all the data to another function awkward. It causes users to do things like:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Call &lt;code&gt;getSymbols()&lt;/code&gt; in any function that needs data, which may mean the same data is imported multiple times.&lt;/li&gt;
&lt;li&gt;Pass the same &lt;code&gt;symbols&lt;/code&gt; object to &lt;code&gt;getSymbols()&lt;/code&gt; and the other function. Then the other function searches through environments to find the objects with named with those &lt;code&gt;symbols&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Users could put all the data in an environment and use that as an argument to the function, but I haven&amp;rsquo;t seen many people use this pattern.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;2-data-source-methods&#34;&gt;2. Data source methods&lt;/h3&gt;
&lt;p&gt;Different &lt;code&gt;getSymbols()&lt;/code&gt; source methods can (or may need to) have different arguments. Ideally the source methods wouldn&amp;rsquo;t be exported because users shouldn&amp;rsquo;t call them directly (users should call &lt;code&gt;getSymbols(&amp;quot;SPY&amp;quot;, src = &amp;quot;yahoo&amp;quot;)&lt;/code&gt; instead of &lt;code&gt;getSymbols.yahoo(&amp;quot;SPY&amp;quot;)&lt;/code&gt;). It&amp;rsquo;s hard to find documentation for unexported functions, which means it&amp;rsquo;s hard to know what arguments are available for each source method.&lt;/p&gt;
&lt;p&gt;The source methods are named like S3 methods even though &lt;code&gt;getSymbols()&lt;/code&gt; isn&amp;rsquo;t a generic function and the source methods aren&amp;rsquo;t actual S3 methods. This has the potential to create odd behavior that would confuse users.&lt;/p&gt;
&lt;h3 id=&#34;3-ticker-symbology&#34;&gt;3. Ticker symbology&lt;/h3&gt;
&lt;p&gt;There are two major issues with ticker symbols.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Exchanges and data providers sometimes use different ticker symbols for the same security.&lt;/li&gt;
&lt;li&gt;Some ticker symbols are not valid R object names.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Another issue is when the ticker symbol is similar to the name of one of the price columns. This has come up several times with Lowe&amp;rsquo;s (LOW). The &lt;code&gt;Lo()&lt;/code&gt; and &lt;code&gt;OHLC()&lt;/code&gt; functions think all of the columns with the ticker symbol in the column name are the low price for the period.&lt;/p&gt;
&lt;h4 id=&#34;same-security-different-ticker&#34;&gt;Same security, different ticker&lt;/h4&gt;
&lt;p&gt;This isn&amp;rsquo;t &lt;code&gt;getSymbols()&lt;/code&gt;&amp;rsquo;s fault and it&amp;rsquo;s out of our control, but it could be handled better. Exchange and data source symbology is awful. Identifiers for the same series are often different across exchanges and data providers. For example: the symbol for Berkshire Hathaway B-class shares is &amp;ldquo;BRK-B&amp;rdquo; for Yahoo Finance, &amp;ldquo;BRK/B&amp;rdquo; for the SIP (Securities Information Processor), &amp;ldquo;BRK B&amp;rdquo; for ICE, and probably &amp;ldquo;BRK.B&amp;rdquo; somewhere else.&lt;/p&gt;
&lt;p&gt;This is a difficult problem and will likely take a lot of effort to get right. Therefore it won&amp;rsquo;t be a high priority initially.&lt;/p&gt;
&lt;h4 id=&#34;invalid-r-object-names&#34;&gt;Invalid R object names&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;getSymbols()&lt;/code&gt; tries to create objects with valid R names, but only does so for &lt;em&gt;some&lt;/em&gt; symbols that aren&amp;rsquo;t valid R object names. For example, &lt;code&gt;BRK-B&lt;/code&gt;, &lt;code&gt;BRK B&lt;/code&gt;, and &lt;code&gt;BRK/B&lt;/code&gt; aren&amp;rsquo;t valid R objects names because valid names start with a letter or a dot (&lt;code&gt;.&lt;/code&gt;), and can only contain letters, numbers, a dot, or an underscore.&lt;/p&gt;
&lt;p&gt;Here are some common examples of ticker symbology woes:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;^DJI&lt;/code&gt; isn&amp;rsquo;t a valid R object name because it starts with &lt;code&gt;^&lt;/code&gt;. So &lt;code&gt;getSymbols()&lt;/code&gt; creates an object with the &lt;code&gt;^&lt;/code&gt; removed. But then you can&amp;rsquo;t use the code below to put all the prices into one object. Also notice that &lt;code&gt;getSymbols()&lt;/code&gt; &lt;em&gt;returns&lt;/em&gt; &lt;code&gt;&amp;quot;^DJI&amp;quot;&lt;/code&gt; even though it creates an object with a different name.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;n&#34;&gt;symbols&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;^DJI&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;BRK-B&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;getSymbols&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;symbols&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## [1] &amp;#34;^DJI&amp;#34; &amp;#34;BRK-B&amp;#34;&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;prices&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;do.call&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;merge&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;mget&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;symbols&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Error: value for &amp;#39;^DJI&amp;#39; not found&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;You have to remove the leading &lt;code&gt;^&lt;/code&gt; manually. And you have to set &lt;code&gt;fixed = TRUE&lt;/code&gt; in the call to &lt;code&gt;sub()&lt;/code&gt; because &lt;code&gt;^&lt;/code&gt; is a special character in regular expressions. &lt;em&gt;Sigh&lt;/em&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;n&#34;&gt;prices&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;do.call&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;merge&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;mget&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;sub&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;^&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;symbols&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;fixed&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;TRUE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Recall that &lt;code&gt;BRK-B&lt;/code&gt; also isn&amp;rsquo;t a valid R name because of the &lt;code&gt;-&lt;/code&gt;. But it wasn&amp;rsquo;t an issue in the code above because &lt;code&gt;getSymbols()&lt;/code&gt; made an object named &lt;code&gt;BRK-B&lt;/code&gt;, not an object with a valid R name. This is confusing for users because they can&amp;rsquo;t easily access that object (i.e. &lt;code&gt;head(BRK-B)&lt;/code&gt; is an error). This is a pervasive issue for several foreign exchanges with tickers that begin with numbers (e.g. &lt;code&gt;000001.SZ&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;Another issue with symbols that aren&amp;rsquo;t valid R object names is that many R functions will convert column names into valid R object names, including &lt;code&gt;merge.xts()&lt;/code&gt;. So you can&amp;rsquo;t use the input symbol to subset the resulting xts object. Here&amp;rsquo;s an example:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Extract the close prices and remove &amp;#34;.Close&amp;#34; suffix&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;close_prices&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Cl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;prices&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;colnames&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;close_prices&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;sub&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;.Close&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;colnames&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;close_prices&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Extract the close price for &amp;#34;BRK-B&amp;#34;&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;close_prices[&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;BRK-B&amp;#34;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Error in `[.xts`(close_prices, , &amp;#34;BRK-B&amp;#34;) : subscript out of bounds&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;colnames&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;close_prices&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## [1] &amp;#34;DJI&amp;#34;   &amp;#34;BRK.B&amp;#34;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;setSymbolLookup()&lt;/code&gt; exists to help with things like this, but it&amp;rsquo;s another function users have to learn to use and my experience is that most users don&amp;rsquo;t know about &lt;code&gt;setSymbolLookup()&lt;/code&gt;. I just had to look at the source to figure out how to use it to make &lt;code&gt;getSymbols()&lt;/code&gt; return a valid R object for &lt;code&gt;&amp;quot;BRK-B&amp;quot;&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;nf&#34;&gt;setSymbolLookup&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;BRK.B&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;list&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;name&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;BRK-B&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;src&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;yahoo&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;If I have to look at the source code to figure out how to do this, users don&amp;rsquo;t have a chance. You may think, &amp;ldquo;but you could document how to do this&amp;rdquo;, but writing documentation isn&amp;rsquo;t fun. And who reads the documentation anyway? ;-)&lt;/p&gt;
&lt;h3 id=&#34;4-defaults-functionality&#34;&gt;4. &amp;lsquo;Defaults&amp;rsquo; functionality&lt;/h3&gt;
&lt;p&gt;The &amp;lsquo;Defaults&amp;rsquo; functionality in quantmod comes from the archived &lt;a href=&#34;https://cran.r-project.org/package=Defaults&#34;&gt;&amp;lsquo;Defaults&amp;rsquo;&lt;/a&gt; package. This functionality allows users to set new default argument values to any &lt;code&gt;getSymbols()&lt;/code&gt; source function. This is helpful because it makes importing easier. But it means &lt;code&gt;getSymbols()&lt;/code&gt; relies on something other than its parameter values, and it&amp;rsquo;s good practice to avoid side-effects like this.&lt;/p&gt;
&lt;p&gt;This gave users the ability to set preferences like return class, periodicity (e.g. hourly, daily, monthly), connection settings (e.g. credentials, API keys).&lt;/p&gt;
&lt;h1 id=&#34;rfimport-design-and-features&#34;&gt;&amp;lsquo;rfimport&amp;rsquo; design and features&lt;/h1&gt;
&lt;p&gt;The design of &lt;a href=&#34;https://github.com/joshuaulrich/rfimport/&#34;&gt;&amp;lsquo;rfimport&amp;rsquo;&lt;/a&gt; is influenced by the &lt;a href=&#34;https://cran.r-project.org/web/packages/DBI/index.html&#34;&gt;&lt;code&gt;DBI&lt;/code&gt;&lt;/a&gt; package, which provides a set of generic &amp;lsquo;database interface&amp;rsquo; functions. Users create connection objects by creating a &amp;lsquo;driver&amp;rsquo; object for the specific database and passing that to &lt;code&gt;dbConnect()&lt;/code&gt;. Then you pass that connection object to the other &lt;code&gt;DBI&lt;/code&gt; functions. For example, to query an execute a statement for a PostgreSQL database:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;nf&#34;&gt;library&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;RPostgreSQL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;driver&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;PostgreSQL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;conn&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;DBI&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;::&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;dbConnect&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;driver&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;student_count&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;DBI&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;::&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;dbGetQuery&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;conn&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;select count(*) from students&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The &lt;a href=&#34;https://github.com/joshuaulrich/rfimport/&#34;&gt;&amp;lsquo;rfimport&amp;rsquo;&lt;/a&gt; &lt;code&gt;sym_yahoo()&lt;/code&gt; function corresponds to the &lt;code&gt;PostgreSQL()&lt;/code&gt; function in the example above. And the &lt;code&gt;import_ohlc()&lt;/code&gt; function pulls the data like &lt;code&gt;DBI::dbGetQuery()&lt;/code&gt;. For example:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;nf&#34;&gt;library&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;rfimport&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# The sym_* functions are a combination of the&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# driver, connection, and query in DBI&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;syms&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;sym_yahoo&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;SPY&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Import some data from Yahoo Finance&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;spy&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;import_ohlc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;syms&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;symbol-specification&#34;&gt;Symbol specification&lt;/h3&gt;
&lt;p&gt;The package introduces a new virtual S3 class &lt;code&gt;&amp;quot;symbol_spec&amp;quot;&lt;/code&gt; as the basis for creating sub-classes that hold all necessary information to connect to a data source. This virtual class allows users to combine symbols from different data sources into a single vector. For example: &lt;code&gt;import_collection(c(sym_yahoo(&amp;quot;SPY&amp;quot;), sym_tiingo(&amp;quot;DIA&amp;quot;)))&lt;/code&gt; will import data for &amp;ldquo;SPY&amp;rdquo; from &lt;a href=&#34;https://finance.yahoo.com/&#34;&gt;Yahoo Finance&lt;/a&gt; and data for &amp;ldquo;DIA&amp;rdquo; from &lt;a href=&#34;https://www.tiingo.com/&#34;&gt;Tiingo&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Each data source will have its own &lt;code&gt;symbol_spec&lt;/code&gt; constructor. The constructor will have an argument for the vector of symbols and other arguments for all the other data source connection settings. It will return an object that inherits from the new virtual &lt;code&gt;symbol_spec&lt;/code&gt; For example &lt;code&gt;sym_yahoo()&lt;/code&gt; will return a &lt;code&gt;c(&amp;quot;yahoo&amp;quot;, &amp;quot;symbol_spec&amp;quot;)&lt;/code&gt; class vector.&lt;/p&gt;
&lt;p&gt;The help page for the symbol spec constructors can also document the import methods that the data source supports. So &lt;code&gt;help(&amp;quot;sym_yahoo&amp;quot;)&lt;/code&gt; would also contain information about &lt;code&gt;import_ohlc.yahoo()&lt;/code&gt; and &lt;code&gt;import_collection.yahoo()&lt;/code&gt;. That way, users don&amp;rsquo;t need to know the name of the data source method in order to find its documentation.&lt;/p&gt;
&lt;h3 id=&#34;ticker-symbology&#34;&gt;Ticker symbology&lt;/h3&gt;
&lt;p&gt;The package would standardize how index tickers are specified. One possibility is to prefix the ticker with an &lt;code&gt;i&lt;/code&gt; or &lt;code&gt;i_&lt;/code&gt; (e.g. &lt;code&gt;iDJI&lt;/code&gt; or &lt;code&gt;i_DJI&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;It would also standardize how to specify share classes, warrants, preferred, etc. One possibility is to use an underscore to identify share classes, a lowercase &amp;lsquo;w&amp;rsquo; for warrants, and a lowercase &amp;lsquo;p&amp;rsquo; for preferred. For example, &lt;code&gt;BRK_B&lt;/code&gt; for Berkshire Hathaway B shares, &lt;code&gt;FOOw&lt;/code&gt; for warrants, &lt;code&gt;BARp&lt;/code&gt; for preferred. We could also include a translation table and/or function. This would take a lot of effort to do correctly.&lt;/p&gt;
&lt;p&gt;An easier alternative would be creating a way to map source symbols to user-defined values. It makes the most sense to do this is the &lt;code&gt;sym_&amp;lt;source&amp;gt;()&lt;/code&gt; constructor. But how should the mapping be specified? Some possibilities:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;sym_yahoo(BRK.B = list(symbol = &amp;quot;BRK-B&amp;quot;))&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sym_yahoo(c(BRK.B = &amp;quot;BRK-B&amp;quot;, &amp;quot;DIA&amp;quot;))&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sym_yahoo(c(&amp;quot;BRK.B&amp;quot;, &amp;quot;DIA&amp;quot;), sym_db = list(BRK.B = &amp;quot;BRK-B&amp;quot;))&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;generic-import-functions&#34;&gt;Generic import functions&lt;/h3&gt;
&lt;p&gt;The package will have generic functions &lt;code&gt;import_ohlc()&lt;/code&gt; and &lt;code&gt;import_collection()&lt;/code&gt; to dispatch on &lt;code&gt;symbol_spec&lt;/code&gt; sub-classes. &lt;code&gt;import_ohlc()&lt;/code&gt; only handles a single symbol and returns one xts object. &lt;code&gt;import_collection()&lt;/code&gt; will return a list of xts objects for one or more symbols.&lt;/p&gt;
&lt;p&gt;Other generic import functions may be added in the future. It may make sense to include generic &lt;code&gt;import&lt;/code&gt; functions that return specific types of data. For example: &lt;code&gt;import_ohlc()&lt;/code&gt; for open, high, low, close, (adjusted, volume), and &lt;code&gt;import_bbo()&lt;/code&gt; for best bid and offer.&lt;/p&gt;
&lt;p&gt;The generics will have a &lt;code&gt;symbol_spec&lt;/code&gt;, &lt;code&gt;dates&lt;/code&gt;, &lt;code&gt;periodicity&lt;/code&gt;, and &lt;code&gt;...&lt;/code&gt; arguments.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;dates&lt;/code&gt; can be either an ISO 8601 date interval (e.g. &lt;code&gt;dates = &amp;quot;2021-01-01/2021-12-31&amp;quot;&lt;/code&gt;) or a two-element vector with the start and end dates (e.g. &lt;code&gt;dates = c(&amp;quot;2021-01-01&amp;quot;, &amp;quot;2021-12-31&amp;quot;)&lt;/code&gt;). The vector can be Date, POSIXct, or a character that is coercible to one of those two classes.&lt;/p&gt;
&lt;p&gt;For example:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# one symbol returned as an xts object&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;spy&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;import_ohlc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;sym_yahoo&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;SPY&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dates&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;2021/2022&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# two symbols returned as a list of xts objects&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;stocks&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;sym_tiingo&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;AAPL&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;NFLX&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;|&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nf&#34;&gt;import_collection&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dates&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;2021-03-01/2022-11-31&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The &lt;code&gt;periodicity&lt;/code&gt; argument specifies the interval between data points (e.g. daily, monthly, 15-minute). The data source determines the possible periodicity values, so the data source method is responsible for ensuring the requested periodicity value is available from the data source. &lt;a href=&#34;https://github.com/joshuaulrich/rfimport/&#34;&gt;&amp;lsquo;rfimport&amp;rsquo;&lt;/a&gt; will provide a standard way to specify the periodicity values. Then the source methods can translate those values into the value source needs. For example, one data source may use &amp;ldquo;monthly&amp;rdquo; for monthly data and another may use &amp;ldquo;months&amp;rdquo;. Users would set &lt;code&gt;periodicity = &amp;quot;months&amp;quot;&lt;/code&gt; for either source and the source method would translate the value to &amp;ldquo;monthly&amp;rdquo;.&lt;/p&gt;
&lt;h3 id=&#34;data-source-methods&#34;&gt;Data source methods&lt;/h3&gt;
&lt;p&gt;Each data source will have a S3 method for the relevant import generics, rather than a &lt;code&gt;src&lt;/code&gt; argument like &lt;code&gt;getSymbols()&lt;/code&gt;. Calling &lt;code&gt;import_ohlc(sym_yahoo(&amp;quot;SPY&amp;quot;))&lt;/code&gt; will call the corresponding &lt;code&gt;import_ohlc.yahoo()&lt;/code&gt; method to import data from &lt;a href=&#34;https://finance.yahoo.com&#34;&gt;Yahoo Finance&lt;/a&gt;. &lt;code&gt;import_ohlc(sym_tiingo(&amp;quot;DIA&amp;quot;))&lt;/code&gt; will call &lt;code&gt;import_ohlc.tiingo()&lt;/code&gt; to import data from &lt;a href=&#34;https://api.tiingo.com/&#34;&gt;Tiingo&lt;/a&gt;.&lt;/p&gt;
&lt;h4 id=&#34;returned-data&#34;&gt;Returned data&lt;/h4&gt;
&lt;p&gt;The built-in data source methods will automatically include dividends and splits (when available) for daily OHLCV data. They will be included as attributes on the returned OHLCV object. This will allow users to switch between adjusted and unadjusted prices without having to re-download the data.&lt;/p&gt;
&lt;p&gt;The built-in data sources methods also will not include the series symbol in the OHLCV column names like &lt;code&gt;getSymbols()&lt;/code&gt; currently does. It may make sense to include an attribute with the &amp;ldquo;source symbol&amp;rdquo; and the &amp;ldquo;R symbol&amp;rdquo; on the returned xts object (e.g. &lt;code&gt;src_symbol = &amp;quot;^DJI&amp;quot;&lt;/code&gt; and &lt;code&gt;r_symbol = &amp;quot;iDJI&amp;quot;)&lt;/code&gt;. Then that attribute can be used later as part of the column names.&lt;/p&gt;
&lt;h3 id=&#34;providing-defaults-functionality&#34;&gt;Providing &amp;lsquo;Defaults&amp;rsquo; functionality&lt;/h3&gt;
&lt;p&gt;Though we want to avoid side-effects, we probably want to provide a way to set credentials so they do not have to be provided for every import call.&lt;/p&gt;
&lt;p&gt;We could provide this functionality in a pure way by creating an &lt;code&gt;options&lt;/code&gt; object that holds a list of values. Users would create this object once and pass it to the relevant &lt;a href=&#34;https://github.com/joshuaulrich/rfimport/&#34;&gt;&amp;lsquo;rfimport&amp;rsquo;&lt;/a&gt; function (either &lt;code&gt;sym_&amp;lt;source&amp;gt;()&lt;/code&gt; or &lt;code&gt;import_ohlc()&lt;/code&gt;). The default options could be created by a function like &lt;code&gt;sym_&amp;lt;source&amp;gt;_options()&lt;/code&gt;. This would be similar to the &amp;lsquo;control&amp;rsquo; arguments to many optimization routines (e.g. &lt;code&gt;DEoptim.control()&lt;/code&gt;).&lt;/p&gt;
&lt;h1 id=&#34;open-questions-and-considerations&#34;&gt;Open questions and considerations&lt;/h1&gt;
&lt;h3 id=&#34;how-should-we-specify-the-class-of-the-returned-object&#34;&gt;How should we specify the class of the returned object?&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Set it via a &lt;code&gt;return_class&lt;/code&gt; argument in the &lt;code&gt;symbol_spec&lt;/code&gt; constructor&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;PRO: each source is likely to have a specific data structure, and it wouldn&amp;rsquo;t require creating a generic &lt;code&gt;import&lt;/code&gt; function for each return type.&lt;/li&gt;
&lt;li&gt;CON: allows the potential for one call to an &lt;code&gt;import_*_collection()&lt;/code&gt; function to return a list of heterogeneous objects.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Set it via a &lt;code&gt;return_class&lt;/code&gt; argument in the &lt;code&gt;import&lt;/code&gt; method&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;PRO: the method would return a list of objects that are all the same class.&lt;/li&gt;
&lt;li&gt;CON: the generic and/or the default &lt;code&gt;import&lt;/code&gt; method would need a &lt;code&gt;return_class&lt;/code&gt; argument.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Create a new generic &lt;code&gt;import&lt;/code&gt; functions for each return class&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;PRO: makes it clear what the &lt;code&gt;import&lt;/code&gt; function returns.&lt;/li&gt;
&lt;li&gt;CON: namespace clutter, don&amp;rsquo;t want generics for &lt;em&gt;every&lt;/em&gt; class. Possibly provide generics for most widely used non-xts classes: data.frame, data.table, tibble, tsibble.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The symbol specification can store a function that controls what data is returned. This doesn&amp;rsquo;t seem appealing because it adds complexity and the user could call that function after the data is returned. For example: &lt;code&gt;sym_yahoo(&amp;quot;SPY&amp;quot;, return_func = as.data.table)&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;how-can-we-make-it-easier-to-manipulate-results&#34;&gt;How can we make it easier to manipulate results?&lt;/h3&gt;
&lt;p&gt;The most common use case is making a wide xts object with close prices from a list of xts objects. This currently requires several steps that are likely unfamiliar to most users. It should be possible with one or two function calls. We can consider Garrett See&amp;rsquo;s &lt;a href=&#34;https://github.com/gsee/qmao&#34;&gt;qmao&lt;/a&gt; package for inspiration. For example, use &amp;lsquo;price frames&amp;rsquo; to replace &lt;code&gt;do.call(merge, list_of_xts_objects)&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;There are lots of other common manipulations, like aggregating to a higher periodicity or applying a function to many symbols&#39; data. The import functions will return something list-like, so users can use &lt;code&gt;lapply()&lt;/code&gt; to apply any other function to each series.&lt;/p&gt;
&lt;h1 id=&#34;i-need-your-help&#34;&gt;I need your help!&lt;/h1&gt;
&lt;p&gt;I don&amp;rsquo;t want to do this in a vacuum. Please try the new package, provide feedback, suggestions, feature requests, and help clarify documentation.&lt;/p&gt;
&lt;p&gt;I need to know how you&amp;rsquo;re using &lt;code&gt;getSymbols()&lt;/code&gt; and how you would use the new package. I&amp;rsquo;m not omniscient, so your feedback will be extremely valuable!&lt;/p&gt;
&lt;div class=&#34;container&#34; role=&#34;main&#34;&gt;
  &lt;div class=&#34;row&#34;&gt;
    &lt;hr&gt;
    &lt;p&gt;If you love using my open-source work (e.g.
      &lt;a href=&#34;https://cran.r-project.org/package=quantmod&#34;&gt;quantmod&lt;/a&gt;,
      &lt;a href=&#34;https://cran.r-project.org/package=TTR&#34;&gt;TTR&lt;/a&gt;,
      &lt;a href=&#34;https://cran.r-project.org/package=xts&#34;&gt;xts&lt;/a&gt;,
      &lt;a href=&#34;https://cran.r-project.org/package=IBrokers&#34;&gt;IBrokers&lt;/a&gt;,
      &lt;a href=&#34;https://cran.r-project.org/package=microbenchmark&#34;&gt;microbenchmark&lt;/a&gt;,
      &lt;a href=&#34;https://github.com/braverock/blotter/&#34;&gt;blotter&lt;/a&gt;,
      &lt;a href=&#34;https://github.com/braverock/quantstrat/&#34;&gt;quantstrat&lt;/a&gt;,
      etc.), you can give back by &lt;a href=&#34;https://github.com/sponsors/joshuaulrich/&#34;&gt;sponsoring me on GitHub&lt;/a&gt;. I truly appreciate anything you&amp;rsquo;re willing and able to give!&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>xts_0.13.1 on CRAN</title>
      <link>https://blog.fosstrading.com/2023/04/xts-0-13-1-on-cran/</link>
      <pubDate>Mon, 24 Apr 2023 10:54:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2023/04/xts-0-13-1-on-cran/</guid>
      <description>&lt;p&gt;An updated version of &lt;a href=&#34;http://cran.r-project.org/package=xts&#34;&gt;xts&lt;/a&gt; is now on &lt;a href=&#34;http://cran.r-project.org/&#34;&gt;CRAN&lt;/a&gt;. This release patches a few issues with the features added in version 0.13.0 and addresses a few maintenance issues that popped up recently.&lt;/p&gt;
&lt;h3 id=&#34;patches-for-features-added-in-0130&#34;&gt;Patches for features added in 0.13.0&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Format each column individually before printing. The top/bottom rows could have a different number of decimal places and there are often multiple varying spaces between columns. For example:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;                          &lt;span class=&#34;n&#34;&gt;close&lt;/span&gt;      &lt;span class=&#34;n&#34;&gt;volume&lt;/span&gt;          &lt;span class=&#34;n&#34;&gt;ma&lt;/span&gt;
&lt;span class=&#34;m&#34;&gt;2022-01-03&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;09&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;31&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;00&lt;/span&gt;     &lt;span class=&#34;m&#34;&gt;476.470&lt;/span&gt;  &lt;span class=&#34;m&#34;&gt;803961.000&lt;/span&gt;          &lt;span class=&#34;kc&#34;&gt;NA&lt;/span&gt;
&lt;span class=&#34;m&#34;&gt;2022-01-03&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;09&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;32&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;00&lt;/span&gt;     &lt;span class=&#34;m&#34;&gt;476.700&lt;/span&gt;  &lt;span class=&#34;m&#34;&gt;179476.000&lt;/span&gt;          &lt;span class=&#34;kc&#34;&gt;NA&lt;/span&gt;
&lt;span class=&#34;m&#34;&gt;2022-01-03&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;09&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;33&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;00&lt;/span&gt;     &lt;span class=&#34;m&#34;&gt;476.540&lt;/span&gt;  &lt;span class=&#34;m&#34;&gt;197919.000&lt;/span&gt;          &lt;span class=&#34;kc&#34;&gt;NA&lt;/span&gt;
                &lt;span class=&#34;kc&#34;&gt;...&lt;/span&gt;
&lt;span class=&#34;m&#34;&gt;2023-03-16&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;14&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;52&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;00&lt;/span&gt;    &lt;span class=&#34;m&#34;&gt;394.6000&lt;/span&gt;  &lt;span class=&#34;m&#34;&gt;46728.0000&lt;/span&gt;    &lt;span class=&#34;m&#34;&gt;392.8636&lt;/span&gt;
&lt;span class=&#34;m&#34;&gt;2023-03-16&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;14&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;53&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;00&lt;/span&gt;    &lt;span class=&#34;m&#34;&gt;394.6500&lt;/span&gt;  &lt;span class=&#34;m&#34;&gt;64648.0000&lt;/span&gt;    &lt;span class=&#34;m&#34;&gt;392.8755&lt;/span&gt;
&lt;span class=&#34;m&#34;&gt;2023-03-16&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;14&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;54&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;00&lt;/span&gt;    &lt;span class=&#34;m&#34;&gt;394.6500&lt;/span&gt;  &lt;span class=&#34;m&#34;&gt;69900.0000&lt;/span&gt;    &lt;span class=&#34;m&#34;&gt;392.8873&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;There are 4 spaces between the index and the &amp;lsquo;close&amp;rsquo; column, 2 between &amp;lsquo;close&amp;rsquo; and &amp;lsquo;volume&amp;rsquo;, and 4 between &amp;lsquo;volume&amp;rsquo; and &amp;lsquo;ma&amp;rsquo;. There should be a consistent number of spaces between the columns. Most other classes of objects print with 1 space between the columns. The top rows have 3 decimals and the bottom rows have 4. These should also be the same. (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/321&#34;&gt;#321&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Make column names based on number of columns. The original code was a lot more complicated because it tried to account for truncating the number of printed columns. That functionality was removed because of how complicated it was. So now we can simply create printed column names from the number of columns. (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/395&#34;&gt;#395&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Only convert printed index values to character. Converting the entire index to character is time-consuming for xts objects with many observations. It can take more than a second to print an xts object with 1 million observations.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Reduce instances when &lt;code&gt;dplyr::lag()&lt;/code&gt; warning is shown. The warning was shown whenever it detected dplyr is installed, even if the user wasn&amp;rsquo;t actively using dplyr. That caused an excessive amount of noise when other packages attached xts (e.g. quantmod). Thanks to Duncan Murdoch for the report and suggested fix! (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/393&#34;&gt;#393&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;bug-fixes&#34;&gt;Bug Fixes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Return &amp;lsquo;POSIXct&amp;rsquo; if object has no &amp;lsquo;tclass&amp;rsquo;. An empty string is not a valid &amp;lsquo;tclass&amp;rsquo;, so it can cause an error.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Fix &lt;code&gt;xts()&lt;/code&gt; for zero-row data.frames. The &lt;code&gt;xts()&lt;/code&gt; constructor would create an object with a list for coredata when &lt;code&gt;x&lt;/code&gt; is a data.frame with no rows. xts objects can&amp;rsquo;t have lists as coredata, so it should convert &lt;code&gt;x&lt;/code&gt; to a matrix and throw an error if &lt;code&gt;x&lt;/code&gt; is a list. (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/394&#34;&gt;#394&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Fix &lt;code&gt;as.data.frame()&lt;/code&gt; when converting a data.frame with column names to xts when there&amp;rsquo;s only one non-time-based column. Previously the xts object would not have the data.frame column name. (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/391&#34;&gt;#391&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Treat &lt;code&gt;NA&lt;/code&gt; the same as &lt;code&gt;NULL&lt;/code&gt; for &amp;lsquo;start&amp;rsquo; or &amp;lsquo;end&amp;rsquo; in &lt;code&gt;window.xts()&lt;/code&gt;. &lt;code&gt;NULL&lt;/code&gt; represents an undefined index value and &lt;code&gt;NA&lt;/code&gt; represents an unknown or missing index value. xts does not allow &lt;code&gt;NA&lt;/code&gt; as index values, so subsetting an xts or zoo object by &lt;code&gt;NA&lt;/code&gt; returns a zero-length object. Therefore a &lt;code&gt;NA&lt;/code&gt; (unknown) index value is essentially the same as an undefined index value. (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/383&#34;&gt;#383&lt;/a&gt;, &lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/345&#34;&gt;#345&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Warn and remove &lt;code&gt;NA&lt;/code&gt; when &lt;code&gt;periodicity()&lt;/code&gt; called on date-time vector with any &lt;code&gt;NA&lt;/code&gt; values. Previously it threw the uninformative error below. (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/289&#34;&gt;#289&lt;/a&gt;)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;n&#34;&gt;Error&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;try.xts&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;error&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;&amp;#39;x&amp;#39; needs to be timeBased or xtsible&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;
  &lt;span class=&#34;s&#34;&gt;&amp;#39;x&amp;#39;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;needs&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;to&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;be&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;timeBased&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;or&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;xtsible&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Account for timezones when making names for the list &lt;code&gt;split.xts()&lt;/code&gt; creates. This was specifically a problem if the xts object&amp;rsquo;s index was &lt;code&gt;yearmon&lt;/code&gt; because &lt;code&gt;as.yearmon.POSIXct()&lt;/code&gt; always sets &lt;code&gt;tz = &amp;quot;GMT&amp;quot;&lt;/code&gt; when calling &lt;code&gt;as.POSIXlt()&lt;/code&gt;, regardless of the xts&#39; index &amp;lsquo;tzone&amp;rsquo; attribute.  That can cause the &lt;code&gt;as.yearmon()&lt;/code&gt; results to be different days for GMT and the index&amp;rsquo;s timezone. Use &lt;code&gt;format.POSIXct()&lt;/code&gt; for &amp;ldquo;months&amp;rdquo; because it checks for a &amp;lsquo;tzone&amp;rsquo; attribute before converting to POSIXlt and calling &lt;code&gt;format.POSIXlt()&lt;/code&gt;. The conversion to POSIXlt is important because it checks and uses the &amp;lsquo;tzone&amp;rsquo; attribute before considering the &amp;lsquo;tz&amp;rsquo; argument. So it effectively ignores the &lt;code&gt;tz = &amp;quot;GMT&amp;quot;&lt;/code&gt; setting in &lt;code&gt;as.yearmon()&lt;/code&gt;. This is also the reason for calling &lt;code&gt;as.POSIXlt()&lt;/code&gt; before calling &lt;code&gt;as.yearqtr()&lt;/code&gt;. (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/392&#34;&gt;#392&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Ignore attribute order in &lt;code&gt;all.equal()&lt;/code&gt;. Attribute order shouldn&amp;rsquo;t matter. That can be checked with &lt;code&gt;identical()&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;chores&#34;&gt;Chores&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Add notes on &lt;code&gt;plot.xts()&lt;/code&gt; nomenclature and structure. Also add ASCII art to illustrate definitions and layout. (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/103&#34;&gt;#103&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Register missing S3 methods and update signatures. With R-devel (83995-ish), &lt;code&gt;R CMD check&lt;/code&gt; notes these S3 methods are not registered. It also notes that the signatures for &lt;code&gt;as.POSIXct.tis()&lt;/code&gt; and &lt;code&gt;str.replot_xts()&lt;/code&gt; do not match the respective generics. &lt;code&gt;R CMD check&lt;/code&gt; also thinks &lt;code&gt;time.frequency()&lt;/code&gt; is a S3 method because &lt;code&gt;time()&lt;/code&gt; is a generic. The function isn&amp;rsquo;t exported, so renaming won&amp;rsquo;t break any external code. Thanks to Kurt Hornik for the report. Issues with functionality for &amp;lsquo;tis&amp;rsquo; were also identified. I removed &amp;lsquo;tis&amp;rsquo; support entirely because the implementation was not even a bare minimum, and it&amp;rsquo;s not clear it even worked correctly. (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/398&#34;&gt;#398&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Add instructions to update old objects. Old xts objects do not have &amp;lsquo;tclass&amp;rsquo; and &amp;lsquo;tzone&amp;rsquo; attributes on the index. Add a function to update the object attributes and add a note to the warning to show how to use it. Also, only call &lt;code&gt;tzone()&lt;/code&gt; and &lt;code&gt;tclass()&lt;/code&gt; once in &lt;code&gt;check.TZ()&lt;/code&gt;. Calling these functions multiple times throws multiple warnings for xts objects created before the &amp;lsquo;tclass&amp;rsquo; and &amp;lsquo;tzone&amp;rsquo; were attached to the index instead of the xts object. (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/306&#34;&gt;#306&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;container&#34; role=&#34;main&#34;&gt;
  &lt;div class=&#34;row&#34;&gt;
    &lt;hr&gt;
    &lt;p&gt;If you love using my open-source work (e.g. &lt;a href=&#34;https://cran.r-project.org/package=quantmod&#34;&gt;quantmod&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=TTR&#34;&gt;TTR&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=xts&#34;&gt;xts&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=IBrokers&#34;&gt;IBrokers&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=microbenchmark&#34;&gt;microbenchmark&lt;/a&gt;, etc.), you can give back by &lt;a href=&#34;https://github.com/sponsors/joshuaulrich/&#34;&gt;sponsoring me on GitHub&lt;/a&gt;. I truly appreciate anything you&amp;rsquo;re willing and able to give!&lt;/p&gt;

    &lt;p&gt;I look forward to your questions and feedback! If you have a question, please ask on &lt;a href=&#34;http://stackoverflow.com/&#34;&gt;Stack Overflow&lt;/a&gt; and use the &lt;a href=&#34;http://stackoverflow.com/questions/tagged/r&#34;&gt;[r]&lt;/a&gt; and &lt;a href=&#34;http://stackoverflow.com/questions/tagged/xts&#34;&gt;[xts]&lt;/a&gt; tags.  Or you can send an email to the &lt;a href=&#34;https://stat.ethz.ch/mailman/listinfo/r-sig-finance&#34;&gt;R-SIG-Finance&lt;/a&gt; mailing list (you must subscribe to post). Open an &lt;a href=&#34;https://github.com/joshuaulrich/xts/issues&#34;&gt;issue on GitHub&lt;/a&gt; if you find a bug or want to request a feature. Please &lt;a href=&#34;https://github.com/joshuaulrich/xts/blob/master/.github/CONTRIBUTING.md&#34;&gt;read the contributing guide&lt;/a&gt; first! It will help save time for both of us. ;-)&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>quantmod_0.4.22 on CRAN</title>
      <link>https://blog.fosstrading.com/2023/04/quantmod-0-4-22-on-cran/</link>
      <pubDate>Sun, 16 Apr 2023 03:41:57 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2023/04/quantmod-0-4-22-on-cran/</guid>
      <description>&lt;p&gt;An updated version of &lt;a href=&#34;http://cran.r-project.org/package=quantmod&#34;&gt;quantmod&lt;/a&gt; is now on &lt;a href=&#34;http://cran.r-project.org/&#34;&gt;CRAN&lt;/a&gt;. It adds functions &lt;code&gt;HL()&lt;/code&gt;, &lt;code&gt;is.HL()&lt;/code&gt;, and &lt;code&gt;has.HL()&lt;/code&gt; to check for &amp;lsquo;high&amp;rsquo; and &amp;lsquo;low&amp;rsquo; price columns. It also makes accessing Yahoo Finance price, dividend, and split data more robust. &lt;code&gt;getSymbols.FRED()&lt;/code&gt; got &lt;code&gt;to&lt;/code&gt; and &lt;code&gt;from&lt;/code&gt; arguments, like other &lt;code&gt;getSymbols()&lt;/code&gt; methods. The remaining changes are bug fixes and maintenace chores.&lt;/p&gt;
&lt;p&gt;This was mainly a maintenance and bug fix release, but it does include a couple nice features. quantmod versions 0.4.17 through 0.4.21 included several relevant features that weren&amp;rsquo;t highlighted in any previous posts. They&amp;rsquo;re included in a separate section below.&lt;/p&gt;
&lt;h3 id=&#34;new-features&#34;&gt;New Features&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Exported &lt;code&gt;HL()&lt;/code&gt;, &lt;code&gt;is.HL()&lt;/code&gt;, and &lt;code&gt;has.HL()&lt;/code&gt; functions and added documentation. These were added in 0.4.20 but not exported or included in the documentation.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Switched to the Yahoo Finance v8 JSON endpoint and removed the v7 CSV endpoint. There seems to be a rate limit for the number of tickers you can request via the CSV endpoint. The &lt;a href=&#34;https://github.com/ranaroussi/yfinance&#34;&gt;yfinance python library&lt;/a&gt; uses the JSON endpoint and doesn&amp;rsquo;t seem to have rate limit issues. (&lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/360&#34;&gt;#360&lt;/a&gt;, &lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/362&#34;&gt;#362&lt;/a&gt;, &lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/364&#34;&gt;#364&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;getSymbols.FRED()&lt;/code&gt; now supports &lt;code&gt;to&lt;/code&gt; and &lt;code&gt;from&lt;/code&gt; arguments. So users can set the &amp;lsquo;from&amp;rsquo; and &amp;lsquo;to&amp;rsquo; arguments for FRED data like they can for other data sources like Yahoo. Those values had been ignored and the entire series was always returned. (&lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/368&#34;&gt;#368&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;bug-fixes&#34;&gt;Bug Fixes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Fixed &lt;code&gt;getDividends()&lt;/code&gt; and &lt;code&gt;getSplits()&lt;/code&gt; for stocks that issue monthly dividends. (&lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/372&#34;&gt;#372&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Added error handling to &lt;code&gt;getSplits()&lt;/code&gt; and &lt;code&gt;getDividends()&lt;/code&gt;. &lt;code&gt;getDividends()&lt;/code&gt; didn&amp;rsquo;t handle cases where the download failed, or when dividends needed to be split-adjusted but there were no splits. It also tried to set colnames on the empty xts object that&amp;rsquo;s returned when there are no dividends. &lt;code&gt;getSplits()&lt;/code&gt; had the same colnames issue. Thanks to Chris Cheung for the report! (&lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/366&#34;&gt;#366&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Remove &amp;ldquo;^&amp;rdquo; prefix from &lt;code&gt;getSymbols()&lt;/code&gt; return value. The name of the object &lt;code&gt;getSymbols()&lt;/code&gt; created and the symbol value it returned were inconsistent when the &amp;lsquo;Symbols&amp;rsquo; argument has a &amp;ldquo;^&amp;rdquo; prefix and &lt;code&gt;auto.assign = TRUE&lt;/code&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;getSymbols()&lt;/code&gt; removed the &amp;ldquo;^&amp;rdquo; from the object it creates, but&lt;/li&gt;
&lt;li&gt;returned the &amp;lsquo;Symbols&amp;rsquo; argument unchanged, and&lt;/li&gt;
&lt;li&gt;removed the &amp;ldquo;^&amp;rdquo; from the column names of the object it creates.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The example below will create an object named &lt;code&gt;IXIC&lt;/code&gt; but the value of &lt;code&gt;sym&lt;/code&gt; will be &amp;ldquo;^IXIC&amp;rdquo;.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;  sym &amp;lt;- getSymbols(&amp;quot;^IXIC&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;That means &lt;code&gt;x &amp;lt;- get(sym)&lt;/code&gt; will not work because an object named &lt;code&gt;^IXIC&lt;/code&gt; doesn&amp;rsquo;t exist. (&lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/371&#34;&gt;#371&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;chores&#34;&gt;Chores&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Moved &lt;a href=&#34;http://cran.r-project.org/package=jsonlite&#34;&gt;jsonlite&lt;/a&gt; from Suggests to Imports so it doesn&amp;rsquo;t cause a problem when a package that doesn&amp;rsquo;t also Suggest jsonlite but uses &lt;code&gt;getSymbols()&lt;/code&gt;. Thanks to Kurt Hornik for the report and fix! (&lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/380&#34;&gt;#380&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Fixed S3 method issues. R-devel (83995-ish) added a check that found methods that were not registered (&lt;code&gt;str.replot()&lt;/code&gt;, &lt;code&gt;seriesHi.timeSeries()&lt;/code&gt;, and &lt;code&gt;seriesLo.timeSeries()&lt;/code&gt;). It was also confused by &lt;code&gt;range.bars()&lt;/code&gt; and &lt;code&gt;unique.formula.names()&lt;/code&gt; because they are named like S3 methods. Neither were exported so they didn&amp;rsquo;t affect users. Thanks to Kurt Hornik for the report! (&lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/375&#34;&gt;#375&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h1 id=&#34;changes-in-prior-versions&#34;&gt;Changes in Prior Versions&lt;/h1&gt;
&lt;h3 id=&#34;new-features-1&#34;&gt;New Features&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Added &lt;code&gt;HL()&lt;/code&gt; and supporting functions. These are analogues to &lt;code&gt;HLC()&lt;/code&gt;, &lt;code&gt;OHLC()&lt;/code&gt;, etc. Thanks for Karl Gauvin for the nudge to implement them.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Added adjusted close price to &lt;code&gt;getSymbols.tiingo()&lt;/code&gt; output. Thanks to Ethan Smith for the suggestion and patch! (&lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/289&#34;&gt;#289&lt;/a&gt;, &lt;a href=&#34;https://github.com/joshuaulrich/quantmod/pull/345&#34;&gt;#345&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Updated &lt;code&gt;getSymbols.tiingo()&lt;/code&gt; to use a Date index for daily data. Thanks to Ethan Smith for the report! (&lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/350&#34;&gt;#350&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Updated &lt;code&gt;getOptionChain()&lt;/code&gt; to return all the fields that Yahoo Finance provides. Thanks to Adam Childers (@rhizomatican) for the patch! (&lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/318&#34;&gt;#318&lt;/a&gt;, &lt;a href=&#34;https://github.com/joshuaulrich/quantmod/pull/336&#34;&gt;#336&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Added &lt;a href=&#34;https://docs.orats.io&#34;&gt;orats&lt;/a&gt; as a source for &lt;code&gt;getOptionChain()&lt;/code&gt;. Thanks to Steve Bronder (@SteveBronder) for the suggestion and implementation! (&lt;a href=&#34;https://github.com/joshuaulrich/quantmod/pull/325&#34;&gt;#325&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Added &amp;ldquo;Defaults&amp;rdquo; handling to &lt;code&gt;getQuote()&lt;/code&gt; and &lt;code&gt;getQuote.yahoo()&lt;/code&gt;. Thanks to Ethan Smith for the report. (&lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/291&#34;&gt;#291&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Added Bid and Ask fields to the output from &lt;code&gt;getQuote()&lt;/code&gt;. Thanks to @jrburl for the report and PR. (&lt;a href=&#34;https://github.com/joshuaulrich/quantmod/pull/302&#34;&gt;#302&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;bug-fixes-1&#34;&gt;Bug Fixes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Removed check for Yahoo Finance cookies because the site no longer responds with a cookie, and that caused the connection attempt to fail. This affected &lt;code&gt;getSymbols()&lt;/code&gt;, &lt;code&gt;getDividends()&lt;/code&gt;, and &lt;code&gt;getSplits()&lt;/code&gt;. Thanks to several users for reporting, and especially to @pverspeelt and @alihru for investigating potential fixes! (&lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/358&#34;&gt;#358&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Updated &lt;code&gt;getSymbols.yahooj()&lt;/code&gt; for changes to the web page. (&lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/312&#34;&gt;#312&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Removed unneeded arguments to the &lt;code&gt;getSymbols.tiingo()&lt;/code&gt; implementation. Thanks to Ethan Smith for the suggestion and patch! (&lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/343&#34;&gt;#343&lt;/a&gt;, &lt;a href=&#34;https://github.com/joshuaulrich/quantmod/pull/344&#34;&gt;#344&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Load dividends and splits data into the correct environment when the user provides a value for the &lt;code&gt;env&lt;/code&gt; argument. The previous behavior always loaded the data into the environment the function was called from. Thanks to Stewart Wright for the report and patch! (&lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/33&#34;&gt;#33&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Improved the error message when &lt;code&gt;getSymbols()&lt;/code&gt; cannot import data for a symbol because the symbol is not valid or does not have historical data. Thanks to Peter Carl for the report. (&lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/333&#34;&gt;#333&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Fixed the &lt;code&gt;getMetals()&lt;/code&gt; example in the documentation. The example section previously had an example of &lt;code&gt;getFX()&lt;/code&gt;. Thanks to Gerhard Nachtmann (@nachti) for the report and patch! (&lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/330&#34;&gt;#330&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Fixed &lt;code&gt;getQuote()&lt;/code&gt; so it returns data when the ticker symbol contains an &amp;ldquo;&amp;amp;&amp;rdquo;. Thanks to @pankaj3009 for the report! (&lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/324&#34;&gt;#324&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Fixed &lt;code&gt;addMACD()&lt;/code&gt; when &lt;code&gt;col&lt;/code&gt; is specified. Thanks to @nvalueanalytics for the report! (&lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/321&#34;&gt;#321&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Fixed issues handling https:// in &lt;code&gt;getSymbols.yahooj()&lt;/code&gt;. Thanks to @lobo1981 and @tchevri for the reports and Ethan Smith for the suggestion to move from XML to xml2. (&lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/310&#34;&gt;#310&lt;/a&gt;, &lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/312&#34;&gt;#312&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Fixed &lt;code&gt;getSymbols.yahoo()&lt;/code&gt;, &lt;code&gt;getDividends()&lt;/code&gt;, and &lt;code&gt;getSplits()&lt;/code&gt; so they all handle download errors and retry again. Thanks for @helgasoft for the report on &lt;code&gt;getSymbols.yahoo()&lt;/code&gt; and @msfsalla for the report on &lt;code&gt;getDividends()&lt;/code&gt; and &lt;code&gt;getSplits()&lt;/code&gt;. (&lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/307&#34;&gt;#307&lt;/a&gt;, &lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/314&#34;&gt;#314&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Added implied volatility and last trade date to &lt;code&gt;getOptionChain()&lt;/code&gt; output. Thanks to @hd2581 and @romanlelek for the reports. And thanks to @rjvelasquezm for noticing the error when &lt;code&gt;lastTradeDate&lt;/code&gt; is &lt;code&gt;NULL&lt;/code&gt;. (&lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/224&#34;&gt;#224&lt;/a&gt;, &lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/304&#34;&gt;#304&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Fixed &lt;code&gt;getOptionChain()&lt;/code&gt; to throw a warning and return &lt;code&gt;NULL&lt;/code&gt; for every expiry that doesn&amp;rsquo;t have data. (&lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/299&#34;&gt;#299&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Fixed &amp;ldquo;Defaults&amp;rdquo; to handle unexported function (e.g. &lt;code&gt;getQuote.av()&lt;/code&gt;. Thanks to @helgasoft for the report. (&lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/316&#34;&gt;#316&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;importDefaults()&lt;/code&gt; didn&amp;rsquo;t call &lt;code&gt;get()&lt;/code&gt; on vector with length &amp;gt; 1. Thanks to Kurt Hornik for the report. (&lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/319&#34;&gt;#319&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;chartTheme()&lt;/code&gt; now works when quantmod is not attached. Thanks to Kurt Hornik for the report.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;container&#34; role=&#34;main&#34;&gt;
  &lt;div class=&#34;row&#34;&gt;
    &lt;hr&gt;
    &lt;p&gt;If you love using my open-source work (e.g. &lt;a href=&#34;https://cran.r-project.org/package=quantmod&#34;&gt;quantmod&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=TTR&#34;&gt;TTR&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=xts&#34;&gt;xts&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=IBrokers&#34;&gt;IBrokers&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=microbenchmark&#34;&gt;microbenchmark&lt;/a&gt;, etc.), you can give back by &lt;a href=&#34;https://github.com/sponsors/joshuaulrich/&#34;&gt;sponsoring me on GitHub&lt;/a&gt;. I truly appreciate anything you&amp;rsquo;re willing and able to give!&lt;/p&gt;

    &lt;p&gt;I look forward to your questions and feedback! If you have a question, please ask on &lt;a href=&#34;http://stackoverflow.com/&#34;&gt;Stack Overflow&lt;/a&gt; and use the &lt;a href=&#34;http://stackoverflow.com/questions/tagged/r&#34;&gt;[r]&lt;/a&gt; and &lt;a href=&#34;http://stackoverflow.com/questions/tagged/quantmod&#34;&gt;[quantmod]&lt;/a&gt; tags.  Or you can send an email to the &lt;a href=&#34;https://stat.ethz.ch/mailman/listinfo/r-sig-finance&#34;&gt;R-SIG-Finance&lt;/a&gt; mailing list (you must subscribe to post). Open an &lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues&#34;&gt;issue on GitHub&lt;/a&gt; if you find a bug or want to request a feature. Please &lt;a href=&#34;https://github.com/joshuaulrich/quantmod/blob/master/.github/CONTRIBUTING.md&#34;&gt;read the contributing guide&lt;/a&gt; first! It will help save time for both of us. ;-)&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>xts_0.13.0 on CRAN</title>
      <link>https://blog.fosstrading.com/2023/02/xts-0-13-0-on-cran/</link>
      <pubDate>Tue, 21 Feb 2023 14:58:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2023/02/xts-0-13-0-on-cran/</guid>
      <description>&lt;p&gt;An updated version of &lt;a href=&#34;http://cran.r-project.org/package=xts&#34;&gt;xts&lt;/a&gt; is now on &lt;a href=&#34;http://cran.r-project.org/&#34;&gt;CRAN&lt;/a&gt;. This release adds several exciting changes: open-ended time-of-day subsetting, smarter conversions to xts from data.frames/data.tables/tibbles; &lt;code&gt;to.period()&lt;/code&gt; handles custom endpoint values, &lt;code&gt;print()&lt;/code&gt; truncates rows like data.table, and &lt;code&gt;str()&lt;/code&gt; provides more informative output. There are also changes to make xts more consistent with zoo, some minor speed improvements, and the usual smattering of bug fixes.&lt;/p&gt;
&lt;p&gt;For some reason, I decided it was a good idea to go through the oldest GitHub issues and determine whether they should be fixed or closed without being fixed. Some of the GitHub issues are open issues from when xts was still on R-Forge! The oldest issue fixed in this release was opened on 2013-09-15, and another one was opened on 2014-03-09! Better late than never I guess. ;-)&lt;/p&gt;
&lt;h3 id=&#34;new-features&#34;&gt;New Features&lt;/h3&gt;
&lt;p&gt;The coolest new feature is the ability to use open-ended ranges for time-of-day subsetting. So you can subset by time of day from the start/end of the day without providing the start/end times (i.e. 00:00:00.000/23:59:59.999). Thanks to Chris Katsulis for the suggestion! (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/243&#34;&gt;#243&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;Here&amp;rsquo;s an example:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# an hourly sequence of times, and an xts object using them&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;times&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;timeBasedSeq&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;2023-02-01/2023-02-05/H&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;xts&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;seq_along&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;times&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;times&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# function to show the first and last index values for each day&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;index_range_by_day&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;by_day&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;split&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;days&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;index_range&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;nf&#34;&gt;paste&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;start&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;end&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sep&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34; / &amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;nf&#34;&gt;lapply&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;by_day&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;index_range&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# between the start of the day and 5pm&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;index_range_by_day&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x[&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/T1800&amp;#34;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## $`2023-02-01`&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## [1] &amp;#34;2023-02-01 / 2023-02-01 18:00:00&amp;#34;&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## $`2023-02-02`&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## [1] &amp;#34;2023-02-02 / 2023-02-02 18:00:00&amp;#34;&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## $`2023-02-03`&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## [1] &amp;#34;2023-02-03 / 2023-02-03 18:00:00&amp;#34;&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## $`2023-02-04`&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## [1] &amp;#34;2023-02-04 / 2023-02-04 18:00:00&amp;#34;&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## $`2023-02-05`&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## [1] &amp;#34;2023-02-05 / 2023-02-05 18:00:00&amp;#34;&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# between 5am and the end of the day&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;index_range_by_day&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x[&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;T0500/&amp;#34;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## $`2023-02-01`&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## [1] &amp;#34;2023-02-01 05:00:00 / 2023-02-01 23:00:00&amp;#34;&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## $`2023-02-02`&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## [1] &amp;#34;2023-02-02 05:00:00 / 2023-02-02 23:00:00&amp;#34;&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## $`2023-02-03`&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## [1] &amp;#34;2023-02-03 05:00:00 / 2023-02-03 23:00:00&amp;#34;&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## $`2023-02-04`&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## [1] &amp;#34;2023-02-04 05:00:00 / 2023-02-04 23:00:00&amp;#34;&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## $`2023-02-05`&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## [1] &amp;#34;2023-02-05 05:00:00 / 2023-02-05 23:00:00&amp;#34;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;p&gt;You can now pass custom endpoints to &lt;code&gt;to.period()&lt;/code&gt; using the &amp;lsquo;period&amp;rsquo; argument. So you can aggregate on something other than the times that &lt;code&gt;endpoints()&lt;/code&gt; supports. Thanks to Ethan B. Smith for the suggestion! (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/302&#34;&gt;#302&lt;/a&gt;)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;nf&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sample_matrix&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;as.xts&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sample_matrix&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# aggregate to OHLC by week ending on Friday&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;week_fri&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;to.period&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;endpoints&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;weeks&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;head&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;week_fri&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##              x.Open   x.High    x.Low  x.Close&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 2007-01-07 50.03978 50.42188 49.95041 49.99185&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 2007-01-14 50.03555 50.62395 49.80454 50.60145&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 2007-01-21 50.61724 50.77336 50.02142 50.42090&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 2007-01-28 50.36008 50.43875 49.87468 49.88096&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 2007-02-04 49.85624 50.55509 49.76308 50.55509&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 2007-02-11 50.52389 50.91776 50.45977 50.91160&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# aggregate to OHLC by week ending on Wednesday&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;wednesdays&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;which&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;.indexwday&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;week_wed&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;to.period&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;wednesdays&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;head&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;week_wed&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##              x.Open   x.High    x.Low  x.Close&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 2007-01-03 50.03978 50.42188 49.95041 50.39767&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 2007-01-10 50.42096 50.42096 49.80454 49.97246&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 2007-01-17 49.88529 50.77336 49.88529 50.48644&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 2007-01-24 50.48051 50.60712 50.02142 50.23145&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 2007-01-31 50.20738 50.28268 49.76308 50.22578&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 2007-02-07 50.22448 50.71661 50.19101 50.60611&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;enhancements&#34;&gt;Enhancements&lt;/h3&gt;
&lt;p&gt;The release also contains some quality of life changes to &lt;code&gt;print()&lt;/code&gt; and &lt;code&gt;str()&lt;/code&gt;. Now &lt;code&gt;print()&lt;/code&gt; only shows the first and last &amp;lsquo;show.rows&amp;rsquo; rows (default 10) if number of rows is &amp;gt; &amp;lsquo;max.rows&amp;rsquo; (default 100), similar to &lt;a href=&#34;https://cran.r-project.org/package=data.table&#34;&gt;data.table&lt;/a&gt; (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/321&#34;&gt;#321&lt;/a&gt;).&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;nf&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sample_matrix&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;as.xts&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sample_matrix&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##                Open     High      Low    Close&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 2007-01-02 50.03978 50.11778 49.95041 50.11778&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 2007-01-03 50.23050 50.42188 50.23050 50.39767&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 2007-01-04 50.42096 50.42096 50.26414 50.33236&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 2007-01-05 50.37347 50.37347 50.22103 50.33459&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 2007-01-06 50.24433 50.24433 50.11121 50.18112&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 2007-01-07 50.13211 50.21561 49.99185 49.99185&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 2007-01-08 50.03555 50.10363 49.96971 49.98806&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 2007-01-09 49.99489 49.99489 49.80454 49.91333&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 2007-01-10 49.91228 50.13053 49.91228 49.97246&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 2007-01-11 49.88529 50.23910 49.88529 50.23910&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##        ...                                    &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 2007-06-21 47.71012 47.71012 47.61106 47.62921&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 2007-06-22 47.56849 47.59266 47.32549 47.32549&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 2007-06-23 47.22873 47.24771 47.09144 47.24771&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 2007-06-24 47.23996 47.30287 47.20932 47.22764&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 2007-06-25 47.20471 47.42772 47.13405 47.42772&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 2007-06-26 47.44300 47.61611 47.44300 47.61611&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 2007-06-27 47.62323 47.71673 47.60015 47.62769&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 2007-06-28 47.67604 47.70460 47.57241 47.60716&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 2007-06-29 47.63629 47.77563 47.61733 47.66471&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 2007-06-30 47.67468 47.94127 47.67468 47.76719&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;p&gt;Now &lt;code&gt;str()&lt;/code&gt; outputs more descriptive information for xts objects. It differentiates between xts objects that are empty (no data and zero-length index), zero-width (no data and has index values), or zero-length (no data&amp;ndash;but has a column dimension and may have column names&amp;ndash;and zero-length index). It also adds column names to the output. (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/168&#34;&gt;#168&lt;/a&gt;, &lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/378&#34;&gt;#378&lt;/a&gt;)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;n&#34;&gt;empty&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;numeric&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# empty -- no data and zero-length index&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;str&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;.xts&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;NULL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;empty&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## An empty xts object &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##   Data:    double [0, 0]&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##   Index:   POSIXct,POSIXt [0] (TZ: &amp;#34;&amp;#34;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# zero length -- no rows of data and a zero-length index,&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#     but has a column dimension and may have column names&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;str&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;.xts&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;empty&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;empty&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## A zero-length xts object &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##   Data:    double [0, 1]&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##   Index:   POSIXct,POSIXt [0] (TZ: &amp;#34;&amp;#34;)&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;zero_length_with_colnames&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt;
    &lt;span class=&#34;nf&#34;&gt;.xts&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;matrix&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;empty&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dimnames&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;list&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;NULL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;zero&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;empty&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;str&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;zero_length_with_colnames&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## A zero-length xts object &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##   Data:    double [0, 1]&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##   Columns: zero&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##   Index:   POSIXct,POSIXt [0] (TZ: &amp;#34;&amp;#34;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# zero width -- no data and has index values&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;str&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;xts&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;NULL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Sys.Date&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()))&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## A zero-width xts object on 2023-02-21 / 2023-02-21 containing:&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##   Data:    double [0, 0]&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##   Index:   Date [1] (TZ: &amp;#34;UTC&amp;#34;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;p&gt;There&amp;rsquo;s a nice improvement to &lt;code&gt;as.xts()&lt;/code&gt; for data.frame and similar objects (e.g. data.table, tibble). It will look for a time-based column in the data.frame if it cannot create an index from the row names. (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/381&#34;&gt;#381&lt;/a&gt;)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;n&#34;&gt;d&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;data.frame&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;as.Date&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;2023-02-21&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;A&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;21&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;B&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;42&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;as.xts&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##             A  B&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 2023-02-21 21 42&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;p&gt;This release also includes a new xts method for &lt;code&gt;na.fill()&lt;/code&gt; that significantly increases performance when &amp;lsquo;fill&amp;rsquo; is a scalar. And it adds a startup warning that &lt;code&gt;dplyr::lag()&lt;/code&gt; breaks method dispatch, which means calls to &lt;code&gt;lag(my_xts)&lt;/code&gt; won&amp;rsquo;t work any more, and suggests a couple ways to work around that breakage.&lt;/p&gt;
&lt;h3 id=&#34;bug-fixes&#34;&gt;Bug Fixes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Fixed a typo in the Description section of the documentation for &lt;code&gt;period.apply()&lt;/code&gt; (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/205&#34;&gt;#205&lt;/a&gt;), and added detail to the argument definitions. The original Description has:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;the data from &lt;code&gt;INDEX[k]&lt;/code&gt; to &lt;code&gt;INDEX[k+1]&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;But that&amp;rsquo;s not consistent with the code. It should be:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;the data from &lt;code&gt;INDEX[k]+1&lt;/code&gt; to &lt;code&gt;INDEX[k+1]&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Made &lt;code&gt;merge.xts()&lt;/code&gt; results consistent with &lt;code&gt;merge.zoo()&lt;/code&gt; for zero-width objects. Previously, &lt;code&gt;merge.xts()&lt;/code&gt; returned an empty xts object if called on two or more zero-width xts objects. &lt;code&gt;merge.zoo()&lt;/code&gt; would return a zero-width object with the correct index. (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/227&#34;&gt;#227&lt;/a&gt;, &lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/379&#34;&gt;#379&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Also made &lt;code&gt;merge.xts()&lt;/code&gt; results consistent with &lt;code&gt;merge.zoo()&lt;/code&gt; for zero-length xts objects that have columns. The result of &lt;code&gt;merge.xts()&lt;/code&gt; did not include the columns of any objects that had one or more columns, but zero rows. A join should include all the columns of the joined objects, regardless of the number of rows in the object. This is consistent with &lt;code&gt;merge.zoo()&lt;/code&gt;. Thanks to Ethan B. Smith for the report and testing! (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/222&#34;&gt;#222&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Fixed a long-standing issue with &lt;code&gt;Ops.xts()&lt;/code&gt;.  Now it always returns an object with the same class as the first (left-hand side) argument. It previously returned an xts object even if the first argument was a subclass of xts. (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/49&#34;&gt;#49&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Squashed a bug in &lt;code&gt;reclass()&lt;/code&gt; that did not copy the &lt;code&gt;tclass&lt;/code&gt;, &lt;code&gt;tzone&lt;/code&gt;, or &lt;code&gt;tformat&lt;/code&gt; from &amp;lsquo;match.to&amp;rsquo; to the result object. Now it always copies those index attributes. (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/43&#34;&gt;#43&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;other&#34;&gt;Other&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Migrated unit tests from &lt;a href=&#34;https://github.com/romanzenka/RUnit&#34;&gt;RUnit&lt;/a&gt; (which is actively maintained, but no longer actively developed) to &lt;a href=&#34;https://github.com/markvanderloo/tinytest&#34;&gt;tinytest&lt;/a&gt;. Thanks &lt;a href=&#34;https://github.com/markvanderloo&#34;&gt;Mark van der Loo&lt;/a&gt;!&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Added to the &lt;code&gt;endpoints()&lt;/code&gt; documentation to make it clearer that the result is based on the UNIX epoch (midnight 1970, UTC) and not the first observation in the xts index. Thanks to GitHub user Eluvias for the suggestion! (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/299&#34;&gt;#299&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Removed an unnecessary check in &lt;code&gt;na.locf()&lt;/code&gt; (which is not user-facing). Thanks to GitHub user @cgiachalis for the suggestion! (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/307&#34;&gt;#307&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Updated C entry points so they&amp;rsquo;re not able to accidentally be found via dynamic lookup (i.e. &lt;code&gt;.Call(&amp;quot;foo&amp;quot;, ...)&lt;/code&gt;). This makes each call to the C code a few microseconds faster, which is nice. (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/260&#34;&gt;#260&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;container&#34; role=&#34;main&#34;&gt;
  &lt;div class=&#34;row&#34;&gt;
    &lt;hr&gt;
    &lt;p&gt;If you love using my open-source work (e.g. &lt;a href=&#34;https://cran.r-project.org/package=quantmod&#34;&gt;quantmod&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=TTR&#34;&gt;TTR&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=xts&#34;&gt;xts&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=IBrokers&#34;&gt;IBrokers&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=microbenchmark&#34;&gt;microbenchmark&lt;/a&gt;, etc.), you can give back by &lt;a href=&#34;https://github.com/sponsors/joshuaulrich/&#34;&gt;sponsoring me on GitHub&lt;/a&gt;. I truly appreciate anything you&amp;rsquo;re willing and able to give!&lt;/p&gt;

    &lt;p&gt;I look forward to your questions and feedback! If you have a question, please ask on &lt;a href=&#34;http://stackoverflow.com/&#34;&gt;Stack Overflow&lt;/a&gt; and use the &lt;a href=&#34;http://stackoverflow.com/questions/tagged/r&#34;&gt;[r]&lt;/a&gt; and &lt;a href=&#34;http://stackoverflow.com/questions/tagged/xts&#34;&gt;[xts]&lt;/a&gt; tags.  Or you can send an email to the &lt;a href=&#34;https://stat.ethz.ch/mailman/listinfo/r-sig-finance&#34;&gt;R-SIG-Finance&lt;/a&gt; mailing list (you must subscribe to post). Open an &lt;a href=&#34;https://github.com/joshuaulrich/xts/issues&#34;&gt;issue on GitHub&lt;/a&gt; if you find a bug or want to request a feature. Please &lt;a href=&#34;https://github.com/joshuaulrich/xts/blob/master/.github/CONTRIBUTING.md&#34;&gt;read the contributing guide&lt;/a&gt; first! It will help save time for both of us. ;-)&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>xts_0.12.2 on CRAN</title>
      <link>https://blog.fosstrading.com/2022/10/xts-0-12-2-on-cran/</link>
      <pubDate>Sat, 15 Oct 2022 10:21:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2022/10/xts-0-12-2-on-cran/</guid>
      <description>&lt;p&gt;An updated version of &lt;a href=&#34;http://cran.r-project.org/package=xts&#34;&gt;xts&lt;/a&gt; is now on &lt;a href=&#34;http://cran.r-project.org/&#34;&gt;CRAN&lt;/a&gt;. This release is a big one, with lots of changes. Plotting functionality got a lot of attention. Another notable change is that &lt;code&gt;merge.xts()&lt;/code&gt; now supports suffixes. Plus the obligatory bug fixes and refinements to make xts more robust.&lt;/p&gt;
&lt;h3 id=&#34;plotting-functionality-enhancements-and-bug-fixes&#34;&gt;Plotting functionality enhancements and bug fixes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;You can now omit the data time range from the upper-right portion of a plot by setting &lt;code&gt;main.timespan = FALSE&lt;/code&gt;. (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/247&#34;&gt;#247&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;plot.xts()&lt;/code&gt; gained a &lt;code&gt;yaxis.ticks&lt;/code&gt; argument to control the number of y-axis grid lines, instead of always drawing 5 y-axes grid lines. Thanks to &lt;a href=&#34;https://github.com/FredrikWartenberg&#34;&gt;Fredrik Wartenberg&lt;/a&gt; for the feature request and patch! (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/374&#34;&gt;#374&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Fixed &lt;code&gt;addEventLines()&lt;/code&gt; when plotted objects have a &amp;lsquo;yearmon&amp;rsquo; index. The ISO-8601 range string was not created correctly. Thanks to &lt;a href=&#34;https://github.com/paessens&#34;&gt;@paessens&lt;/a&gt; for the report. (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/353&#34;&gt;#353&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The &amp;lsquo;ylim&amp;rsquo; argument is now robust against numerical precision issues. Thanks to &lt;a href=&#34;https://github.com/bollard&#34;&gt;@bollard&lt;/a&gt; for the report, PR, and a ton of help debugging intermediate solutions! (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/368&#34;&gt;#368&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Series added to a panel now extend the panel&amp;rsquo;s y-axis. Previously the y-axis limits were based on the first series&#39; values and not updated when new series were added. So values of the new series did not appear on the plot if they were outside of the original series&#39; min/max. Thanks to &lt;a href=&#34;https://github.com/vspinu&#34;&gt;Vitalie Spinu&lt;/a&gt; for the report and help debugging and testing! (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/360&#34;&gt;#360&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;All series added to any panel of a plot now update the x-axis of all panels. So the entire plot&amp;rsquo;s x-axis will include every series&#39; time index values within the original plot&amp;rsquo;s time range. This behavior is consistent with &lt;code&gt;chart_Series()&lt;/code&gt;. Thanks to &lt;a href=&#34;https://github.com/vspinu&#34;&gt;Vitalie Spinu&lt;/a&gt; for the report and help debugging and testing! (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/360&#34;&gt;#360&lt;/a&gt;, &lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/216&#34;&gt;#216&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;All y-values are now plotted for series that have duplicate index values, but different data values. Thanks to &lt;a href=&#34;https://github.com/vspinu&#34;&gt;Vitalie Spinu&lt;/a&gt; for the report and help debugging and testing! (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/360&#34;&gt;#360&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Adding a series can now extend the x-axis before/after the plot&amp;rsquo;s existing time index range by setting &lt;code&gt;extend.xaxis = TRUE&lt;/code&gt;. That ensures all of the new series&#39; time index values are included in the plot. &lt;code&gt;extend.xaxis = FALSE&lt;/code&gt; by default to maintain backward compatibility. Thanks to &lt;a href=&#34;https://github.com/vspinu&#34;&gt;Vitalie Spinu&lt;/a&gt; for the report and help debugging and testing! (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/360&#34;&gt;#360&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;other-enhancements-and-bug-fixes&#34;&gt;Other enhancements and bug fixes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Ops.xts()&lt;/code&gt; no longer changes column names (via &lt;code&gt;make.names()&lt;/code&gt;) when the two objects do not have identical indexes. This makes it consistent with &lt;code&gt;Ops.zoo()&lt;/code&gt;. Thanks to &lt;a href=&#34;https://github.com/tonytonov&#34;&gt;Anton Antonov&lt;/a&gt; for the report! (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/114&#34;&gt;#114&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Subsetting a zero-length xts object now returns an object with the same storage type as the input. It previously always returned a &amp;lsquo;logical&amp;rsquo; xts object. (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/376&#34;&gt;#376&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;tclass()&lt;/code&gt; and &lt;code&gt;tzone()&lt;/code&gt; now return the correct values for zero-length xts objects, instead of the defaults from the &lt;code&gt;.xts()&lt;/code&gt; constructor. Thanks to &lt;a href=&#34;https://github.com/AndreMikulec&#34;&gt;Andre Mikulec&lt;/a&gt; for the report and suggested patch! (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/255&#34;&gt;#255&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;first()&lt;/code&gt; and &lt;code&gt;last()&lt;/code&gt; now return a zero-length xts object when &lt;code&gt;n = 0&lt;/code&gt;. They previously returned the entire object. This is consistent with the default &lt;code&gt;head()&lt;/code&gt; and &lt;code&gt;tail()&lt;/code&gt; functions, and data.table&amp;rsquo;s &lt;code&gt;first()&lt;/code&gt; and &lt;code&gt;last()&lt;/code&gt; functions. Thanks to &lt;a href=&#34;https://github.com/ethanbsmith&#34;&gt;Ethan B. Smith&lt;/a&gt; for the report and patch! (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/350&#34;&gt;#350&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Subsetting a zero-width xts now returns an object with the same class, tclass, tzone, and xtsAttributes as the input. Thanks to &lt;a href=&#34;https://github.com/shikokuchuo&#34;&gt;@shikokuchuo&lt;/a&gt; for the report! (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/359&#34;&gt;#359&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Now &lt;code&gt;endpoints()&lt;/code&gt; always returns last observation. Thanks to GitHub user &lt;a href=&#34;https://github.com/Eluvias&#34;&gt;Eluvias&lt;/a&gt; for the report. (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/300&#34;&gt;#300&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Now &lt;code&gt;endpoints()&lt;/code&gt; errors for every &lt;code&gt;on&lt;/code&gt; value when &lt;code&gt;k &amp;lt; 1&lt;/code&gt;. It was not throwing an error for &lt;code&gt;k &amp;lt; 1&lt;/code&gt; for &lt;code&gt;on&lt;/code&gt; of &amp;ldquo;years&amp;rdquo;, &amp;ldquo;quarters&amp;rdquo;, or &amp;ldquo;months&amp;rdquo;. Thanks to &lt;a href=&#34;https://github.com/Eluvias&#34;&gt;Eluvias&lt;/a&gt;for the report. (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/301&#34;&gt;#301&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Fixed a breaking change (introduced in 0.11.0) in &lt;code&gt;window()&lt;/code&gt; for yearmon and yearqtr indexes. In xts &amp;lt; 0.11.0, &lt;code&gt;window.zoo()&lt;/code&gt; was dispatched when &lt;code&gt;window()&lt;/code&gt; was called on a xts object because there was no &lt;code&gt;window.xts()&lt;/code&gt; method. &lt;code&gt;window.zoo()&lt;/code&gt; supports additional types of values for the &lt;code&gt;start&lt;/code&gt; argument, and possibly other features. Thanks to &lt;a href=&#34;https://github.com/annaymj&#34;&gt;@annaymj&lt;/a&gt; for the report. (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/312&#34;&gt;#312&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Clarified documentation for &lt;code&gt;axTicksByTime()&lt;/code&gt; to say that returns index locations (e.g. 1, 2, 3) and not timestamps. Thanks to &lt;a href=&#34;https://github.com/ggrothendieck&#34;&gt;Gabor Grothendieck&lt;/a&gt; for the suggestion and feedback. (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/354&#34;&gt;#354&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Fixed &lt;code&gt;merge.xts()&lt;/code&gt; on xts objects containing complex types when &lt;code&gt;fill&lt;/code&gt; is provided. It previously threw an error because it treated &lt;code&gt;fill&lt;/code&gt; as double instead of complex. Thanks to &lt;a href=&#34;https://github.com/ggrothendieck&#34;&gt;Gabor Grothendieck&lt;/a&gt; for the report. (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/346&#34;&gt;#346&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Added a message to tell the user how to disable the &amp;ldquo;object timezone is different from the system timezone&amp;rdquo; warning (set &lt;code&gt;options(xts_check_TZ = FALSE)&lt;/code&gt;). Thanks to &lt;a href=&#34;https://github.com/algoquant&#34;&gt;Jerzy Pawlowski&lt;/a&gt; for the nudge. (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/113&#34;&gt;#113&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;rbind()&lt;/code&gt; now handles xts objects without dim attribute. It previously threw an obscure error if one of the xts objects did not have a dim attribute. (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/361&#34;&gt;#361&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;split.xts()&lt;/code&gt; now always return a named list, making it consistent with &lt;code&gt;split.zoo()&lt;/code&gt;. Thanks to &lt;a href=&#34;https://github.com/ggrothendieck&#34;&gt;Gabor Grothendieck&lt;/a&gt; for the report. (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/357&#34;&gt;#357&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;xts objects with a zero-length POSIXct index now have a zero-length POSIXct vector instead of a zero-length integer vector for the index. Thanks to &lt;a href=&#34;https://github.com/JasperSch&#34;&gt;Jasper Schelfhout&lt;/a&gt; for the report and PR! (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/363&#34;&gt;#363&lt;/a&gt;, &lt;a href=&#34;https://github.com/joshuaulrich/xts/pulls/364&#34;&gt;#364&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Add supported for suffixes in &lt;code&gt;merge.xts()&lt;/code&gt; results. The suffixes are consistent with &lt;code&gt;merge.default()&lt;/code&gt; and not &lt;code&gt;merge.zoo()&lt;/code&gt;, because &lt;code&gt;merge.zoo()&lt;/code&gt; automatically uses &amp;ldquo;.&amp;rdquo; as a separator between column names, but the default method doesn&amp;rsquo;t. Thanks to Alex Chernyakov for the initial report, &lt;a href=&#34;https://github.com/stucash&#34;&gt;QiuxiaoMu&lt;/a&gt; for testing, and &lt;a href=&#34;https://github.com/pierre-lamarche&#34;&gt;Pierre Lamarche&lt;/a&gt; for the nudge. Better late than never? (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/38&#34;&gt;#38&lt;/a&gt;, &lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/371&#34;&gt;#371&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;You may have noticed that several of these issues have been open a long time. I&amp;rsquo;ve been revisiting historical issues and deciding whether to implement them or close them. I&amp;rsquo;ve already implemented some cool ones in the development version of xts.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;m most excited about open-ended time-of-day subsetting. Now you can do things like:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;n&#34;&gt;x[&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/T1700&amp;#34;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;]&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# start of the day until 5pm&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;x[&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;T0500/&amp;#34;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;]&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# 5am until the end of the day&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;container&#34; role=&#34;main&#34;&gt;
  &lt;div class=&#34;row&#34;&gt;
    &lt;hr&gt;
    &lt;p&gt;If you love using my open-source work (e.g. &lt;a href=&#34;https://cran.r-project.org/package=quantmod&#34;&gt;quantmod&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=TTR&#34;&gt;TTR&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=xts&#34;&gt;xts&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=IBrokers&#34;&gt;IBrokers&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=microbenchmark&#34;&gt;microbenchmark&lt;/a&gt;, etc.), you can give back by &lt;a href=&#34;https://github.com/sponsors/joshuaulrich/&#34;&gt;sponsoring me on GitHub&lt;/a&gt;. I truly appreciate anything you&amp;rsquo;re willing and able to give!&lt;/p&gt;

    &lt;p&gt;I look forward to your questions and feedback! If you have a question, please ask on &lt;a href=&#34;http://stackoverflow.com/&#34;&gt;Stack Overflow&lt;/a&gt; and use the &lt;a href=&#34;http://stackoverflow.com/questions/tagged/r&#34;&gt;[r]&lt;/a&gt; and &lt;a href=&#34;http://stackoverflow.com/questions/tagged/xts&#34;&gt;[xts]&lt;/a&gt; tags.  Or you can send an email to the &lt;a href=&#34;https://stat.ethz.ch/mailman/listinfo/r-sig-finance&#34;&gt;R-SIG-Finance&lt;/a&gt; mailing list (you must subscribe to post). Open an &lt;a href=&#34;https://github.com/joshuaulrich/xts/issues&#34;&gt;issue on GitHub&lt;/a&gt; if you find a bug or want to request a feature. Please &lt;a href=&#34;https://github.com/joshuaulrich/xts/blob/master/.github/CONTRIBUTING.md&#34;&gt;read the contributing guide&lt;/a&gt; first! It will help save time for both of us. ;-)&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>Mean rolling correlation of XLF constituents</title>
      <link>https://blog.fosstrading.com/2020/09/xlf-rolling-mean-correlation/</link>
      <pubDate>Sat, 19 Sep 2020 07:23:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2020/09/xlf-rolling-mean-correlation/</guid>
      <description>&lt;p&gt;I follow &lt;a href=&#34;https://twitter.com/Quantocracy&#34;&gt;Quantocracy on Twitter&lt;/a&gt;, and I found &lt;a href=&#34;https://robotwealth.com/rolling-mean-correlations-in-the-tidyverse/&#34;&gt;Rolling mean correlation in the tidyverse&lt;/a&gt; by &lt;a href=&#34;https://robotwealth.com&#34;&gt;Robot Wealth&lt;/a&gt;. They say to let them know if you&amp;rsquo;d approach it differently. I would, so I thought it would be interesting to replicate the analysis using tools I&amp;rsquo;m familiar with: &lt;a href=&#34;https://cran.r-project.org/package=xts&#34;&gt;xts&lt;/a&gt; and &lt;a href=&#34;https://cran.r-project.org/package=TTR&#34;&gt;TTR&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The xts package is an extension of the very excellent &lt;a href=&#34;https://cran.r-project.org/package=zoo&#34;&gt;zoo&lt;/a&gt; package. zoo objects are for ordered observations. Underneath, they are a matrix that can be ordered by anything: numbers, letters, dates, times, and more. xts objects are a special type of zoo object that can only be ordered by a date-time. They are the most common data structure used for working with financial time series, and are used in many of the major time series packages. You can find more details about xts objects in the &lt;a href=&#34;https://cran.r-project.org/web/packages/xts/vignettes/xts.pdf&#34;&gt;xts vignette&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I like xts so much, I took over as maintainer when Jeff Ryan started working at a hedge fund that didn&amp;rsquo;t let him continue open source work.&lt;/p&gt;
&lt;p&gt;TTR is the first R package I wrote, all the way back in 2007, before R was cool! TTR has a collection of over 50 technical indicators for creating technical trading rules. The package also provides fast implementations of common rolling-window functions, and several volatility calculations. We&amp;rsquo;re going to use its &lt;code&gt;ROC()&lt;/code&gt; (rate-of-change) function to calculate returns.&lt;/p&gt;
&lt;p&gt;Okay, now on to the code!&lt;/p&gt;
&lt;p&gt;First, you need to download the data set. I&amp;rsquo;ve saved a copy of the data that was provided in the Robot Wealth post. You can &lt;a href=&#34;https://blog.fosstrading.com/xlfprices.RData&#34;&gt;download it here&lt;/a&gt;. The Robot Wealth post used the &lt;a href=&#34;https://www.tidyverse.org/&#34;&gt;tidyverse&lt;/a&gt;, so data is saved in the preferred tidyverse data structure, a &lt;a href=&#34;https://cran.r-project.org/package=tibble&#34;&gt;tibble&lt;/a&gt; (it&amp;rsquo;s like a data frame).&lt;/p&gt;
&lt;p&gt;Then we need to &lt;code&gt;load()&lt;/code&gt; the data into our R session. This creates an object named &lt;code&gt;prices_xlf&lt;/code&gt;. The data has 10 columns: ticker, date, open, high, low,close, volume, dividends, closeunadj, inSPX. We&amp;rsquo;re only going to use the date, ticker, and close columns.&lt;/p&gt;
&lt;p&gt;Now we need to convert the &lt;code&gt;prices_xlf&lt;/code&gt; tibble into an xts object. There&amp;rsquo;s no standard way to do this, because tibbles don&amp;rsquo;t have a pre-defined structure for financial time series. We can &amp;lsquo;read&amp;rsquo; and convert the data from a tibble into a zoo object using &lt;code&gt;read.zoo()&lt;/code&gt;. We&amp;rsquo;re using &lt;code&gt;read.zoo()&lt;/code&gt; because there isn&amp;rsquo;t a &lt;code&gt;read.xts()&lt;/code&gt; function, and we can easily convert from zoo to xts using &lt;code&gt;as.xts()&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;nf&#34;&gt;load&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;xlfprices.RData&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;nf&#34;&gt;library&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;xts&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;read.zoo&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;prices_xlf[&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;date&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;ticker&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;close&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
              &lt;span class=&#34;n&#34;&gt;index.column&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;date&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;split&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;ticker&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Warning in zoo(rval4[[i]], ix[[i]]):&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##     some methods for &amp;#34;zoo&amp;#34; objects do not work&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##     if the index entries in &amp;#39;order.by&amp;#39; are not unique&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Error in merge.zoo(AFL = structure(c(30.54, 29.74, 29.475, 29.66, 29.95, :&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##     series cannot be merged with non-unique index entries in a series&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We pass &lt;code&gt;prices_xlf&lt;/code&gt; to &lt;code&gt;read.zoo()&lt;/code&gt;, but only with the columns we need for our analysis. The &lt;code&gt;index.column&lt;/code&gt; argument tells &lt;code&gt;read.zoo()&lt;/code&gt; which column in the data has the ordered index. The &lt;code&gt;split&lt;/code&gt; argument allows us to reshape the data from a long format into a wide format, where each ticker is in its own column. This is the standard format for xts objects, because it makes working with financial time series a lot easier.&lt;/p&gt;
&lt;p&gt;Now to run the code. Hmm&amp;hellip; it throws an error. The error means there are duplicate dates for at least one of the tickers in the &lt;code&gt;prices_xlf&lt;/code&gt; object. Depending on how many duplicates there are, this may or may not bias the results, but we should remove them anyway so the analysis is correct. This is another benefit of xts/zoo objects.&lt;/p&gt;
&lt;p&gt;Let&amp;rsquo;s take a look at the duplicates, and then remove them.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# find the duplicates&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;duplicate_rows&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;duplicated&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;prices_xlf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# view the duplicates&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;head&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;prices_xlf[duplicate_rows&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##       ticker       date   open   high    low  close  volume dividends&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 61839     CB 2016-01-29 110.18 113.17 110.00 113.07 4205800         0&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 61904     CB 2016-01-28 108.55 109.84 108.42 109.52 3313800         0&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 61969     CB 2016-01-27 108.15 109.91 107.07 108.10 3433200         0&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 62034     CB 2016-01-26 108.51 109.76 108.00 108.58 2669500         0&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 62099     CB 2016-01-25 109.95 109.99 107.82 108.00 2985000         0&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 62164     CB 2016-01-22 109.70 110.97 109.48 110.04 2296000         0&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##       closeunadj inSPX&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 61839     113.07  TRUE&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 61904     109.52  TRUE&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 61969     108.10  TRUE&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 62034     108.58  TRUE&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 62099     108.00  TRUE&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 62164     110.04  TRUE&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# remove the duplicates&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;prices&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;unique&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;prices_xlf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The &lt;code&gt;duplicated()&lt;/code&gt; function returns a logical (true/false) vector as long as the number of rows in your data. Any row it finds that matches a previous row in the data will be &lt;code&gt;TRUE&lt;/code&gt; in the vector. Note that &lt;em&gt;only&lt;/em&gt; the duplicated rows are &lt;code&gt;TRUE&lt;/code&gt;. The first rows found will be &lt;code&gt;FALSE&lt;/code&gt;. Subsetting &lt;code&gt;prices_xlf&lt;/code&gt; by the &lt;code&gt;duplicated()&lt;/code&gt; result will return the rows that exist somewhere in previous rows in the data.&lt;/p&gt;
&lt;p&gt;You can probably guess what the &lt;code&gt;unique()&lt;/code&gt; function does. It removes all the duplicated rows. Now that we removed the duplicates, we can try the &lt;code&gt;read.zoo()&lt;/code&gt; call again.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# reshape data into wide format&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;read.zoo&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;prices[&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;date&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;ticker&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;close&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
              &lt;span class=&#34;n&#34;&gt;index.column&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;date&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;split&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;ticker&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Great, that worked! Now we will convert from zoo to xts, because xts gives us a handful of fancy features in addition to all the awesomeness that comes with zoo. We&amp;rsquo;re not going to use those fancy features in this post, but I promise, they&amp;rsquo;re &lt;em&gt;fancy&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Next we will calculate returns using the &lt;code&gt;ROC()&lt;/code&gt; (rate-of-change) function from the TTR package.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# convert from zoo to xts&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;as.xts&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# calculate returns&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;library&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;TTR&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;returns&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;ROC&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# log returns&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;returns&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;ROC&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;discrete&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# arithmetic returns&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The single call to &lt;code&gt;as.xts()&lt;/code&gt; is all you need to convert from zoo to xts. &lt;code&gt;ROC()&lt;/code&gt; calculates log returns by default, but it will calculate discrete (or arithmetic) returns if you set &lt;code&gt;type = &amp;quot;discrete&amp;quot;&lt;/code&gt;. We&amp;rsquo;re going to use discrete returns to keep things consistent with the Robot Wealth post.&lt;/p&gt;
&lt;p&gt;Next we will create a function to calculate the mean pairwise correlation for each pair of columns in our xts object. We can get all the pairwise correlations from the correlation matrix.&lt;/p&gt;
&lt;p&gt;Once we calculate the correlation matrix, we can calculate the mean correlation by taking the mean of the entire matrix. You may be thinking that this will take the mean of each correlation value two times (once for the upper triangle of the matrix, and another time for the lower triangle). But the values in both triangles are the same, because the matrix is symmetric about the diagonal. So this will not affect the mean calculation.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;n&#34;&gt;mean_cor&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt;
  &lt;span class=&#34;nf&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;returns&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;# calculate the correlation matrix&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;cor_matrix&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;cor&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;returns&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;use&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;pairwise.complete&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;# set the diagonal to NA (may not be necessary)&lt;/span&gt;
    &lt;span class=&#34;nf&#34;&gt;diag&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cor_matrix&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;NA&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;# calculate the mean correlation, removing the NA&lt;/span&gt;
    &lt;span class=&#34;nf&#34;&gt;mean&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cor_matrix&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;na.rm&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;TRUE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Since our data are in a wide format, calculating the correlation matrix is takes a single call to the &lt;code&gt;cor()&lt;/code&gt; function that comes with your R installation.&lt;/p&gt;
&lt;p&gt;Then we set the diagonal of the matrix to &lt;code&gt;NA&lt;/code&gt; because they are all equal to 1. That may not be necessary, but it could bias the results, and I&amp;rsquo;m not ready to spend time thinking about it. :)&lt;/p&gt;
&lt;p&gt;Finally, we take the mean of the entire correlation matrix.&lt;/p&gt;
&lt;p&gt;Now that we have a handy-dandy &lt;code&gt;mean_cor()&lt;/code&gt; function to calculate the mean pairwise correlations, we can call the function on a rolling, 60-day period. We can do this with the &lt;code&gt;rollapply()&lt;/code&gt; function from the zoo package.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# calculate the rolling mean correlation over 60 periods&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;cors&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;rollapply&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;returns&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;60&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;mean_cor&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;by.column&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;FALSE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;align&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;right&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We set &lt;code&gt;align = &amp;quot;right&amp;quot;&lt;/code&gt; in order &amp;lsquo;right-align&amp;rsquo; the result. That means the timestamp for each rolling window will be the right-most (or last/largest) value in the window. This is important because we do not know the value for the rolling period until the end of the window. We would severely bias our results if we used the &amp;lsquo;left&amp;rsquo; (first) or &amp;lsquo;center&amp;rsquo; (middle) timestamp for our window calculation.&lt;/p&gt;
&lt;p&gt;We also need to set &lt;code&gt;by.column = FALSE&lt;/code&gt;. Otherwise, the &lt;code&gt;rollapply()&lt;/code&gt; function will run the function on each column of the xts object individually. And it doesn&amp;rsquo;t make sense to try and calculation the correlation matrix of a single series.&lt;/p&gt;
&lt;p&gt;Now, let&amp;rsquo;s plot our rolling 60-day correlations. We only need to call the &lt;code&gt;plot()&lt;/code&gt; function to get a quick look.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;nf&#34;&gt;plot&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cors&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;main&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;Rolling mean XLF correlations&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;https://blog.fosstrading.com/post/images/plot-rolling-mean-xlf-correlations-1.png&#34; alt=&#34;plot of chunk plot-rolling-mean-xlf-correlations&#34;&gt;&lt;/p&gt;
&lt;p&gt;The main thing I like about my approach is how few lines of code it takes. The most complicated piece is the &lt;code&gt;mean_cor()&lt;/code&gt; function, but even that is fairly straightforward.&lt;/p&gt;
&lt;p&gt;You can do similar analysis using this same pattern. You need to create another function to calculate the metric, but everything else will be the same.&lt;/p&gt;
&lt;p&gt;Like the Robot Wealth version, you can easily do this entire analysis in memory. You don&amp;rsquo;t have to bother with chunking it up into smaller pieces and piecing it back together.&lt;/p&gt;
&lt;p&gt;One difference is that the data in their version is just under 3 million (!) rows, and 6 columns (~18 million data points). This version is 1346 rows and 65 columns (less than 100,000 data points). So you could quickly do the analysis in memory this way on ETFs or indexes with many more constituents (e.g. the Russell 3000). I&amp;rsquo;ve worked on xts data sets with ~1 &lt;em&gt;billion&lt;/em&gt; rows of tick data on my machine with 32GB of RAM.&lt;/p&gt;
&lt;div class=&#34;container&#34; role=&#34;main&#34;&gt;
  &lt;div class=&#34;row&#34;&gt;
    &lt;hr&gt;
    &lt;p&gt;If you love using my open-source work (e.g.
      &lt;a href=&#34;https://cran.r-project.org/package=quantmod&#34;&gt;quantmod&lt;/a&gt;,
      &lt;a href=&#34;https://cran.r-project.org/package=TTR&#34;&gt;TTR&lt;/a&gt;,
      &lt;a href=&#34;https://cran.r-project.org/package=xts&#34;&gt;xts&lt;/a&gt;,
      &lt;a href=&#34;https://cran.r-project.org/package=IBrokers&#34;&gt;IBrokers&lt;/a&gt;,
      &lt;a href=&#34;https://cran.r-project.org/package=microbenchmark&#34;&gt;microbenchmark&lt;/a&gt;,
      &lt;a href=&#34;https://github.com/braverock/blotter/&#34;&gt;blotter&lt;/a&gt;,
      &lt;a href=&#34;https://github.com/braverock/quantstrat/&#34;&gt;quantstrat&lt;/a&gt;,
      etc.), you can give back by &lt;a href=&#34;https://github.com/sponsors/joshuaulrich/&#34;&gt;sponsoring me on GitHub&lt;/a&gt;. I truly appreciate anything you&amp;rsquo;re willing and able to give!&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>xts_0.12.1 on CRAN</title>
      <link>https://blog.fosstrading.com/2020/09/xts-0-12-1-on-cran/</link>
      <pubDate>Sun, 13 Sep 2020 10:49:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2020/09/xts-0-12-1-on-cran/</guid>
      <description>&lt;p&gt;An updated version of &lt;a href=&#34;http://cran.r-project.org/package=xts&#34;&gt;xts&lt;/a&gt; reached &lt;a href=&#34;http://cran.r-project.org/&#34;&gt;CRAN&lt;/a&gt; on 2020-09-09. Time-of-day subsetting (e.g. &lt;code&gt;x[&amp;quot;T10:00/T13:00&amp;quot;]&lt;/code&gt;) is 200x faster! (This post includes some notes on some nifty changes in 0.12.0 too, since I didn&amp;rsquo;t post about 0.12.0 when it was released.)&lt;/p&gt;
&lt;p&gt;This is a long-overdue post. I&amp;rsquo;m trying to get int the habit of posting and announcing each of my package releases. So I&amp;rsquo;m writing posts this morning for the most recent release of the most popular packages I maintain. I released an updated version of &lt;a href=&#34;http://cran.r-project.org/package=xts&#34;&gt;xts&lt;/a&gt; to &lt;a href=&#34;http://cran.r-project.org/&#34;&gt;CRAN&lt;/a&gt; on 2020-09-09.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;m going to highlight a handful of the changes that involve:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;moving index class and index timezone from the xts object itself to the index,&lt;/li&gt;
&lt;li&gt;improvements to time-of-day subsetting (&lt;code&gt;x[&amp;quot;T10:00/T13:00&amp;quot;]&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;user contributions, and&lt;/li&gt;
&lt;li&gt;several bug fixes.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;changes-to-index-attributes&#34;&gt;Changes to index attributes&lt;/h3&gt;
&lt;p&gt;The most significant user-facing change in this release is a bug-fix for the functions that would change the &lt;code&gt;tclass&lt;/code&gt; of the xts index. This would happen in calls to &lt;code&gt;reclass()&lt;/code&gt;, &lt;code&gt;period.apply()&lt;/code&gt;, and logical operations on &lt;code&gt;POSIXct&lt;/code&gt; indexes. Thanks to &lt;a href=&#34;https://github.com/TomAndrews&#34;&gt;Tom Andrews&lt;/a&gt; for the report and testing, and to &lt;a href=&#34;https://github.com/philaris&#34;&gt;Panagiotis Cheilaris&lt;/a&gt; for contributing test cases (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/322&#34;&gt;#322&lt;/a&gt;, &lt;a href=&#34;https://github.com/joshuaulrich/xts/pull/323&#34;&gt;#323&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;This was a regression due to the main change in version 0.12-0. All the index-attributes were removed from the xts object and are now only attached to the index itself (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/245&#34;&gt;#245&lt;/a&gt;). We took great care to maintain backward compatibility, and throw warnings when deprecated functions are called and when index-attributes are found on the xts object. I apologize for taking this long to get the fix on CRAN.&lt;/p&gt;
&lt;h3 id=&#34;time-of-day-subsetting&#34;&gt;Time-of-day subsetting&lt;/h3&gt;
&lt;p&gt;Another change in 0.12-0 is a significant (~200x!) performance improvement to time-of-day subsetting, thanks to &lt;a href=&#34;https://stackoverflow.com/users/3226167/user3226167&#34;&gt;StackOverflow user3226167&lt;/a&gt; (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/193&#34;&gt;#193&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;Then &lt;a href=&#34;https://github.com/claymoremarshall&#34;&gt;Claymore Marshall&lt;/a&gt; added many examples of time-of-day subsetting to &lt;code&gt;?subset.xts&lt;/code&gt;. He also fixed a bug in time-of-day subsetting where subsetting by hour only returned wrong results (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/304&#34;&gt;#304&lt;/a&gt;, &lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/326&#34;&gt;#326&lt;/a&gt;, &lt;a href=&#34;https://github.com/joshuaulrich/xts/pull/328&#34;&gt;#328&lt;/a&gt;).&lt;/p&gt;
&lt;h3 id=&#34;user-contributions&#34;&gt;User contributions&lt;/h3&gt;
&lt;p&gt;There were also several more user-contributed changes. I love when the community that uses open source software contributes to the project! It&amp;rsquo;s so much more fun than working on it by myself. :)&lt;/p&gt;
&lt;p&gt;These are in a bulleted list in order to highlight each user&amp;rsquo;s contribution.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/jaymon0703&#34;&gt;Jasen Macike&lt;/a&gt; updated &lt;code&gt;plot.xts()&lt;/code&gt; to support y-axis labels via the &lt;code&gt;ylab&lt;/code&gt; argument (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/333&#34;&gt;#333&lt;/a&gt;, &lt;a href=&#34;https://github.com/joshuaulrich/xts/pull/334&#34;&gt;#334&lt;/a&gt;).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/MichaelChirico&#34;&gt;Michael Chirico&lt;/a&gt; added an internal &lt;code&gt;isUTC()&lt;/code&gt; function that recognizes many UTC-equivalent time zones (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/319&#34;&gt;#319&lt;/a&gt;).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://dirk.eddelbuettel.com/&#34;&gt;Dirk Eddelbuettel&lt;/a&gt; updated the C API header to fix the signatures of &lt;code&gt;do_merge_xts()&lt;/code&gt; and &lt;code&gt;is_xts&lt;/code&gt;, which did not return the required type to be called via &lt;code&gt;.Call()&lt;/code&gt;. Thanks to &lt;a href=&#34;https://github.com/kalibera&#34;&gt;Tomas Kalibera&lt;/a&gt; for the report (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/317&#34;&gt;#317&lt;/a&gt;), and to Dirk for the PR (&lt;a href=&#34;https://github.com/joshuaulrich/xts/pull/337&#34;&gt;#337&lt;/a&gt;). &lt;br&gt;
This is a breaking change, but it&amp;rsquo;s only in the C API, and is required to avoid the potential to crash your R session.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/harvey131&#34;&gt;Harvey Smith&lt;/a&gt; fixed the possible values for the &lt;code&gt;major.ticks&lt;/code&gt;, &lt;code&gt;minor.ticks&lt;/code&gt;, and &lt;code&gt;grid.ticks.on&lt;/code&gt; arguments to &lt;code&gt;plot.xts()&lt;/code&gt; in the Details section of the documentation (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/291&#34;&gt;#291&lt;/a&gt;).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Performance for the &lt;code&gt;period.XYZ()&lt;/code&gt; functions (sum, prod, min, max) is much faster (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/278&#34;&gt;#278&lt;/a&gt;). Thanks to &lt;a href=&#34;https://github.com/ckatsulis&#34;&gt;Chris Katsulis&lt;/a&gt; for the report, and &lt;a href=&#34;https://github.com/harvey131&#34;&gt;Harvey Smith&lt;/a&gt; for several examples.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;bug-fixes&#34;&gt;Bug fixes&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;first()&lt;/code&gt; now operates correctly on non-xts objects when &lt;code&gt;n = -1&lt;/code&gt;. Previously it would always return the last two values. Thanks to &lt;a href=&#34;https://github.com/vxg20&#34;&gt;GitHub user vxg20&lt;/a&gt; for the report (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/325&#34;&gt;#325&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;.xts()&lt;/code&gt; constructor would create an xts object with row names if &lt;code&gt;x&lt;/code&gt; had row names. This shouldn&amp;rsquo;t happen, because xts objects do not have or support row names (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/298&#34;&gt;#298&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;Several binary operations (e.g. +, -, !=, &amp;lt;, etc.) on variations of uncommon xts objects with other xts, matrix, or vector objects, could result in malformed xts objects (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/295&#34;&gt;#295&lt;/a&gt;). Some examples of the types of uncommon xts objects: no dim attribute, zero-width, zero-length.&lt;/p&gt;
&lt;p&gt;Calling &lt;code&gt;as.matrix()&lt;/code&gt; on an xts object without a dim attribute no longer throws an error (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/294&#34;&gt;#294&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;&lt;code&gt;merge.xts()&lt;/code&gt; now honors &lt;code&gt;check.names = FALSE&lt;/code&gt; (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/293&#34;&gt;#293&lt;/a&gt;). It also creates shorter column names when passed unnamed objects, consistent with zoo (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/248&#34;&gt;#248&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;&lt;code&gt;as.zoo.xts()&lt;/code&gt; is now only registered for zoo versions prior to 1.8-5.  Methods to convert an object to another class should reside in the package that implements the target class. Thanks to Kurt Hornik for the report (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/287&#34;&gt;#287&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;&lt;code&gt;.parseISO8601()&lt;/code&gt; no longer has a potential length-1 logical error. Thanks to Kurt Hornik for the report (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/280&#34;&gt;#280&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;&lt;code&gt;endpoints()&lt;/code&gt; now honors &lt;code&gt;k &amp;gt; 0&lt;/code&gt; when &lt;code&gt;on = &amp;quot;quarters&amp;quot;&lt;/code&gt;. Thanks to &lt;a href=&#34;https://github.com/alkment&#34;&gt;@alkment&lt;/a&gt; for the report (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/279&#34;&gt;#279&lt;/a&gt;).&lt;/p&gt;
&lt;div class=&#34;container&#34; role=&#34;main&#34;&gt;
  &lt;div class=&#34;row&#34;&gt;
    &lt;hr&gt;
    &lt;p&gt;If you love using my open-source work (e.g. &lt;a href=&#34;https://cran.r-project.org/package=quantmod&#34;&gt;quantmod&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=TTR&#34;&gt;TTR&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=xts&#34;&gt;xts&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=IBrokers&#34;&gt;IBrokers&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=microbenchmark&#34;&gt;microbenchmark&lt;/a&gt;, etc.), you can give back by &lt;a href=&#34;https://github.com/sponsors/joshuaulrich/&#34;&gt;sponsoring me on GitHub&lt;/a&gt;. I truly appreciate anything you&amp;rsquo;re willing and able to give!&lt;/p&gt;

    &lt;p&gt;I look forward to your questions and feedback! If you have a question, please ask on &lt;a href=&#34;http://stackoverflow.com/&#34;&gt;Stack Overflow&lt;/a&gt; and use the &lt;a href=&#34;http://stackoverflow.com/questions/tagged/r&#34;&gt;[r]&lt;/a&gt; and &lt;a href=&#34;http://stackoverflow.com/questions/tagged/xts&#34;&gt;[xts]&lt;/a&gt; tags.  Or you can send an email to the &lt;a href=&#34;https://stat.ethz.ch/mailman/listinfo/r-sig-finance&#34;&gt;R-SIG-Finance&lt;/a&gt; mailing list (you must subscribe to post). Open an &lt;a href=&#34;https://github.com/joshuaulrich/xts/issues&#34;&gt;issue on GitHub&lt;/a&gt; if you find a bug or want to request a feature. Please &lt;a href=&#34;https://github.com/joshuaulrich/xts/blob/master/.github/CONTRIBUTING.md&#34;&gt;read the contributing guide&lt;/a&gt; first! It will help save time for both of us. ;-)&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>TTR_0.24.2 on CRAN</title>
      <link>https://blog.fosstrading.com/2020/09/ttr-0-24-2-on-cran/</link>
      <pubDate>Sun, 13 Sep 2020 08:41:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2020/09/ttr-0-24-2-on-cran/</guid>
      <description>&lt;p&gt;An updated version of &lt;a href=&#34;http://cran.r-project.org/package=TTR&#34;&gt;TTR&lt;/a&gt; is on &lt;a href=&#34;http://cran.r-project.org/&#34;&gt;CRAN&lt;/a&gt; now. This is mainly a bug-fix release. There were several issues in the underlying C code that caused various issues. I&amp;rsquo;ll spare you the gory details. If you&amp;rsquo;re really interested, you can find them in the &lt;a href=&#34;https://github.com/joshuaulrich/TTR/blob/27ea28698295f56447fcc87ad515140bdb35c8a5/CHANGES&#34;&gt;CHANGES&lt;/a&gt; file.&lt;/p&gt;
&lt;p&gt;[This is another one of my long-overdue posts. I&amp;rsquo;m trying to get int the habit of posting and announcing each of my package releases. So I&amp;rsquo;m writing posts this morning for the most recent release of the most popular packages I maintain.]&lt;/p&gt;
&lt;p&gt;I released an updated version of &lt;a href=&#34;http://cran.r-project.org/package=TTR&#34;&gt;TTR&lt;/a&gt; to &lt;a href=&#34;http://cran.r-project.org/&#34;&gt;CRAN&lt;/a&gt; on 2020-09-01.&lt;/p&gt;
&lt;p&gt;Now for the bug fixes you might actually notice.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;ALMA()&lt;/code&gt; could return an object whose length didn&amp;rsquo;t match the length of the input when the input was not an xts object. This bug has been around for years. I&amp;rsquo;m sorry I just now got to it.
&lt;br&gt;
&lt;br&gt;
The bug was caused by the differences in &lt;code&gt;rollapply.default()&lt;/code&gt; in zoo and &lt;code&gt;rollapply.xts()&lt;/code&gt;. The xts method pads with &lt;code&gt;NA&lt;/code&gt; by default, whereas the default version does not. Thanks to GitHub user &lt;a href=&#34;https://github.com/marksimmonds&#34;&gt;marksimmonds&lt;/a&gt; for the report! (&lt;a href=&#34;https://github.com/joshuaulrich/TTR/issues/29&#34;&gt;#29&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;MFI()&lt;/code&gt; has been fixed for the case where money flow is always &amp;gt; 0. The denominator of the money ratio is zero if there is no negative money flow for &lt;code&gt;n&lt;/code&gt; consecutive observations (e.g. during a strong up-trend). This causes the money flow index to be &lt;code&gt;Inf&lt;/code&gt;. Now the money flow index is set to 100 in this case.
&lt;br&gt;
&lt;br&gt;
Also, the money ratio will be &lt;code&gt;NaN&lt;/code&gt; if there&amp;rsquo;s no money flow for &lt;code&gt;n&lt;/code&gt; consecutive observations (e.g. if there are no trades). This causes the money flow index to be &lt;code&gt;NaN&lt;/code&gt;. Now the money flow index is to 50 in this case.  Thanks to GitHub user &lt;a href=&#34;https://github.com/jgehw&#34;&gt;jgehw&lt;/a&gt; for the report, reproducible example, and suggested patch! (&lt;a href=&#34;https://github.com/joshuaulrich/TTR/issues/81&#34;&gt;#81&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;container&#34; role=&#34;main&#34;&gt;
  &lt;div class=&#34;row&#34;&gt;
    &lt;hr&gt;
    &lt;p&gt;If you love using my open-source work (e.g. &lt;a href=&#34;https://cran.r-project.org/package=quantmod&#34;&gt;quantmod&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=TTR&#34;&gt;TTR&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=xts&#34;&gt;xts&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=IBrokers&#34;&gt;IBrokers&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=microbenchmark&#34;&gt;microbenchmark&lt;/a&gt;, etc.), you can give back by &lt;a href=&#34;https://github.com/sponsors/joshuaulrich/&#34;&gt;sponsoring me on GitHub&lt;/a&gt;. I truly appreciate anything you&amp;rsquo;re willing and able to give!&lt;/p&gt;

    &lt;p&gt;I look forward to your questions and feedback! If you have a question, please ask on &lt;a href=&#34;http://stackoverflow.com/&#34;&gt;Stack Overflow&lt;/a&gt; and use the &lt;a href=&#34;http://stackoverflow.com/questions/tagged/r&#34;&gt;[r]&lt;/a&gt; and &lt;a href=&#34;http://stackoverflow.com/questions/tagged/ttr&#34;&gt;[ttr]&lt;/a&gt; tags.  Or you can send an email to the &lt;a href=&#34;https://stat.ethz.ch/mailman/listinfo/r-sig-finance&#34;&gt;R-SIG-Finance&lt;/a&gt; mailing list (you must subscribe to post). Open an &lt;a href=&#34;https://github.com/joshuaulrich/ttr/issues&#34;&gt;issue on GitHub&lt;/a&gt; if you find a bug or want to request a feature. Please &lt;a href=&#34;https://github.com/joshuaulrich/ttr/blob/master/.github/CONTRIBUTING.md&#34;&gt;read the contributing guide&lt;/a&gt; first! It will help save time for both of us. ;-)&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>quantmod_0.4-16 on CRAN</title>
      <link>https://blog.fosstrading.com/2020/03/quantmod-0-4-16-on-cran/</link>
      <pubDate>Tue, 10 Mar 2020 07:23:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2020/03/quantmod-0-4-16-on-cran/</guid>
      <description>&lt;p&gt;A new version of &lt;a href=&#34;http://www.quantmod.com/&#34;&gt;quantmod&lt;/a&gt; is on &lt;a href=&#34;https://cran.r-project.org/package=quantmod&#34;&gt;CRAN&lt;/a&gt;! One really cool thing about this release is that almost all the changes are contributions from the community.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/ethanbsmith&#34;&gt;Ethan Smith&lt;/a&gt; made more excellent contributions to &lt;code&gt;getQuote()&lt;/code&gt; in this release. It no longer throws an error if one or more symbols are missing.  And it handles multiple symbols in a semicolon-delimted string, just like &lt;code&gt;getSymbols()&lt;/code&gt;. For example, you can get quotes for multiple symbols by calling &lt;code&gt;getQuote(&amp;quot;SPY;AAPL&amp;quot;)&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/jrburl&#34;&gt;@jrburl&lt;/a&gt; made a great enhancement to &lt;code&gt;getOptionChain()&lt;/code&gt;. Now, instead of throwing an error, it sets volume and open interest to &lt;code&gt;NA&lt;/code&gt; if those columns are missing from the Yahoo Finance data. They also submitted a pull request to handle cases where Bid and/or Ask data are missing too. Unfortunately, that pull request came after I had already pushed to CRAN.&lt;/p&gt;
&lt;p&gt;Unfortunately, &lt;a href=&#34;https://finance.yahoo.com/&#34;&gt;Yahoo! Finance&lt;/a&gt; continues to make changes to how they return data. Thankfully, quantmod users are diligent and catch these changes. &lt;a href=&#34;https://github.com/helgasoft/&#34;&gt;@helgasoft&lt;/a&gt; noticed the split ratio delimiter changed from &lt;code&gt;/&lt;/code&gt; to &lt;code&gt;:&lt;/code&gt;. So, for example, a 2-for-1 split was &lt;code&gt;1/2&lt;/code&gt; but is now &lt;code&gt;2:1&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/helgasoft/&#34;&gt;@helgasoft&lt;/a&gt; also noticed that &lt;a href=&#34;https://www.alphavantage.co/&#34;&gt;Alpha Vantage&lt;/a&gt; discontinued their &amp;ldquo;batch quote&amp;rdquo; functionality, which broke &lt;code&gt;getQuote()&lt;/code&gt;. Thankfully, they provided a patch that used the single-quote request, so &lt;code&gt;getQuote()&lt;/code&gt; works with Alpha Vantage again!&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/matiasandina&#34;&gt;@matiasandina&lt;/a&gt; noticed that I had incorrectly labelled the dividend pay date as the ex-dividend date in the data &lt;code&gt;getQuote()&lt;/code&gt; returned from Yahoo Finance. Whoops!&lt;/p&gt;
&lt;p&gt;See the &lt;a href=&#34;https://cran.r-project.org/web/packages/quantmod/news/news.html&#34;&gt;news&lt;/a&gt; file for the other bug fixes. Thanks for using quantmod!&lt;/p&gt;
&lt;div class=&#34;container&#34; role=&#34;main&#34;&gt;
  &lt;div class=&#34;row&#34;&gt;
    &lt;hr&gt;
    &lt;p&gt;If you love using my open-source work (e.g. &lt;a href=&#34;https://cran.r-project.org/package=quantmod&#34;&gt;quantmod&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=TTR&#34;&gt;TTR&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=xts&#34;&gt;xts&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=IBrokers&#34;&gt;IBrokers&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=microbenchmark&#34;&gt;microbenchmark&lt;/a&gt;, etc.), you can give back by &lt;a href=&#34;https://github.com/sponsors/joshuaulrich/&#34;&gt;sponsoring me on GitHub&lt;/a&gt;. I truly appreciate anything you&amp;rsquo;re willing and able to give!&lt;/p&gt;

    &lt;p&gt;I look forward to your questions and feedback! If you have a question, please ask on &lt;a href=&#34;http://stackoverflow.com/&#34;&gt;Stack Overflow&lt;/a&gt; and use the &lt;a href=&#34;http://stackoverflow.com/questions/tagged/r&#34;&gt;[r]&lt;/a&gt; and &lt;a href=&#34;http://stackoverflow.com/questions/tagged/quantmod&#34;&gt;[quantmod]&lt;/a&gt; tags.  Or you can send an email to the &lt;a href=&#34;https://stat.ethz.ch/mailman/listinfo/r-sig-finance&#34;&gt;R-SIG-Finance&lt;/a&gt; mailing list (you must subscribe to post). Open an &lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues&#34;&gt;issue on GitHub&lt;/a&gt; if you find a bug or want to request a feature. Please &lt;a href=&#34;https://github.com/joshuaulrich/quantmod/blob/master/.github/CONTRIBUTING.md&#34;&gt;read the contributing guide&lt;/a&gt; first! It will help save time for both of us. ;-)&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>microbenchmark_1.4-7 on CRAN</title>
      <link>https://blog.fosstrading.com/2019/10/microbenchmark-1-4-7-on-cran/</link>
      <pubDate>Thu, 10 Oct 2019 06:21:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2019/10/microbenchmark-1-4-7-on-cran/</guid>
      <description>&lt;p&gt;I pushed an updated &lt;a href=&#34;https://cran.r-project.org/package=microbenchmark&#34;&gt;microbenchmark to CRAN&lt;/a&gt; a couple weeks ago. There were two noteworthy changes, thanks to great contributions from &lt;a href=&#34;https://github.com/MichaelChirico&#34;&gt;@MichaelChirico&lt;/a&gt; and &lt;a href=&#34;https://github.com/harvey131&#34;&gt;@harvey131&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Michael fixed a bug in the check for whether the unit argument was a character string (&lt;a href=&#34;https://github.com/joshuaulrich/microbenchmark/issues/9&#34;&gt;#9&lt;/a&gt;, &lt;a href=&#34;https://github.com/joshuaulrich/microbenchmark/pull/10&#34;&gt;#10&lt;/a&gt;). The prior behavior was an uninformative error.&lt;/p&gt;
&lt;p&gt;Harvey added a feature to allow you to use a string for common checks: &amp;ldquo;equal&amp;rdquo;, &amp;ldquo;identical&amp;rdquo;, and &amp;ldquo;equivalent&amp;rdquo; (&lt;a href=&#34;https://github.com/joshuaulrich/microbenchmark/pull/16&#34;&gt;#16&lt;/a&gt;). So you don&amp;rsquo;t need to create a custom function to use &lt;code&gt;all.equal()&lt;/code&gt;, &lt;code&gt;all.equal(..., check.attributes = FALSE)&lt;/code&gt;, and identical, respectively.&lt;/p&gt;
&lt;p&gt;I also converted the unit tests to use &lt;a href=&#34;https://cran.r-project.org/package=RUnit&#34;&gt;RUnit&lt;/a&gt;. I also made some changes to the repo, including adding a contributing guide and issue/pull-request templates.&lt;/p&gt;
&lt;div class=&#34;container&#34; role=&#34;main&#34;&gt;
  &lt;div class=&#34;row&#34;&gt;
    &lt;hr&gt;
    &lt;p&gt;If you love using my open-source work (e.g. &lt;a href=&#34;https://cran.r-project.org/package=quantmod&#34;&gt;quantmod&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=TTR&#34;&gt;TTR&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=xts&#34;&gt;xts&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=IBrokers&#34;&gt;IBrokers&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=microbenchmark&#34;&gt;microbenchmark&lt;/a&gt;, etc.), you can give back by &lt;a href=&#34;https://github.com/sponsors/joshuaulrich/&#34;&gt;sponsoring me on GitHub&lt;/a&gt;. I truly appreciate anything you&amp;rsquo;re willing and able to give!&lt;/p&gt;

    &lt;p&gt;I look forward to your questions and feedback! If you have a question, please ask on &lt;a href=&#34;http://stackoverflow.com/&#34;&gt;Stack Overflow&lt;/a&gt; and use the &lt;a href=&#34;http://stackoverflow.com/questions/tagged/r&#34;&gt;[r]&lt;/a&gt; and &lt;a href=&#34;http://stackoverflow.com/questions/tagged/microbenchmark&#34;&gt;[microbenchmark]&lt;/a&gt; tags.  Or you can send an email to the &lt;a href=&#34;https://stat.ethz.ch/mailman/listinfo/r-sig-finance&#34;&gt;R-SIG-Finance&lt;/a&gt; mailing list (you must subscribe to post). Open an &lt;a href=&#34;https://github.com/joshuaulrich/microbenchmark/issues&#34;&gt;issue on GitHub&lt;/a&gt; if you find a bug or want to request a feature. Please &lt;a href=&#34;https://github.com/joshuaulrich/microbenchmark/blob/master/.github/CONTRIBUTING.md&#34;&gt;read the contributing guide&lt;/a&gt; first! It will help save time for both of us. ;-)&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>quantmod_0.4-14 on CRAN</title>
      <link>https://blog.fosstrading.com/2019/03/quantmod-0-4-14-on-cran/</link>
      <pubDate>Mon, 25 Mar 2019 06:53:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2019/03/quantmod-0-4-14-on-cran/</guid>
      <description>&lt;p&gt;I just pushed a new release of &lt;a href=&#34;http://www.quantmod.com/&#34;&gt;quantmod&lt;/a&gt; to &lt;a href=&#34;https://cran.r-project.org/package=quantmod&#34;&gt;CRAN&lt;/a&gt;! &lt;code&gt;getSymbols()&lt;/code&gt; no longer stops if there&amp;rsquo;s a problem with a ticker symbol. And &lt;code&gt;getQuote()&lt;/code&gt; can now import quotes from &lt;a href=&#34;https://www.tiingo.com/&#34;&gt;Tiingo&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;m most excited about the update to &lt;code&gt;getSymbols()&lt;/code&gt; so it doesn&amp;rsquo;t throw an error and stop processing if there&amp;rsquo;s a problem with one ticker symbol. Now &lt;code&gt;getSymbols()&lt;/code&gt; will import all the data it can, and provide an informative error message for any ticker symbols it could not import.&lt;/p&gt;
&lt;p&gt;At a close second, I&amp;rsquo;m also excited about being able to import quotes from &lt;a href=&#34;https://www.tiingo.com/&#34;&gt;Tiingo&lt;/a&gt; using &lt;code&gt;getQuote()&lt;/code&gt;!. But don&amp;rsquo;t thank me; thank &lt;a href=&#34;https://github.com/ethanbsmith&#34;&gt;Ethan Smith&lt;/a&gt; for the feature request [&lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/247&#34;&gt;#247&lt;/a&gt;] and pull request [&lt;a href=&#34;https://github.com/joshuaulrich/quantmod/pull/250&#34;&gt;#250&lt;/a&gt;].&lt;/p&gt;
&lt;p&gt;There are also several bug fixes in this release.  The most noticeable are fixes to &lt;code&gt;getDividends()&lt;/code&gt;  and &lt;code&gt;getSplits()&lt;/code&gt;. &lt;a href=&#34;https://finance.yahoo.com/&#34;&gt;Yahoo! Finance&lt;/a&gt; continues to have stability issues. Now it returns raw dividends instead of split-adjusted dividends (thanks to Douglas Barnard for the report [&lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/253&#34;&gt;#253&lt;/a&gt;]), and the actual split adjustment ratio instead of the inverse (e.g. now 1/2 instead of 2/1).  I suggest using a different data provider. See my post: &lt;a href=&#34;http://blog.fosstrading.com/2017/06/yahoo-finance-alternatives.html&#34;&gt;Yahoo! Finance Alternatives&lt;/a&gt; for some suggestions.&lt;/p&gt;
&lt;p&gt;See the &lt;a href=&#34;https://cran.r-project.org/web/packages/quantmod/news/news.html&#34;&gt;news&lt;/a&gt; file for the other bug fixes. Please let me know what you think about these changes.  I need your feedback and input to make quantmod even better!&lt;/p&gt;
&lt;div class=&#34;container&#34; role=&#34;main&#34;&gt;
  &lt;div class=&#34;row&#34;&gt;
    &lt;hr&gt;
    &lt;p&gt;If you love using my open-source work (e.g. &lt;a href=&#34;https://cran.r-project.org/package=quantmod&#34;&gt;quantmod&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=TTR&#34;&gt;TTR&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=xts&#34;&gt;xts&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=IBrokers&#34;&gt;IBrokers&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=microbenchmark&#34;&gt;microbenchmark&lt;/a&gt;, etc.), you can give back by &lt;a href=&#34;https://github.com/sponsors/joshuaulrich/&#34;&gt;sponsoring me on GitHub&lt;/a&gt;. I truly appreciate anything you&amp;rsquo;re willing and able to give!&lt;/p&gt;

    &lt;p&gt;I look forward to your questions and feedback! If you have a question, please ask on &lt;a href=&#34;http://stackoverflow.com/&#34;&gt;Stack Overflow&lt;/a&gt; and use the &lt;a href=&#34;http://stackoverflow.com/questions/tagged/r&#34;&gt;[r]&lt;/a&gt; and &lt;a href=&#34;http://stackoverflow.com/questions/tagged/quantmod&#34;&gt;[quantmod]&lt;/a&gt; tags.  Or you can send an email to the &lt;a href=&#34;https://stat.ethz.ch/mailman/listinfo/r-sig-finance&#34;&gt;R-SIG-Finance&lt;/a&gt; mailing list (you must subscribe to post). Open an &lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues&#34;&gt;issue on GitHub&lt;/a&gt; if you find a bug or want to request a feature. Please &lt;a href=&#34;https://github.com/joshuaulrich/quantmod/blob/master/.github/CONTRIBUTING.md&#34;&gt;read the contributing guide&lt;/a&gt; first! It will help save time for both of us. ;-)&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>xts 0.11-2 on CRAN</title>
      <link>https://blog.fosstrading.com/2018/11/xts-0-11-2-on-cran/</link>
      <pubDate>Tue, 06 Nov 2018 06:35:00 -0600</pubDate>
      
      <guid>https://blog.fosstrading.com/2018/11/xts-0-11-2-on-cran/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://cloud.r-project.org/package=xts&#34;&gt;xts&lt;/a&gt; version 0.11-2 was published to &lt;a href=&#34;https://cloud.r-project.org/&#34;&gt;CRAN&lt;/a&gt; yesterday. This is quick a bug-fix release.&lt;/p&gt;
&lt;p&gt;Notable changes are below:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The xts method for &lt;code&gt;shift.time()&lt;/code&gt; is now registered. Thanks to Philippe Verspeelt for the report and PR (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/268&#34;&gt;#268&lt;/a&gt;, &lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/273&#34;&gt;#273&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;An if-statement in the &lt;code&gt;xts&lt;/code&gt; constructor will no longer try to use a logical vector with length &amp;gt; 1. Code like &lt;code&gt;if (c(TRUE, TRUE))&lt;/code&gt; will throw a warning in an upcoming R release, and this patch will prevent that warning. Thanks to Hugh Parsonage for the report and PR (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/270&#34;&gt;#270&lt;/a&gt;, &lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/272&#34;&gt;#272&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Fix subset when &lt;code&gt;index(i)&lt;/code&gt; and &lt;code&gt;i&lt;/code&gt; contain duplicates. Observations were being incorrectly dropped, and behavior is now consistent with zoo. Thanks to Stack Overflow user &lt;a href=&#34;https://stackoverflow.com/users/4024268/scs&#34;&gt;scs&lt;/a&gt; for the report, and Philippe Verspeelt for the help debugging (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/275&#34;&gt;#275&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Make column names for &lt;code&gt;merge()&lt;/code&gt; results with unnamed objects shorter and more like zoo (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/248&#34;&gt;#248&lt;/a&gt;). Previously, column names could be hundreds, even thousands, of characters. This change has the added benefit of making &lt;code&gt;na.fill()&lt;/code&gt; much faster (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/259&#34;&gt;#259&lt;/a&gt;). NOTE: This may BREAK existing code for integer unnamed objects.&lt;/li&gt;
&lt;li&gt;The &lt;code&gt;to.period()&lt;/code&gt; family of functions now use the index timezone when converting intraday index values to daily values (or lower frequency). Previously, the dates would be calculated as UTC dates, instead of dates in the local timezone (as they are now). Thanks to Garrett See and Gabor Grothendieck for the reports (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/53&#34;&gt;#53&lt;/a&gt;, &lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/277&#34;&gt;#277&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;container&#34; role=&#34;main&#34;&gt;
  &lt;div class=&#34;row&#34;&gt;
    &lt;hr&gt;
    &lt;p&gt;If you love using my open-source work (e.g. &lt;a href=&#34;https://cran.r-project.org/package=quantmod&#34;&gt;quantmod&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=TTR&#34;&gt;TTR&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=xts&#34;&gt;xts&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=IBrokers&#34;&gt;IBrokers&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=microbenchmark&#34;&gt;microbenchmark&lt;/a&gt;, etc.), you can give back by &lt;a href=&#34;https://github.com/sponsors/joshuaulrich/&#34;&gt;sponsoring me on GitHub&lt;/a&gt;. I truly appreciate anything you&amp;rsquo;re willing and able to give!&lt;/p&gt;

    &lt;p&gt;I look forward to your questions and feedback! If you have a question, please ask on &lt;a href=&#34;http://stackoverflow.com/&#34;&gt;Stack Overflow&lt;/a&gt; and use the &lt;a href=&#34;http://stackoverflow.com/questions/tagged/r&#34;&gt;[r]&lt;/a&gt; and &lt;a href=&#34;http://stackoverflow.com/questions/tagged/xts&#34;&gt;[xts]&lt;/a&gt; tags.  Or you can send an email to the &lt;a href=&#34;https://stat.ethz.ch/mailman/listinfo/r-sig-finance&#34;&gt;R-SIG-Finance&lt;/a&gt; mailing list (you must subscribe to post). Open an &lt;a href=&#34;https://github.com/joshuaulrich/xts/issues&#34;&gt;issue on GitHub&lt;/a&gt; if you find a bug or want to request a feature. Please &lt;a href=&#34;https://github.com/joshuaulrich/xts/blob/master/.github/CONTRIBUTING.md&#34;&gt;read the contributing guide&lt;/a&gt; first! It will help save time for both of us. ;-)&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>xts 0.11-1 on CRAN</title>
      <link>https://blog.fosstrading.com/2018/09/xts-0-11-1-on-cran/</link>
      <pubDate>Wed, 12 Sep 2018 13:36:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2018/09/xts-0-11-1-on-cran/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://cloud.r-project.org/package=xts&#34;&gt;xts&lt;/a&gt; version 0.11-1 was published to &lt;a href=&#34;https://cloud.r-project.org/&#34;&gt;CRAN&lt;/a&gt; this morning. &lt;a href=&#34;https://cloud.r-project.org/package=xts&#34;&gt;xts&lt;/a&gt; provides data structure and functions to work with time-indexed data.  This release contains some awesome features that will transparently make your &lt;a href=&#34;https://cloud.r-project.org/package=xts&#34;&gt;xts&lt;/a&gt; code even faster!&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;There&amp;rsquo;s a new &lt;code&gt;window.xts()&lt;/code&gt; method, thanks to Corwin Joy (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/100&#34;&gt;#100&lt;/a&gt;, &lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/240&#34;&gt;#240&lt;/a&gt;). Corwin also refactored and improved the performance of the binary search algorithm used to subset xts objects. Tom Andrews reported and fixed a few related regressions (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/251&#34;&gt;#251&lt;/a&gt;, &lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/263&#34;&gt;#263&lt;/a&gt;, &lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/264&#34;&gt;#264&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;The &lt;code&gt;na.locf.xts()&lt;/code&gt; method loops over columns of multivariate objects in C code, for improved speed and memory performance. Thanks to Chris Katsulis and Tom Andrews for their reports and patches (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/232&#34;&gt;#232&lt;/a&gt;, &lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/233&#34;&gt;#233&lt;/a&gt;, &lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/234&#34;&gt;#234&lt;/a&gt;, &lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/235&#34;&gt;#235&lt;/a&gt;, &lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/237&#34;&gt;#237&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;After many years, &lt;code&gt;merge.xts()&lt;/code&gt; can finally handle multiple character or complex xts objects. Thanks to Ken Williams for the report (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/44&#34;&gt;#44&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;You can use &amp;ldquo;quarters&amp;rdquo; to specify tick/grid mark locations on plots. Thanks to Marc Weibel for the report (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/256&#34;&gt;#256&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;There are also a few notable bug fixes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;make.index.unique()&lt;/code&gt; always returns a unique and sorted index. Thanks to Chris Katsulis for the report and example (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/241&#34;&gt;#241&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Plots have better axis tick mark locations, thanks to Dirk Eddelbuettel (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/246&#34;&gt;#246&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;periodicity()&lt;/code&gt; now warns instead of errors if the xts object contains less than 2 observations (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/230&#34;&gt;#230&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;first()&lt;/code&gt; and &lt;code&gt;last()&lt;/code&gt; now keep dims when they would otherwise be dropped by a regular row subset. This is consistent with &lt;code&gt;head()&lt;/code&gt; and &lt;code&gt;tail()&lt;/code&gt;. Thanks to Davis Vaughan for the report (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/226&#34;&gt;#226&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;An invalid ISO8601 range subset now returns no data instead of all rows (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/96&#34;&gt;#96&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;As always, I&amp;rsquo;m looking forward to your questions and feedback! If you have a question, please ask on &lt;a href=&#34;https://stackoverflow.com/&#34;&gt;Stack Overflow&lt;/a&gt; and use the &lt;a href=&#34;https://stackoverflow.com/questions/tagged/r&#34;&gt;[r]&lt;/a&gt; and &lt;a href=&#34;https://stackoverflow.com/questions/tagged/xts&#34;&gt;[xts]&lt;/a&gt; tags. Or you can send an email to the &lt;a href=&#34;https://stat.ethz.ch/mailman/listinfo/r-sig-finance&#34;&gt;R-SIG-Finance mailing list&lt;/a&gt; (you must subscribe to post). Open an issue &lt;a href=&#34;https://github.com/joshuaulrich/xts&#34;&gt;on GitHub&lt;/a&gt; if you find a bug or want to request a feature, but please read the &lt;a href=&#34;https://github.com/joshuaulrich/xts/blob/master/.github/CONTRIBUTING.md&#34;&gt;contributing guide&lt;/a&gt; first!&lt;/p&gt;
&lt;div class=&#34;container&#34; role=&#34;main&#34;&gt;
  &lt;div class=&#34;row&#34;&gt;
    &lt;hr&gt;
    &lt;p&gt;If you love using my open-source work (e.g. &lt;a href=&#34;https://cran.r-project.org/package=quantmod&#34;&gt;quantmod&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=TTR&#34;&gt;TTR&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=xts&#34;&gt;xts&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=IBrokers&#34;&gt;IBrokers&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=microbenchmark&#34;&gt;microbenchmark&lt;/a&gt;, etc.), you can give back by &lt;a href=&#34;https://github.com/sponsors/joshuaulrich/&#34;&gt;sponsoring me on GitHub&lt;/a&gt;. I truly appreciate anything you&amp;rsquo;re willing and able to give!&lt;/p&gt;

    &lt;p&gt;I look forward to your questions and feedback! If you have a question, please ask on &lt;a href=&#34;http://stackoverflow.com/&#34;&gt;Stack Overflow&lt;/a&gt; and use the &lt;a href=&#34;http://stackoverflow.com/questions/tagged/r&#34;&gt;[r]&lt;/a&gt; and &lt;a href=&#34;http://stackoverflow.com/questions/tagged/xts&#34;&gt;[xts]&lt;/a&gt; tags.  Or you can send an email to the &lt;a href=&#34;https://stat.ethz.ch/mailman/listinfo/r-sig-finance&#34;&gt;R-SIG-Finance&lt;/a&gt; mailing list (you must subscribe to post). Open an &lt;a href=&#34;https://github.com/joshuaulrich/xts/issues&#34;&gt;issue on GitHub&lt;/a&gt; if you find a bug or want to request a feature. Please &lt;a href=&#34;https://github.com/joshuaulrich/xts/blob/master/.github/CONTRIBUTING.md&#34;&gt;read the contributing guide&lt;/a&gt; first! It will help save time for both of us. ;-)&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>Learning to code is worth it</title>
      <link>https://blog.fosstrading.com/2018/08/learning-to-code-is-worth-it/</link>
      <pubDate>Fri, 24 Aug 2018 13:03:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2018/08/learning-to-code-is-worth-it/</guid>
      <description>&lt;p&gt;Someone recently shared this great talk by &lt;a href=&#34;http://bitemyapp.com/&#34;&gt;Chris Allen&lt;/a&gt; from &lt;a href=&#34;http://lambdaconf.us/&#34;&gt;lambda conf&lt;/a&gt; 2017.  The title of the talk is &amp;ldquo;Why Johnny Can&amp;rsquo;t Code Good,&amp;rdquo; but the content is more about how to grow as a programmer.  His points are true whether you&amp;rsquo;re just starting out, or have been coding for years.&lt;/p&gt;
&lt;p&gt;My notes from Chris&#39; talk are below, in the order they appear in the presentation.  My thoughts are in parentheses.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;He&amp;rsquo;s not talking about people who can&amp;rsquo;t code, but rather those who haven&amp;rsquo;t learned to code.  They usually work in the industry, but only know just enough to get things done.  They aren&amp;rsquo;t super-independent, and may have trouble taking on new things.  All of us have been here before (often multiple times in different disciplines; whenever we start something new).&lt;/p&gt;
&lt;p&gt;The problem is when you get stuck working on pre-defined tasks in a well-defined space.  The computer science industry&amp;rsquo;s priorities are now wrapped around accommodating people who are comfortable staying there.&lt;/p&gt;
&lt;p&gt;For example, nodejs, Go, and other new languages optimize for &amp;ldquo;zero-to-blog&amp;rdquo;, not for something maintainable, or that allows people to build useful abstractions.  There&amp;rsquo;s more focus on what is marketable in a short blog post.&lt;/p&gt;
&lt;p&gt;(An interesting point on hiring:) you can&amp;rsquo;t &amp;ldquo;hire only the best&amp;rdquo;, unless you&amp;rsquo;re able to attract talent. You can&amp;rsquo;t select for it, because other employers trying to &amp;ldquo;hire only the best&amp;rdquo; too.&lt;/p&gt;
&lt;p&gt;Using new tools is not learning new skills.  Learning how to learn, without someone feeding you pre-digested material, is how you grow.&lt;/p&gt;
&lt;p&gt;Don&amp;rsquo;t say something is easy. It&amp;rsquo;s always going to be harder for some, it depends on their context. Either something is worth learning, or it&amp;rsquo;s not. There may be some return-on-investment cutoff point, but it&amp;rsquo;s either worth trying or it&amp;rsquo;s not.&lt;/p&gt;
&lt;p&gt;We&amp;rsquo;re an amnesiac culture. We don&amp;rsquo;t remember 5 years ago (and we don&amp;rsquo;t like learning history).&lt;/p&gt;
&lt;p&gt;Don&amp;rsquo;t train how you play. Train harder, be more focused and structured.  (This is a sports analogy. The idea is that you work harder in training than you will work during a game.  That makes the game seem easy.  I have a habit of doing harder things when I&amp;rsquo;m doing something of lesser consequence.  People often asked me how I learned something, and the answer is often &amp;ldquo;I broke something and learned until I understood what I broke and what was needed to fix it.&amp;rdquo;  This is sub-optimal at work, when a faster solution that isn&amp;rsquo;t fully understood is preferable to a slower solution that is.)&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>R/Finance 2018 Registration</title>
      <link>https://blog.fosstrading.com/2018/04/rfinance-2018-registration/</link>
      <pubDate>Fri, 20 Apr 2018 13:26:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2018/04/rfinance-2018-registration/</guid>
      <description>&lt;p&gt;This year marks the 10th anniversary of the R/Finance Conference!  As in prior years, we expect more than 250 attendees from around the world. R users from industry, academia, and government will joining 50+ presenters covering all areas of finance with R.  The conference will take place on June 1st and 2nd, at &lt;a href=&#34;http://www.uic.edu/&#34;&gt;UIC&lt;/a&gt; in Chicago.&lt;/p&gt;
&lt;p&gt;You can find &lt;a href=&#34;http://www.rinfinance.com/#registration&#34;&gt;registration information&lt;/a&gt;on the conference website, or you can go directly to the &lt;a href=&#34;http://go.uic.edu/rfinance&#34;&gt;Cvent registration page&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Note that registration fees &lt;em&gt;&lt;strong&gt;will increase by 50%&lt;/strong&gt;&lt;/em&gt; at the end of early registration on May 21, 2018.&lt;/p&gt;
&lt;p&gt;We are very excited about keynote presentations by &lt;a href=&#34;https://github.com/jjallaire&#34;&gt;JJ Allaire&lt;/a&gt;, &lt;a href=&#34;https://www.linkedin.com/in/lideng&#34;&gt;Li Deng&lt;/a&gt;, and &lt;a href=&#34;https://faculty.engineering.ucdavis.edu/matloff/&#34;&gt;Norm Matloff&lt;/a&gt;.  The conference agenda (currently) includes 18 full presentations and 33 shorter &amp;ldquo;lightning talks&amp;rdquo;.  As in previous years, several (optional) pre-conference seminars are offered on Friday morning.  We&amp;rsquo;re still working on the agenda, but we have another great lineup of speakers this year!&lt;/p&gt;
&lt;p&gt;There is also an (optional) conference dinner at Wyndham Grand Chicago Riverfront in the 39th Floor Penthouse Ballroom and Terrace.  Situated directly on the riverfront, it is a perfect venue to continue conversations while dining and drinking.&lt;/p&gt;
&lt;p&gt;We would to thank our 2018 Sponsors for the continued support enabling us to host such an exciting conference:&lt;/p&gt;
&lt;p&gt;  &lt;a href=&#34;http://business.uic.edu/liautaud-programs/masters-finance&#34;&gt;UIC Liautaud Master of Science in Finance&lt;/a&gt;&lt;br&gt;
  &lt;a href=&#34;http://msdsug.microsoft.com/&#34;&gt;Microsoft&lt;/a&gt;&lt;br&gt;
  &lt;a href=&#34;https://www.r-consortium.org/&#34;&gt;R Consortium&lt;/a&gt;&lt;br&gt;
  &lt;a href=&#34;https://www.rstudio.com/&#34;&gt;RStudio&lt;/a&gt;&lt;br&gt;
  &lt;a href=&#34;https://www.williamblair.com/&#34;&gt;William Blair&lt;/a&gt;&lt;br&gt;
  &lt;a href=&#34;https://www.citadel.com/&#34;&gt;Citadel&lt;/a&gt;&lt;br&gt;
  &lt;a href=&#34;https://www.quasardb.net/&#34;&gt;Quasardb&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;On behalf of the committee and sponsors, we look forward to seeing you in Chicago!&lt;/p&gt;
&lt;p&gt;  Gib Bassett, Peter Carl, Dirk Eddelbuettel, Brian Peterson, Dale Rosenthal, Jeffrey Ryan, Joshua Ulrich&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Goodbye Google, Hello Tiingo!</title>
      <link>https://blog.fosstrading.com/2018/04/goodbye-google-hello-tiingo/</link>
      <pubDate>Fri, 13 Apr 2018 11:14:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2018/04/goodbye-google-hello-tiingo/</guid>
      <description>&lt;p&gt;First, the bad news:&lt;/p&gt;
&lt;p&gt;Google Finance no longer provides data for historical prices or financial statements, so we say goodbye to &lt;code&gt;getSymbols.google()&lt;/code&gt; and &lt;code&gt;getFinancials.google()&lt;/code&gt;. (&lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/221&#34;&gt;#221&lt;/a&gt;)  They are now defunct as of quantmod 0.4-13.&lt;/p&gt;
&lt;p&gt;Now, the good news:&lt;/p&gt;
&lt;p&gt;Thanks to &lt;a href=&#34;https://github.com/SteveBronder&#34;&gt;Steve Bronder&lt;/a&gt;, &lt;code&gt;getSymbols()&lt;/code&gt; can now import data from &lt;a href=&#34;https://www.tiingo.com/&#34;&gt;Tiingo&lt;/a&gt;! (&lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/220&#34;&gt;#220&lt;/a&gt;)  This feature is part of quantmod 0.4-13, which is &lt;a href=&#34;https://cran.r-project.org/package=quantmod&#34;&gt;now on CRAN&lt;/a&gt;.  Windows and Mac binaries should be built in a day or two.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.tiingo.com/&#34;&gt;Tiingo&lt;/a&gt; is a web service that provides tools and data for financial analysis.  They provide daily price history for US stocks and ADRs, Chinese stocks, Mutual Funds, and ETFs.  There is up to 30+ years of history, including raw prices and split/dividend adjusted prices.&lt;/p&gt;
&lt;p&gt;All this data is accessible for free, with reasonable symbol and bandwidth limits.  All you need to get started is a one-time registration for an API token.  You should see your API token just above the beginning of the &lt;a href=&#34;https://api.tiingo.com/docs/tiingo/daily#metaData&#34;&gt;metadata section&lt;/a&gt;, after logging in, of course.  Tiingo has a well-documented &lt;a href=&#34;https://api.tiingo.com/docs/tiingo/daily&#34;&gt;daily price data API&lt;/a&gt; that returns either JSON or CSV.&lt;/p&gt;
&lt;p&gt;To get started, install the latest &lt;a href=&#34;https://cran.r-project.org/package=quantmod&#34;&gt;quantmod from CRAN&lt;/a&gt;.  Then you call:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;nf&#34;&gt;getSymbols&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;MSFT&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;src&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;tiingo&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;api.key&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;\[your key\]&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;   
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Where you replace &lt;code&gt;&amp;quot;\[your key\]&amp;quot;&lt;/code&gt; with the API key you receive after registration.  You can use &lt;code&gt;setDefaults()&lt;/code&gt; to set your API key one time, and use it for all &lt;code&gt;getSymbols.tiingo()&lt;/code&gt; calls.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;nf&#34;&gt;setDefaults&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;getSymbols.tiingo&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;api.key&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;\[your key\]&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Other notable changes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;There is now a &lt;code&gt;getQuote.alphavantage()&lt;/code&gt; that allows you to pull real-time quotes from Alpha Vantage.  Thanks to &lt;a href=&#34;https://github.com/ethanbsmith&#34;&gt;Ethan Smith&lt;/a&gt;! (&lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/213&#34;&gt;#213&lt;/a&gt;, &lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/223&#34;&gt;#223&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Speaking of &lt;a href=&#34;https://www.alphavantage.co/&#34;&gt;Alpha Vantage&lt;/a&gt;, getSymbols.av() can now pull weekly and monthly adjusted prices. (&lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/212&#34;&gt;#212&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;The URL in &lt;code&gt;getSymbols.oanda()&lt;/code&gt; and &lt;code&gt;getFX()&lt;/code&gt; has been updated, so they work again. (&lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/225&#34;&gt;#225&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;getQuote.yahoo()&lt;/code&gt; no longer errors when a field has no data for all requested tickers. (&lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/208&#34;&gt;#208&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;saveChart()&lt;/code&gt; actually saves charts now (&lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/154&#34;&gt;#154&lt;/a&gt;). Brilliant!&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>xts 0.10-2 on CRAN</title>
      <link>https://blog.fosstrading.com/2018/03/xts-0-10-2-on-cran/</link>
      <pubDate>Mon, 19 Mar 2018 05:30:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2018/03/xts-0-10-2-on-cran/</guid>
      <description>&lt;p&gt;This &lt;a href=&#34;http://joshuaulrich.github.io/xts/&#34;&gt;xts&lt;/a&gt; release contains mostly bugfixes, but there are a few noteworthy features. Some of these features were added in version 0.10-1, but I forgot to blog about it. Anyway, in no particular order:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;endpoints()&lt;/code&gt; gained sub-second accuracy on Windows (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/202&#34;&gt;#202&lt;/a&gt;)!&lt;/li&gt;
&lt;li&gt;&lt;code&gt;na.locf.xts()&lt;/code&gt; now honors &lt;code&gt;x&lt;/code&gt; and &lt;code&gt;xout&lt;/code&gt; arguments by dispatching to the next method (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/215&#34;&gt;#215&lt;/a&gt;). Thanks to Morten Grum for the report.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;na.locf.xts()&lt;/code&gt; and &lt;code&gt;na.omit.xts()&lt;/code&gt; now support character xts objects. Thanks to Ken Williams and Samo Pahor for the reports (&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues/42&#34;&gt;#42&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Many of the bug fixes were related to the new plot.xts() introduced in 0.10-0. And a handful of bug fixes were to make xts more consistent with zoo in some edge cases.&lt;/p&gt;
&lt;div class=&#34;container&#34; role=&#34;main&#34;&gt;
  &lt;div class=&#34;row&#34;&gt;
    &lt;hr&gt;
    &lt;p&gt;If you love using my open-source work (e.g. &lt;a href=&#34;https://cran.r-project.org/package=quantmod&#34;&gt;quantmod&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=TTR&#34;&gt;TTR&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=xts&#34;&gt;xts&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=IBrokers&#34;&gt;IBrokers&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=microbenchmark&#34;&gt;microbenchmark&lt;/a&gt;, etc.), you can give back by &lt;a href=&#34;https://github.com/sponsors/joshuaulrich/&#34;&gt;sponsoring me on GitHub&lt;/a&gt;. I truly appreciate anything you&amp;rsquo;re willing and able to give!&lt;/p&gt;

    &lt;p&gt;I look forward to your questions and feedback! If you have a question, please ask on &lt;a href=&#34;http://stackoverflow.com/&#34;&gt;Stack Overflow&lt;/a&gt; and use the &lt;a href=&#34;http://stackoverflow.com/questions/tagged/r&#34;&gt;[r]&lt;/a&gt; and &lt;a href=&#34;http://stackoverflow.com/questions/tagged/xts&#34;&gt;[xts]&lt;/a&gt; tags.  Or you can send an email to the &lt;a href=&#34;https://stat.ethz.ch/mailman/listinfo/r-sig-finance&#34;&gt;R-SIG-Finance&lt;/a&gt; mailing list (you must subscribe to post). Open an &lt;a href=&#34;https://github.com/joshuaulrich/xts/issues&#34;&gt;issue on GitHub&lt;/a&gt; if you find a bug or want to request a feature. Please &lt;a href=&#34;https://github.com/joshuaulrich/xts/blob/master/.github/CONTRIBUTING.md&#34;&gt;read the contributing guide&lt;/a&gt; first! It will help save time for both of us. ;-)&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;

</description>
    </item>
    
    <item>
      <title>R/Finance 2018: Call for Papers</title>
      <link>https://blog.fosstrading.com/2018/01/rfinance-2018-call-for-papers/</link>
      <pubDate>Tue, 09 Jan 2018 11:32:00 -0600</pubDate>
      
      <guid>https://blog.fosstrading.com/2018/01/rfinance-2018-call-for-papers/</guid>
      <description>&lt;p&gt;R/Finance 2018: Applied Finance with R&lt;/p&gt;
&lt;p&gt;June 1 and 2, 2018&lt;/p&gt;
&lt;p&gt;University of Illinois at Chicago&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Call For Papers&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The tenth annual R/Finance conference for applied finance using &lt;a href=&#34;https://www.r-project.org/&#34;&gt;R&lt;/a&gt; will be held June 1 and 2, 2018 in Chicago, IL, USA at the &lt;a href=&#34;https://www.uic.edu/&#34;&gt;University of Illinois at Chicago&lt;/a&gt;. The conference will cover topics including portfolio management, time series analysis, advanced risk tools, high-performance computing, market microstructure, and econometrics. All will be discussed within the context of using R as a primary tool for financial risk management, portfolio construction, and trading.&lt;/p&gt;
&lt;p&gt;Over the past nine years, R/Finance has included attendees from around the world. It has featured presentations from prominent academics and practitioners, and we anticipate another exciting line-up for 2018.&lt;/p&gt;
&lt;p&gt;We invite you to submit complete papers in pdf format for consideration. We will also consider one-page abstracts (in txt or pdf format) although more complete papers are preferred. We welcome submissions for both full talks and abbreviated lightning talks. Both academic and practitioner proposals related to R are encouraged.&lt;/p&gt;
&lt;p&gt;All slides will be made publicly available at conference time. Presenters are strongly encouraged to provide working R code to accompany the slides. Data sets should also be made public for the purposes of reproducibility (though we realize this may be limited due to contracts with data vendors). Preference may be given to presenters who have released R packages.&lt;/p&gt;
&lt;p&gt;Please submit proposals online at &lt;a href=&#34;http://go.uic.edu/rfinsubmit&#34;&gt;http://go.uic.edu/rfinsubmit&lt;/a&gt;&lt;a href=&#34;https://www.blogger.com/&#34;&gt;&lt;/a&gt;. Submissions will be reviewed and accepted on a rolling basis with a final submission deadline of February 2, 2018. Submitters will be notified via email by March 2, 2018 of acceptance, presentation length, and financial assistance (if requested).&lt;/p&gt;
&lt;p&gt;Financial assistance for travel and accommodation may be available to presenters. Requests for financial assistance do not affect acceptance decisions. Requests should be made at the time of submission. Requests made after submission are much less likely to be fulfilled. Assistance will be granted at the discretion of the conference committee.&lt;/p&gt;
&lt;p&gt;Additional details will be announced via the &lt;a href=&#34;http://www.rinfinance.com/&#34;&gt;conference website&lt;/a&gt; as they become available. Information on previous years&#39; presenters and their presentations are also at the conference website. We will make a separate announcement when registration opens.&lt;/p&gt;
&lt;p&gt;For the program committee:&lt;/p&gt;
&lt;p&gt;Gib Bassett, Peter Carl, Dirk Eddelbuettel, Brian Peterson, Dale Rosenthal, Jeffrey Ryan, Joshua Ulrich&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>RQuantLib 0.4.4 for Windows</title>
      <link>https://blog.fosstrading.com/2018/01/rquantlib-044-for-windows/</link>
      <pubDate>Fri, 05 Jan 2018 14:02:00 -0600</pubDate>
      
      <guid>https://blog.fosstrading.com/2018/01/rquantlib-044-for-windows/</guid>
      <description>&lt;p&gt;I&amp;rsquo;m pleased to announce that the &lt;a href=&#34;https://cran.r-project.org/package=RQuantLib&#34;&gt;RQuantLib&lt;/a&gt; Windows binaries are now up to 0.4.4!  The RQuantLib pre-built Windows binaries have been frozen on CRAN since 0.4.2, but now you can get version 0.4.4 binaries on &lt;a href=&#34;http://dirk.eddelbuettel.com/&#34;&gt;Dirk&amp;rsquo;s&lt;/a&gt; &lt;a href=&#34;https://ghrr.github.io/drat/&#34;&gt;ghrr drat repo&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Installation is as simple as:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;n&#34;&gt;drat&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;::&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;addRepo&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;ghrr&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# maybe use &amp;#39;install.packages(&amp;#34;drat&amp;#34;)&amp;#39; first &lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;install.packages&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;RQuantLib&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;binary&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;I will be able to create Windows binaries for future RQuantLib versions too, now that I have a Windows &lt;a href=&#34;http://quantlib.org/index.shtml&#34;&gt;QuantLib&lt;/a&gt; build (version 1.11) to link against.&lt;/p&gt;
&lt;p&gt;Dirk and I plan to talk with CRAN about getting the new binaries hosted there.  Regardless, they will always be available via the drat repo.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>getSymbols and Alpha Vantage</title>
      <link>https://blog.fosstrading.com/2017/10/getsymbols-and-alpha-vantage/</link>
      <pubDate>Fri, 06 Oct 2017 16:12:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2017/10/getsymbols-and-alpha-vantage/</guid>
      <description>&lt;p&gt;Thanks to &lt;a href=&#34;http://quantdevel.com/public/&#34;&gt;Paul Teetor&lt;/a&gt;, &lt;code&gt;getSymbols()&lt;/code&gt; can now import data from &lt;a href=&#34;https://www.alphavantage.co/&#34;&gt;Alpha Vantage&lt;/a&gt;!  This feature is part of the &lt;a href=&#34;http://www.quantmod.com/&#34;&gt;quantmod&lt;/a&gt; 0.4-11 release, and provides another &lt;a href=&#34;http://blog.fosstrading.com/2017/06/yahoo-finance-alternatives.html&#34;&gt;another data source&lt;/a&gt; to avoid any &lt;a href=&#34;http://blog.fosstrading.com/2017/06/quantmod-0-4-9-on-cran.html&#34;&gt;Yahoo Finance API changes&lt;/a&gt;*.&lt;/p&gt;
&lt;p&gt;Alpha Vantage is a free web service that provides real-time and historical equity data.  They provide daily, weekly, and monthly history for both domestic and international markets, with up to 20 years of history. Dividend and split adjusted close prices are available for daily data. They also provide near real-time price bars at a resolution of 1 minute or more, for up to 10 recent days.&lt;/p&gt;
&lt;p&gt;All you need to get started is a &lt;a href=&#34;https://www.alphavantage.co/support/#api-key&#34;&gt;one-time registration for an API key&lt;/a&gt;.  Alpha Vantage has &lt;a href=&#34;https://www.alphavantage.co/documentation/&#34;&gt;clean, documented, public API&lt;/a&gt; that returns either JSON-encoded data or a CSV file.  The arguments to &lt;code&gt;getSymbols.av()&lt;/code&gt; closely follow the native API, so be sure to use their documentation!&lt;/p&gt;
&lt;p&gt;To get started, install the latest &lt;a href=&#34;https://cran.r-project.org/package=quantmod&#34;&gt;quantmod from CRAN&lt;/a&gt;.  Then you call:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;nf&#34;&gt;getSymbols&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;MSFT&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;src&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;av&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;api.key&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;\[your key\]&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Where you replace &lt;code&gt;&amp;quot;\[your key&amp;quot;\]&lt;/code&gt; with the API key you receive after registration.  You can use &lt;code&gt;setDefaults()&lt;/code&gt; to set your API key one time, and use it for all &lt;code&gt;getSymbols.av()&lt;/code&gt; calls.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;nf&#34;&gt;setDefaults&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;getSymbols.av&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;api.key&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;\[your key\]&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;* Speaking of API changes, this release also includes a fix for a Yahoo Finance change (&lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/174&#34;&gt;#174&lt;/a&gt;).&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>xts 0.10-0 on CRAN!</title>
      <link>https://blog.fosstrading.com/2017/07/xts-0-10-0-on-cran/</link>
      <pubDate>Fri, 07 Jul 2017 14:10:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2017/07/xts-0-10-0-on-cran/</guid>
      <description>&lt;p&gt;A new, and long overdue, release of &lt;a href=&#34;http://joshuaulrich.github.io/xts/&#34;&gt;xts&lt;/a&gt; is now on &lt;a href=&#34;https://cran.r-project.org/package=xts&#34;&gt;CRAN&lt;/a&gt;!  The major change is the completely new &lt;a href=&#34;http://joshuaulrich.github.io/xts/plotting_basics.html&#34;&gt;plot.xts()&lt;/a&gt; written by Michael Weylandt and Ross Bennett, and which is based on Jeff Ryan&amp;rsquo;s &lt;code&gt;quantmod::chart_Series()&lt;/code&gt; code.&lt;/p&gt;
&lt;p&gt;Do note that the new &lt;code&gt;plot.xts()&lt;/code&gt; includes breaking changes to the original (and rather limited) &lt;code&gt;plot.xts()&lt;/code&gt;.  However, we believe the new functionality more than compensates for the potential one-time inconvenience.  And I will no longer have to tell people that I use &lt;code&gt;plot.zoo()&lt;/code&gt; on xts objects!&lt;/p&gt;
&lt;p&gt;This release also includes more bug fixes than you can shake a stick at.  We squashed several bugs that could have crashed your R session.  We also fixed some (always pesky and tricky) timezone issues.  We&amp;rsquo;ve also done more sanity checking (e.g. for NA in the index), and provide more informative errors when things aren&amp;rsquo;t right.  And last, but not least, unit tests are running again!&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;m sure you were hoping to see some examples of the new &lt;code&gt;plot.xts()&lt;/code&gt; functionality.  Rather than clutter up this blog post with code, check out the &lt;a href=&#34;http://joshuaulrich.github.io/xts/plotting_basics.html&#34;&gt;basic examples&lt;/a&gt;, and the &lt;a href=&#34;http://joshuaulrich.github.io/xts/plotting_panels.html&#34;&gt;panel functionality examples&lt;/a&gt; that Ross Bennett created.&lt;/p&gt;
&lt;div class=&#34;container&#34; role=&#34;main&#34;&gt;
  &lt;div class=&#34;row&#34;&gt;
    &lt;hr&gt;
    &lt;p&gt;If you love using my open-source work (e.g. &lt;a href=&#34;https://cran.r-project.org/package=quantmod&#34;&gt;quantmod&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=TTR&#34;&gt;TTR&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=xts&#34;&gt;xts&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=IBrokers&#34;&gt;IBrokers&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=microbenchmark&#34;&gt;microbenchmark&lt;/a&gt;, etc.), you can give back by &lt;a href=&#34;https://github.com/sponsors/joshuaulrich/&#34;&gt;sponsoring me on GitHub&lt;/a&gt;. I truly appreciate anything you&amp;rsquo;re willing and able to give!&lt;/p&gt;

    &lt;p&gt;I look forward to your questions and feedback! If you have a question, please ask on &lt;a href=&#34;http://stackoverflow.com/&#34;&gt;Stack Overflow&lt;/a&gt; and use the &lt;a href=&#34;http://stackoverflow.com/questions/tagged/r&#34;&gt;[r]&lt;/a&gt; and &lt;a href=&#34;http://stackoverflow.com/questions/tagged/xts&#34;&gt;[xts]&lt;/a&gt; tags.  Or you can send an email to the &lt;a href=&#34;https://stat.ethz.ch/mailman/listinfo/r-sig-finance&#34;&gt;R-SIG-Finance&lt;/a&gt; mailing list (you must subscribe to post). Open an &lt;a href=&#34;https://github.com/joshuaulrich/xts/issues&#34;&gt;issue on GitHub&lt;/a&gt; if you find a bug or want to request a feature. Please &lt;a href=&#34;https://github.com/joshuaulrich/xts/blob/master/.github/CONTRIBUTING.md&#34;&gt;read the contributing guide&lt;/a&gt; first! It will help save time for both of us. ;-)&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;

</description>
    </item>
    
    <item>
      <title>Disclosures</title>
      <link>https://blog.fosstrading.com/page/disclosures/</link>
      <pubDate>Thu, 22 Jun 2017 00:00:00 +0000</pubDate>
      
      <guid>https://blog.fosstrading.com/page/disclosures/</guid>
      <description>&lt;h2 id=&#34;amazon&#34;&gt;Amazon&lt;/h2&gt;
&lt;p&gt;We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.&lt;/p&gt;
&lt;h2 id=&#34;csi-data&#34;&gt;CSI Data&lt;/h2&gt;
&lt;p&gt;We receive an affiliate commission when a reader signs up for a CSI data package via a referring link from this site and/or using the &amp;ldquo;FOSS&amp;rdquo; coupon code.&lt;/p&gt;
&lt;h2 id=&#34;privacy-policy&#34;&gt;Privacy Policy&lt;/h2&gt;
&lt;p&gt;This privacy policy has been compiled to better serve those who are concerned with how this site uses their &amp;lsquo;Personally Identifiable Information&amp;rsquo; (information that can be used on its own or with other information to identify, contact, or locate a single person, or to identify an individual in context). Please read our privacy policy carefully to get a clear understanding of how we collect, use, protect or otherwise handle your Personally Identifiable Information in accordance with our website.&lt;/p&gt;
&lt;h4 id=&#34;do-we-use-cookies&#34;&gt;Do we use &amp;lsquo;cookies&amp;rsquo;?&lt;/h4&gt;
&lt;p&gt;Yes. Cookies are small files that a site or its service provider transfers to your computer&amp;rsquo;s hard drive through your Web browser (if you allow) that enables the site&amp;rsquo;s or service provider&amp;rsquo;s systems to recognize your browser and capture and remember certain information. For instance, we use cookies to help us remember and process the items in your shopping cart. They are also used to help us understand your preferences based on previous or current site activity, which enables us to provide you with improved services. We also use cookies to help us compile aggregate data about site traffic and site interaction so that we can offer better site experiences and tools in the future.&lt;/p&gt;
&lt;p&gt;We use cookies to:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Keep track of advertisements.&lt;/li&gt;
&lt;li&gt;Compile aggregate data about site traffic and site interactions in order to offer better site experiences and tools in the future. We may also use trusted third-party services that track this information on our behalf.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You can choose to have your computer warn you each time a cookie is being sent, or you can choose to turn off all cookies. You do this through your browser settings. Since browser is a little different, look at your browser&amp;rsquo;s Help Menu to learn the correct way to modify your cookies.&lt;/p&gt;
&lt;p&gt;If you turn cookies off, Some of the features that make your site experience more efficient may not function properly. It won&amp;rsquo;t affect the user&amp;rsquo;s experience that make your site experience more efficient and may not function properly.&lt;/p&gt;
&lt;h4 id=&#34;third-party-disclosure&#34;&gt;Third-party disclosure&lt;/h4&gt;
&lt;p&gt;We do not sell, trade, or otherwise transfer to outside parties your Personally Identifiable Information unless we provide users with advance notice. This does not include website hosting partners and other parties who assist us in operating our website, conducting our business, or serving our users, so long as those parties agree to keep this information confidential. We may also release information when it&amp;rsquo;s release is appropriate to comply with the law, enforce our site policies, or protect ours or others&#39; rights, property or safety.&lt;/p&gt;
&lt;p&gt;However, non-personally identifiable visitor information may be provided to other parties for marketing, advertising, or other uses.&lt;/p&gt;
&lt;h4 id=&#34;third-party-links&#34;&gt;Third-party links&lt;/h4&gt;
&lt;p&gt;Occasionally, at our discretion, we may include or offer third-party products or services on our website. These third-party sites have separate and independent privacy policies. We therefore have no responsibility or liability for the content and activities of these linked sites. Nonetheless, we seek to protect the integrity of our site and welcome any feedback about these sites.&lt;/p&gt;
&lt;h4 id=&#34;google&#34;&gt;Google&lt;/h4&gt;
&lt;p&gt;Google&amp;rsquo;s advertising requirements can be summed up by &lt;a href=&#34;http://google%27s%20advertising%20principles/&#34;&gt;Google&amp;rsquo;s Advertising Principles&lt;/a&gt;. They are put in place to provide a positive experience for users.&lt;/p&gt;
&lt;p&gt;We use Google AdSense Advertising on our website. Google, as a third-party vendor, uses cookies to serve ads on our site. Google&amp;rsquo;s use of the DART cookie enables it to serve ads to our users based on previous visits to our site and other sites on the Internet. Users may opt-out of the use of the DART cookie by visiting the Google Ad and Content Network privacy policy.&lt;/p&gt;
&lt;p&gt;We, along with third-party vendors such as Google, use first-party cookies (such as the Google Analytics cookies) and third-party cookies (such as the DoubleClick cookie) or other third-party identifiers together to compile data regarding user interactions with ad impressions and other ad service functions as they relate to our website.&lt;/p&gt;
&lt;p&gt;Opting out:
Users can set preferences for how Google advertises to you using the Google Ad Settings page. Alternatively, you can opt out by visiting the Network Advertising Initiative Opt Out page or by using the Google Analytics Opt Out Browser add on.&lt;/p&gt;
&lt;h4 id=&#34;can-spam-act&#34;&gt;CAN SPAM Act&lt;/h4&gt;
&lt;p&gt;The CAN-SPAM Act is a law that sets the rules for commercial email, establishes requirements for commercial messages, gives recipients the right to have emails stopped from being sent to them, and spells out tough penalties for violations.&lt;/p&gt;
&lt;p&gt;We do not collect your email address. If you choose to share a post via email, Google&amp;rsquo;s Blogger service will ask your and the recipient&amp;rsquo;s email addresses, but we do not collect that information.&lt;/p&gt;
&lt;h4 id=&#34;contacting-us&#34;&gt;Contacting Us&lt;/h4&gt;
&lt;p&gt;Please &lt;a href=&#34;mailto:josh.m.ulrich@gmail.com&#34;&gt;contact us&lt;/a&gt; if you have any questions regarding this privacy policy.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Importing and managing financial data</title>
      <link>https://blog.fosstrading.com/2017/06/importing-and-managing-financial-data2/</link>
      <pubDate>Wed, 21 Jun 2017 07:07:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2017/06/importing-and-managing-financial-data2/</guid>
      <description>&lt;p&gt;I&amp;rsquo;m excited to announce my &lt;a href=&#34;https://www.datacamp.com&#34;&gt;DataCamp&lt;/a&gt; course on &lt;a href=&#34;https://www.datacamp.com/courses/importing-and-managing-financial-data-in-r&#34;&gt;importing and managing financial data in R&lt;/a&gt;! I&amp;rsquo;m also honored that it is included in DataCamp&amp;rsquo;s &lt;a href=&#34;https://www.datacamp.com/tracks/quantitative-analyst-with-r&#34;&gt;Quantitative Analyst with R Career Track&lt;/a&gt;!&lt;/p&gt;
&lt;p&gt;You can explore the first chapter for free, so be sure to check it out!&lt;/p&gt;
&lt;h3 id=&#34;course-description&#34;&gt;Course Description&lt;/h3&gt;
&lt;p&gt;Financial and economic time series data come in various shapes, sizes, and periodicities. Getting the data into R can be stressful and time-consuming, especially when you need to merge data from several different sources into one data set. This course covers importing data from local files as well as from internet sources.&lt;/p&gt;
&lt;h3 id=&#34;course-outline&#34;&gt;Course Outline&lt;/h3&gt;
&lt;h5 id=&#34;chapter-1-introduction-and-downloading-data&#34;&gt;Chapter 1: Introduction and downloading data&lt;/h5&gt;
&lt;p&gt;A wealth of financial and economic data are available online. Learn how &lt;code&gt;getSymbols()&lt;/code&gt; and &lt;code&gt;Quandl()&lt;/code&gt; make it easy to access data from a variety of sources.&lt;/p&gt;
&lt;h5 id=&#34;chapter-2-extracting-and-transforming-data&#34;&gt;Chapter 2: Extracting and transforming data&lt;/h5&gt;
&lt;p&gt;You&amp;rsquo;ve learned how to import data from online sources, now it&amp;rsquo;s time to see how to extract columns from the imported data. After you&amp;rsquo;ve learned how to extract columns from a single object, you will explore how to import, transform, and extract data from multiple instruments.&lt;/p&gt;
&lt;h5 id=&#34;chapter-3-managing-data-from-multiple-sources&#34;&gt;Chapter 3: Managing data from multiple sources&lt;/h5&gt;
&lt;p&gt;Learn how to simplify and streamline your workflow by taking advantage of the ability to customize default arguments to &lt;code&gt;getSymbols()&lt;/code&gt;. You will see how to customize defaults by data source, and then how to customize defaults by symbol. You will also learn how to handle problematic instrument symbols&lt;/p&gt;
&lt;h6 id=&#34;chapter-4-aligning-data-with-different-periodicities&#34;&gt;Chapter 4: Aligning data with different periodicities&lt;/h6&gt;
&lt;p&gt;You&amp;rsquo;ve learned how to import, extract, and transform data from multiple data sources. You often have to manipulate data from different sources in order to combine them into a single data set. First, you will learn how to convert sparse, irregular data into a regular series. Then you will review how to aggregate dense data to a lower frequency. Finally, you will learn how to handle issues with intra-day data.&lt;/p&gt;
&lt;h5 id=&#34;chapter-5-importing-text-data-and-adjusting-for-corporate-actions&#34;&gt;Chapter 5: Importing text data, and adjusting for corporate actions&lt;/h5&gt;
&lt;p&gt;You&amp;rsquo;ve learned the core workflow of importing and manipulating financial data. Now you will see how to import data from text files of various formats. Then you will learn how to check data for weirdness and handle missing values. Finally, you will learn how to adjust stock prices for splits and dividends.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>quantmod 0.4-9 on CRAN</title>
      <link>https://blog.fosstrading.com/2017/06/quantmod-0-4-9-on-cran/</link>
      <pubDate>Wed, 07 Jun 2017 12:25:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2017/06/quantmod-0-4-9-on-cran/</guid>
      <description>&lt;p&gt;A new release of &lt;a href=&#34;http://www.quantmod.com/&#34;&gt;quantmod&lt;/a&gt; is now on &lt;a href=&#34;https://cran.r-project.org/package=quantmod&#34;&gt;CRAN&lt;/a&gt;! The only change was to address changes to &lt;a href=&#34;https://finance.yahoo.com/&#34;&gt;Yahoo! Finance&lt;/a&gt; and their effects on &lt;code&gt;getSymbols.yahoo()&lt;/code&gt;.  GitHub issue &lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/157&#34;&gt;#157&lt;/a&gt; contains some details about the fix implementation.&lt;/p&gt;
&lt;p&gt;Unfortunately, the URL wasn&amp;rsquo;t the only thing that changed.  The actual data available for download changed as well.&lt;/p&gt;
&lt;p&gt;The most noticeable difference is that the adjusted close column is no longer dividend-adjusted (i.e. it&amp;rsquo;s only split-adjusted).  Also, only the close price is unadjusted; the open, high, and low are split-adjusted.&lt;/p&gt;
&lt;p&gt;There also appear to be issues with the adjusted prices in some instruments.  For example, users reported issues with split data for XLF and SPXL in GitHub issue &lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/160&#34;&gt;#160&lt;/a&gt;.  For XLF, there a split &lt;em&gt;and&lt;/em&gt; a dividend on 2016-09-16, even on the &lt;a href=&#34;https://finance.yahoo.com/quote/XLF/history?period1=1473138000&amp;amp;period2=1474866000&amp;amp;interval=1d&amp;amp;filter=history&amp;amp;frequency=1d&#34;&gt;Yahoo! Finance historical price page for XLF&lt;/a&gt;. As far as I can tell, there was only a special dividend.  The problem with SPXL is that the adjusted close price isn&amp;rsquo;t adjusted for the 4/1 split on 2017-05-01, which is also reflected on the &lt;a href=&#34;https://finance.yahoo.com/quote/SPXL/history?period1=1488088800&amp;amp;period2=1495774800&amp;amp;interval=1d&amp;amp;filter=history&amp;amp;frequency=1d&#34;&gt;Yahoo! Finance historical prices page for SPXL&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Another change is that the downloaded data may contain rows where all the values are &amp;ldquo;null&amp;rdquo;.  These appear on the website as &amp;ldquo;0&amp;rdquo;.  This is a major issue for some instruments.  Take XLU for example; 188 of the 624 days of data are missing between 2014-12-04 and 2017-05-26 (ouch!).  You can see this is even true on the &lt;a href=&#34;https://finance.yahoo.com/quote/XLU/history?period1=1417672800&amp;amp;period2=1422079200&amp;amp;interval=1d&amp;amp;filter=history&amp;amp;frequency=1d&#34;&gt;Yahoo! Finance historical price page for XLU&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;If these changes have made you look for a new data provider, see my post: &lt;a href=&#34;http://blog.fosstrading.com/2017/06/yahoo-finance-alternatives.html&#34;&gt;Yahoo! Finance Alternatives&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&#34;container&#34; role=&#34;main&#34;&gt;
  &lt;div class=&#34;row&#34;&gt;
    &lt;hr&gt;
    &lt;p&gt;If you love using my open-source work (e.g. &lt;a href=&#34;https://cran.r-project.org/package=quantmod&#34;&gt;quantmod&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=TTR&#34;&gt;TTR&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=xts&#34;&gt;xts&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=IBrokers&#34;&gt;IBrokers&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=microbenchmark&#34;&gt;microbenchmark&lt;/a&gt;, etc.), you can give back by &lt;a href=&#34;https://github.com/sponsors/joshuaulrich/&#34;&gt;sponsoring me on GitHub&lt;/a&gt;. I truly appreciate anything you&amp;rsquo;re willing and able to give!&lt;/p&gt;

    &lt;p&gt;I look forward to your questions and feedback! If you have a question, please ask on &lt;a href=&#34;http://stackoverflow.com/&#34;&gt;Stack Overflow&lt;/a&gt; and use the &lt;a href=&#34;http://stackoverflow.com/questions/tagged/r&#34;&gt;[r]&lt;/a&gt; and &lt;a href=&#34;http://stackoverflow.com/questions/tagged/quantmod&#34;&gt;[quantmod]&lt;/a&gt; tags.  Or you can send an email to the &lt;a href=&#34;https://stat.ethz.ch/mailman/listinfo/r-sig-finance&#34;&gt;R-SIG-Finance&lt;/a&gt; mailing list (you must subscribe to post). Open an &lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues&#34;&gt;issue on GitHub&lt;/a&gt; if you find a bug or want to request a feature. Please &lt;a href=&#34;https://github.com/joshuaulrich/quantmod/blob/master/.github/CONTRIBUTING.md&#34;&gt;read the contributing guide&lt;/a&gt; first! It will help save time for both of us. ;-)&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;

</description>
    </item>
    
    <item>
      <title>Yahoo Finance Alternatives</title>
      <link>https://blog.fosstrading.com/2017/06/yahoo-finance-alternatives/</link>
      <pubDate>Wed, 07 Jun 2017 12:20:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2017/06/yahoo-finance-alternatives/</guid>
      <description>&lt;p&gt;I assume that you&amp;rsquo;re reading this because you are one of many people who were affected by the changes to Yahoo Finance data in May (2017).  Not only did the URL change, but the actual data changed as well!&lt;/p&gt;
&lt;p&gt;The most noticeable difference is that the adjusted close column is now only split-adjusted, whereas it used to be split- and dividend-adjusted.  Another oddity is that only the close prices is unadjusted (strangely, the open, high, and low are split-adjusted).&lt;/p&gt;
&lt;p&gt;All these issues can be dealt with using tools that are currently available.  For example, you can unadjust the open, high, and low prices using the ratio of close to adjusted close prices.  And you can adjust for both splits and dividends using &lt;code&gt;quantmod::adjustOHLC()&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Unfortunately, there also appear to be issues with data quality.  Some instruments have rows where all the prices and volume are zeros (e.g. &lt;a href=&#34;https://finance.yahoo.com/quote/XLU/history?period1=1417672800&amp;amp;period2=1422079200&amp;amp;interval=1d&amp;amp;filter=history&amp;amp;frequency=1d&#34;&gt;XLU&lt;/a&gt;).  The adjusted close in some instruments is incorrect because of missing split events, or double-counting splits and special dividends.&lt;/p&gt;
&lt;p&gt;So, what are your alternatives?  If you&amp;rsquo;re just tinkering, you can try other free data sources like &lt;a href=&#34;https://www.google.com/finance&#34;&gt;Google Finance&lt;/a&gt; or &lt;a href=&#34;https://www.quandl.com/&#34;&gt;Quandl&lt;/a&gt;.  Note that Google Finance data is already split-adjusted, so you might need to adjust for dividends, or un-adjust for splits, depending on your needs.  Quandl has a &lt;a href=&#34;https://www.quandl.com/data/WIKI-Wiki-EOD-Stock-Prices&#34;&gt;wiki of end-of-day stock prices&lt;/a&gt; curated by the community.  You only need a free account to access the data.&lt;/p&gt;
&lt;p&gt;If you&amp;rsquo;re using the data to make actual investment decisions, you should really be using a professional data provider.  At the very least, you get someone to yell at when the data have errors. :)  First, you should check if your broker provides the historical data you need (e.g. &lt;a href=&#34;https://www.interactivebrokers.com/&#34;&gt;Interactive Brokers&lt;/a&gt; provides historical and real-time data to account-holders).&lt;/p&gt;
&lt;p&gt;If your broker doesn&amp;rsquo;t provide historical data, here are a few providers you may want to consider:&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://api.tiingo.com/&#34;&gt;Tiingo&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Free historical end-of-day data (registration and API key required)&lt;/li&gt;
&lt;li&gt;Up to 50+ years of daily data (split and dividend adjusted) for over 65,000 equities, mutual funds, and ETFs&lt;/li&gt;
&lt;li&gt;Free historical and real-time crypto data (4+ year of daily prices, 2+ years of intraday data)&lt;/li&gt;
&lt;li&gt;Free historical and real-time intraday data from IEX, beginning in August 2017&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://blog.fosstrading.com/2018/04/goodbye-google-hello-tiingo.html&#34;&gt;Available via &lt;code&gt;getSymbols()&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&#34;https://www.alphavantage.co/&#34;&gt;Alpha Vantage&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Free historical and intraday equity data (registration and API key required)&lt;/li&gt;
&lt;li&gt;Up to 20 years of daily data (split and dividend adjusted available)&lt;/li&gt;
&lt;li&gt;Up to 10 days of intraday data (1min, 5min, 15min, 30min, 60min)&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://blog.fosstrading.com/2017/10/getsymbols-and-alpha-vantage.html&#34;&gt;Available via &lt;code&gt;getSymbols()&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&#34;http://www.eoddata.com/download.aspx&#34;&gt;eoddata&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Provide limited historical data for free&lt;/li&gt;
&lt;li&gt;For a one-time fee:
&lt;ul&gt;
&lt;li&gt;$20-$50 for 10 years of daily data&lt;/li&gt;
&lt;li&gt;$40-$100 for 20 years of daily data&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&#34;https://www.csicheckout.com/cgi-bin/ua_order_form_nw.pl?referrer=JU&#34;&gt;CSI Data&lt;/a&gt; &lt;strong&gt;*&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Massive historical equity database&lt;/li&gt;
&lt;li&gt;$600 annually for 30 years of daily data&lt;/li&gt;
&lt;li&gt;Ability to adjust for splits and dividends&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&#34;http://www.iqfeed.net/&#34;&gt;IQFeed&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Mainly a real-time data provider, but also has historical data&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.iqfeed.net/index.cfm?displayaction=data&amp;amp;section=services&#34;&gt;Features&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.iqfeed.net/index.cfm?displayaction=data&amp;amp;section=fees&#34;&gt;Pricing&lt;/a&gt;, starts at $78/month&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Leave a comment if you know of another end-of-day data provider that I didn&amp;rsquo;t list!&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;* FULL DISCLOSURE&lt;/strong&gt;: I receive a referral fee for annual subscriptions to CSI products if you use the FOSS coupon code.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>quantmod 0.4-8 on CRAN</title>
      <link>https://blog.fosstrading.com/2017/04/quantmod-0-4-8-on-cran/</link>
      <pubDate>Wed, 19 Apr 2017 10:45:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2017/04/quantmod-0-4-8-on-cran/</guid>
      <description>&lt;p&gt;I pushed a bug-fix release of &lt;a href=&#34;http://www.quantmod.com/&#34;&gt;quantmod&lt;/a&gt; to &lt;a href=&#34;https://cran.r-project.org/&#34;&gt;CRAN&lt;/a&gt; last night. The major changes were to&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;getSymbols.FRED()&lt;/code&gt; (&lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/141&#34;&gt;#141&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;getSymbols.oanda()&lt;/code&gt; (&lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/144&#34;&gt;#144&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;getSymbols.yahoo()&lt;/code&gt; (&lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/149&#34;&gt;#149&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;All three providers made breaking changes to their URLs/interfaces.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;getSymbols.google()&lt;/code&gt; also got some love. It now honors all arguments set via &lt;code&gt;setSymbolLookup()&lt;/code&gt; (&lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/138&#34;&gt;#138&lt;/a&gt;), and it correctly parses the date column in non-English locales (&lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/140&#34;&gt;#140&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;There&amp;rsquo;s a handy new argument to &lt;code&gt;getDividends()&lt;/code&gt;: &lt;code&gt;split.adjust&lt;/code&gt;. It allows you to request dividends unadjusted for splits (&lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/140&#34;&gt;#128&lt;/a&gt;). Yahoo provides split-adjusted dividends, so you previously had to manually unadjust them for splits if you wanted the original raw values. To import the raw unadjusted dividends, just call:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;n&#34;&gt;rawDiv&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getDividends&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;IBM&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;split.adjust&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;FALSE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Note that the default is &lt;code&gt;split.adjust = TRUE&lt;/code&gt; to maintain backward-compatibility.&lt;/p&gt;
&lt;div class=&#34;container&#34; role=&#34;main&#34;&gt;
  &lt;div class=&#34;row&#34;&gt;
    &lt;hr&gt;
    &lt;p&gt;If you love using my open-source work (e.g. &lt;a href=&#34;https://cran.r-project.org/package=quantmod&#34;&gt;quantmod&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=TTR&#34;&gt;TTR&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=xts&#34;&gt;xts&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=IBrokers&#34;&gt;IBrokers&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=microbenchmark&#34;&gt;microbenchmark&lt;/a&gt;, etc.), you can give back by &lt;a href=&#34;https://github.com/sponsors/joshuaulrich/&#34;&gt;sponsoring me on GitHub&lt;/a&gt;. I truly appreciate anything you&amp;rsquo;re willing and able to give!&lt;/p&gt;

    &lt;p&gt;I look forward to your questions and feedback! If you have a question, please ask on &lt;a href=&#34;http://stackoverflow.com/&#34;&gt;Stack Overflow&lt;/a&gt; and use the &lt;a href=&#34;http://stackoverflow.com/questions/tagged/r&#34;&gt;[r]&lt;/a&gt; and &lt;a href=&#34;http://stackoverflow.com/questions/tagged/quantmod&#34;&gt;[quantmod]&lt;/a&gt; tags.  Or you can send an email to the &lt;a href=&#34;https://stat.ethz.ch/mailman/listinfo/r-sig-finance&#34;&gt;R-SIG-Finance&lt;/a&gt; mailing list (you must subscribe to post). Open an &lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues&#34;&gt;issue on GitHub&lt;/a&gt; if you find a bug or want to request a feature. Please &lt;a href=&#34;https://github.com/joshuaulrich/quantmod/blob/master/.github/CONTRIBUTING.md&#34;&gt;read the contributing guide&lt;/a&gt; first! It will help save time for both of us. ;-)&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;

</description>
    </item>
    
    <item>
      <title>Stack Financials: Analyze Financial Statement Data</title>
      <link>https://blog.fosstrading.com/2017/02/stack-financials/</link>
      <pubDate>Tue, 14 Feb 2017 10:49:00 -0600</pubDate>
      
      <guid>https://blog.fosstrading.com/2017/02/stack-financials/</guid>
      <description>&lt;p&gt;A &lt;a href=&#34;http://www.quantmod.com/&#34;&gt;quantmod&lt;/a&gt; user asked an interesting question on &lt;a href=&#34;http://stackoverflow.com/&#34;&gt;StackOverflow&lt;/a&gt;: &lt;a href=&#34;http://stackoverflow.com/q/42047746/271616&#34;&gt;Looping viewFinancials from quantmod&lt;/a&gt;. Basically, they wanted to create a &lt;code&gt;data.frame&lt;/code&gt; that contained financial statement data for several companies for several years. I answered their question, and thought others might find the function I wrote useful&amp;hellip; hence, this post!&lt;/p&gt;
&lt;p&gt;I called the function &lt;code&gt;stackFinancials()&lt;/code&gt; because it would use &lt;code&gt;getFinancials()&lt;/code&gt; and &lt;code&gt;viewFinancials()&lt;/code&gt; to pull financial statement data for multiple symbols, and stack them together in long form. I chose a long data format because I don’t know whether the output of &lt;code&gt;viewFinancials()&lt;/code&gt; always has the same number of rows and columns for a given &lt;code&gt;type&lt;/code&gt; and &lt;code&gt;period&lt;/code&gt;. The long format makes it easy to put all the data in one object.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;n&#34;&gt;stackFinancials&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt;  
&lt;span class=&#34;nf&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;symbols&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;BS&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;IS&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;CF&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;period&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;A&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;Q&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;  
  &lt;span class=&#34;c1&#34;&gt;# Ensure the type and period arguments match viewFinancials  &lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;match.arg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;toupper&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;type[1]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;BS&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;IS&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;CF&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;  
  &lt;span class=&#34;n&#34;&gt;period&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;match.arg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;toupper&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;period[1]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;A&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;Q&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;  
  
  &lt;span class=&#34;c1&#34;&gt;# Simple function to get financials for one symbol  &lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;getOne&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;symbol&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;period&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;  
    &lt;span class=&#34;n&#34;&gt;gf&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getFinancials&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;symbol&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;auto.assign&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;FALSE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
    &lt;span class=&#34;n&#34;&gt;vf&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;viewFinancials&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;gf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;period&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;period&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
    &lt;span class=&#34;c1&#34;&gt;# Put viewFinancials output into a data.frame  &lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;df&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;data.frame&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;vf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;line.item&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;rownames&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;vf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;  
                     &lt;span class=&#34;n&#34;&gt;period&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;period&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;symbol&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;symbol&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;  
                     &lt;span class=&#34;n&#34;&gt;stringsAsFactors&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;FALSE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;check.names&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;FALSE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
    &lt;span class=&#34;c1&#34;&gt;# Reshape data.frame into long format  &lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;long&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;reshape&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;direction&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;long&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;varying&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;seq&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;ncol&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;vf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)),&lt;/span&gt;  
                    &lt;span class=&#34;n&#34;&gt;v.names&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;value&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;idvar&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;line.item&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;  
                    &lt;span class=&#34;n&#34;&gt;times&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;colnames&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;vf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;  
    &lt;span class=&#34;c1&#34;&gt;# Reset row.names to &amp;#34;automatic&amp;#34;  &lt;/span&gt;
    &lt;span class=&#34;nf&#34;&gt;rownames&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;long&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;NULL&lt;/span&gt;  
    &lt;span class=&#34;c1&#34;&gt;# Return data  &lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;long&lt;/span&gt;  
  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;  
  &lt;span class=&#34;c1&#34;&gt;# Loop over all symbols  &lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;allData&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;lapply&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;symbols&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;getOne&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;period&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;period&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
  &lt;span class=&#34;c1&#34;&gt;# rbind() all into one data.frame  &lt;/span&gt;
  &lt;span class=&#34;nf&#34;&gt;do.call&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;rbind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;allData&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Here’s a simple example of how to use &lt;code&gt;stackFinancials()&lt;/code&gt; to pull the quarterly (&lt;code&gt;period = &amp;quot;Q&amp;quot;&lt;/code&gt;) income statements (&lt;code&gt;type = &amp;quot;IS&amp;quot;&lt;/code&gt;) for General Electric and Apple:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;nf&#34;&gt;library&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;quantmod&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
&lt;span class=&#34;n&#34;&gt;Data&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;stackFinancials&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;GE&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;AAPL&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;IS&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;period&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;Q&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
&lt;span class=&#34;nf&#34;&gt;head&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##                line.item type period symbol       time value  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 1                Revenue   IS      Q     GE 2016-12-31 33088  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 2   Other Revenue, Total   IS      Q     GE 2016-12-31    NA  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 3          Total Revenue   IS      Q     GE 2016-12-31 33088  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 4 Cost of Revenue, Total   IS      Q     GE 2016-12-31 24775&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Now that we have the output in &lt;code&gt;Data&lt;/code&gt;, let’s do something with it. You could simply subset &lt;code&gt;Data&lt;/code&gt; to extract the components you want. For example, if you wanted to look at Apple’s quarterly revenue, you could subset &lt;code&gt;Data&lt;/code&gt; where &lt;code&gt;symbol == &amp;quot;AAPL&amp;quot;&lt;/code&gt; and &lt;code&gt;line.item == &amp;quot;Total Revenue&amp;quot;&lt;/code&gt;. But if you’re going to slicing-and-dicing a lot, it can often help to write a general function to simplify things. So I wrote &lt;code&gt;extractLineItem()&lt;/code&gt;. It takes the output of &lt;code&gt;stackFinancials()&lt;/code&gt; and a regular expression of the line item you want, and it returns an xts object that contains the given line items for all symbols in the data.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;n&#34;&gt;extractLineItem&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stackedFinancials&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;line.item&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;  
  &lt;span class=&#34;nf&#34;&gt;if &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;missing&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stackedFinancials&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;missing&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;line.item&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;  
    &lt;span class=&#34;nf&#34;&gt;stop&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;You must provide output from stackFinancials(),&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;  
         &lt;span class=&#34;s&#34;&gt;&amp;#34;and the line.item to extract&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;  
  &lt;span class=&#34;c1&#34;&gt;# Select line items matching user input  &lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;match.rows&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;grepl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;line.item&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Data&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;line.item&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ignore.case&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;TRUE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
  &lt;span class=&#34;n&#34;&gt;sfSubset&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Data[match.rows&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;]&lt;/span&gt;  
  &lt;span class=&#34;n&#34;&gt;getItem&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;  
    &lt;span class=&#34;c1&#34;&gt;# Create xts object  &lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;output&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;xts&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;as.yearmon&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;  
    &lt;span class=&#34;c1&#34;&gt;# Ensure column names are syntactically valid  &lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;valid.names&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;make.names&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;paste&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;symbol[1]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;line.item[1]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;  
    &lt;span class=&#34;c1&#34;&gt;# Remove repeating periods  &lt;/span&gt;
    &lt;span class=&#34;nf&#34;&gt;colnames&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;output&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;gsub&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;\\.+&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;\\.&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;valid.names&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
    &lt;span class=&#34;n&#34;&gt;output&lt;/span&gt;  
  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;  
  &lt;span class=&#34;c1&#34;&gt;# Split subset by line.item and symbol  &lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;symbol.item&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;split&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sfSubset&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sfSubset[&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;symbol&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;line.item&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
  &lt;span class=&#34;c1&#34;&gt;# Apply getItem() to each chunk, and merge into one object  &lt;/span&gt;
  &lt;span class=&#34;nf&#34;&gt;do.call&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;merge&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;lapply&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;symbol.item&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;getItem&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;  
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Let’s use &lt;code&gt;extractLineItem()&lt;/code&gt; to compare total revenue for GE and AAPL.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;n&#34;&gt;totalRevenue&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;extractLineItem&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;total revenue&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
&lt;span class=&#34;n&#34;&gt;totalRevenue&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##          AAPL.Total.Revenue GE.Total.Revenue  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Dec 2015              75872            24654  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Mar 2016              50557            27845  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Jun 2016              42358            61339  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Sep 2016              46852            90605  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Dec 2016              78351            33088&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;plot&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;totalRevenue&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;main&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;Quarterly Total Revenue, AAPL (black) vs GE (red)&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;data:image/png;base64,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xo3KTdpiY2M3b95cvnz5tBcApqtcuXLHjh27dOnS66+/rgRRk8m0ZMkS+fcuPKn89ttv//nPf7IbWa1gQ4lIly5dJk2adPToUfP989auXZuQkJDu3aBgIQJ8hoYOHXr9+nVlrulz584pJ7hSWbRo0dy5c52dnd96660tW7aIyKVLl/r06aP8VJkQzrxy7dq17e3tExMTb968qYWzsRcAACAASURBVMzuKCJKj1hwDso8gvT69ett2rT55JNPmjRpMnz48E8//dRgMCg3rnj06JFycKF8+fLpTqFhCV9fX+W1iIirq2vdunWf7XFS6dev35YtW+7fvx8WFpbqhGSTJk0aNGigLKd9mTncbhYyXzSr5BMHBwfLt22LFi2U46OSZsb+bD1OlizZzXLrGRMTE/fu3assp73f2EsvvaTMoGYwGA4fPty8eXPLV27ZsmW2XrXCYDCke9TGfB11KnXr1r1169b58+fTvbzZ1tZ25cqVK1euNPdUrly5bdu26T6UhXvg4MGDAwMDDQZDUFBQu3btzL9eokSJ999/P91Hrlq1aosWLfbs2WMymebMmfPDDz+Y77OiTOtovgQ9I5nse15eXnXq1Dl79mxYWFinTp2cnZ2fPHliHtiS+f1Xhw8fHhISohxcCA4OXrp0qflHNjY2H3744ffff5/2tzK6jZxkPEg+87cpJQt37L59++7fv99oNF64cMF8c7iUR13NLN/IAICc+PPPP5VPTJPJFBoaeu7cubCwMC8vrwkTJpjX+fjjj/v27Tt8+PAWLVp4eXlduHBh7969Pj4+ylA1BweHcePGjRo1qmfPnq1bt3Zxcdm1a1doaOh3332X9un++eef8PBwDw+PtDPGeXl5KWcUGjduXKtWrblz54aFhXl4eOzcuTM4OPjLL7+0cMxpkSJFRo0a9dVXX3Xv3r1169aOjo5//vnnX3/91bZtW6XgVPbu3ZtusLf6DSUifn5+q1evHjlyZKtWrSpWrHju3LnDhw/XqlWrW7duFj4C0mIIfYYcHBxmzpw5ePDgtIesvL29fX19ReTUqVPKt+fGjRun+kLcokUL5S7EZm5ubmPGjFHG2So6deo0fvx4ZXndunXm+STTVb58efMf/71795TM5uvr+/XXXysVRkVFKV9S69evv3jxYsvn4UjltddeMx8jbNq0ac7HzyucnZ2XLFmSdib8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&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;You could also combine multiple calls to &lt;code&gt;extractLineItem()&lt;/code&gt; to calculate ratios not included in the output from &lt;code&gt;viewFinancials()&lt;/code&gt;. For example, you could divide operating income by total revenue to calculate operating margin.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;n&#34;&gt;operatingIncome&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;extractLineItem&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;operating income&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
&lt;span class=&#34;n&#34;&gt;operatingIncome&lt;/span&gt; 
&lt;span class=&#34;c1&#34;&gt;##          AAPL.Operating.Income GE.Operating.Income  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Dec 2015                 24171                2863  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Mar 2016                 13987                 545  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Jun 2016                 10105                4736  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Sep 2016                 11761                6138  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Dec 2016                 23359                2892&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;plot&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;operatingIncome&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;totalRevenue&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;main&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;Quarterly Operating Margin, AAPL (black) vs GE (red)&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;data:image/png;base64,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58aNGxctWrRo0aJevXpNmjQpHo9PnDixW7durT8zAPClvP/++7/97W/vu+++t956q8UNPXv2vPXWW4uLi73hjnZPwAPtwSdH5X/5y19u2LAhmUym0+nXXnut+VH5qqqqxqfC5uXljR8/Ph6PT548+dxzz83I2ADAidTW1j7xxBMPPPBAiyfmQghZWVnjx48vKSmJx+O5ubmtPyG0PgEPtDeNR+XnzZu3adOmZ555JpVK/eEPfzh27Nhx2w4fPpxOp9Pp9M9+9rNLLrkkFov98Ic//PrXv56RmQGAT7z33nv/8R//UVZWtmPHjhY3DB48+Pbbb582bdr555/fyrNBZgl4oN0aOnRoSUlJSUnJ3r17V65cmUqlli1b9tFHHx23rb6+fv369evXr58/f/7w4cNjsVgikRgzZoyDcwDQmg4dOvTggw8+8MADa9eura+vb76hY8eOU6dOLSkpcTsdZywBD7R/PXv2TCQSiUSipqZm1apVqVTqsccea/GX+pWVlY1H5c8555wJEyYkEomrr77aM2MB4LR67bXXFi9e/Oijj+7bt6/FDd/85jdnzJhx0003OfXGGU7AA2eQ3NzcoqKioqKiO++88/XXX0+lUul0usVrbD/44IPGo/JdunQZN25cPB6fOnVqnz59Wn9mAGivqqqq7rnnngceeKCioqLFDd26dbvllltKSkrcTgeNBDxwJurQoUNBQUFBQcG8efMqKysbS/75559v/pC5Q4cONR6Vv+OOO0aPHh2Px6+77jon7gDgpDU0NKxcubK0tHT58uVHjhxpcU9RUdH06dOnTp3ao0ePVh4P2jIBD5zpGh8RP2vWrKqqqieffDKdTj/11FMHDhw4bltdXd3q1atXr149d+7cESNGxOPxWCw2duzYrKysjIwNAJGzadOmu+++++GHH966dWuLG/r06XP77bffdtttrpWFFgl4gI/16tWruLi4uLj48OHD5eXl6XR6+fLlu3btar6zoqKioqJi4cKFgwcPnjBhQiwWu+aaazp16tT6MwNA23f06NFly5aVlpY+99xzLd5Ol5OTc+21106fPt3PU/h8Ah7geHl5efF4PB6P//rXv248Kv/oo4++9dZbzXdu2bKltLS0tLQ0Pz+/qKgoFotNmTLlrLPOav2ZAaANevPNN++6665kMlldXd3ihq997Ws//elPp0+f3r9//1aeDaJIwAOcUPOj8slkssVn21RXVyeTyWQymZOTc/nllycSiRtuuGHAgAEZGRsAMmv//v2/+93vSktLW7wpNoTQpUuXW2+9dfr06Z7bCl+K7xaAL6TxqPyqVat27dp1//33x2KxFh8vV1tbu3r16tmzZw8cOHDkyJHz5s070d9dAKCdaWhoKC8vv/HGG/v06TNz5swWfwIWFBQsXrx4x44dixcvLiwsVO/wpXgFHuDLOeeccxqPyh86dGjlypXpdHrp0qXvv/9+850VFRXz58+fP3/+sGHDGt+Tf+WVV3bs2LH1ZwaA02r37t333Xffb3/727fffrvFDb17954xY8b06dNHjhzZyrNBeyLgAU5Sly5dGrP8rrvuWrt2bTqdfuKJJ955553mOzdu3Lho0aJFixb16tVr0qRJ8Xh8woQJ3bt3b/2ZAeAUOnbs2NKlS0tLS//4xz/W1dU135CVlTV+/PiSkpLJkye3+M414EsR8ABfVXZ2dmFhYWFh4YIFCzZs2JBOp1Op1Jo1axoaGo7bWVVVVVZWVlZWlpubW1hYGIvFbrzxxn79+mVkbAA4ae++++4999zzwAMP7Ny5s8UNQ4cO/ed//udp06YNHDiwlWeDdkzAA5xKI0eOHDly5Jw5c7Zs2fL000+nUqlnnnnm6NGjx22rqakpLy8vLy//+c9/fskll8RisZtuuumiiy7KyMwA8AUdPHjwoYce+pzb6Tp16jRlypSSkpJx48Y53w6nnIAHOC0GDx5cUlJSUlJSXV1dXl6eSqWWL1++b9++47bV19evX79+/fr18+fPHz58eCwWSyQSruQFoK1ZtWpVWVnZI4888tFHH7W44Vvf+tYdd9yRSCTy8/NbeTY4cwh4gNMrPz8/kUgkEom6urq1a9cmk8nHH39827ZtzXdWVlY2HpXv3bv3xIkT4/H4pEmTunbt2vozA0CjDz744N57773//vv/9re/tbihe/fuN998c0lJSUFBQSvPBmcgAQ/QSj45Kv/LX/5yw4YNyWQynU63+BbEPXv2NB6V79Kly7hx4+Lx+JQpU/r27dv6MwNwZqqrq1uxYkVZWdny5cuPHDnSfMMnt9PF4/Hc3NzWnxDOTAIeIAMaj8rPmzdv06ZNy5YtS6fTL7zwwrFjx47bdujQoXQ6nU6n77jjjtGjR8fj8WuvvfaCCy7IyMwAnAkqKytLS0sffPDB7du3t7ihb9++t912249//GM/j6D1CXiATBo6dOisWbNmzZq1d+/elStXplKppUuX7t+//7htdXV1q1evXr169dy5c0eMGBGPx2Ox2NixY7OysjIyNgDtzKFDhx577LGysrLnnnuuvr6++YaOHTtOnTq1pKTkqquuys7Obv0JgSDgAdqInj17Nh6Vr6mpWbVqVSqVeuyxx3bs2NF8Z0VFRUVFxcKFCwcNGjRx4sRYLHbNNdd06tSp9WcGoB14/fXX77777iVLlnz44Yctbjj//PNnzJhRXFzsuaeQcQIeoG3Jzc0tKioqKiq68847X3/99VQqlUwmKyoqmu/cunVraWlpaWlp165dr7rqqkQiMWXKlLPOOqv1ZwYgcqqqqh588MGysrITPRCua9eu06ZNczsdtCkCHqCN6tChQ0FBQUFBwbx58yorK1OpVDqdfv7552tra4/befDgwcaj8tnZ2aNHj04kEtdff/3AgQMzMjYAbVlDQ8PKlStLS0tTqVRNTU2Le4qKiqZPnz516tQePXq08njA5xPwABEwfPjwxqPye/bsWbFiRTqdfuqppw4cOHDctk+Oys+ePXvEiBGJRCIej1966aWOygOwefPmX//61w8//PDWrVtb3HDOOef8+Mc//tGPfnTRRRe18mzAFyTgAaKkd+/excXFxcXFhw8fLi8vT6fTy5cv37VrV/OdFRUV8+fPnz9//tChQ6+++upYLDZhwoSOHTu2/swAZNCxY8eWLl1aWlp6otvpcnJyrr322unTp7tRBdo+AQ8QSXl5efF4PB6P33XXXWvXrk2n08uWLXvrrbea79y0aVPjUfmePXuOHz8+Fot5VyTAmeDPf/7zv//7vz/22GN79+5tccPw4cNLSkpuvfXWAQMGtPJswMkR8ADRlp2dXVhYWFhYuGDBgsaj8slkcs2aNQ0NDcft3Lt3bzKZTCaTubm5hYWFsVgskUj0798/I2MDcJocOHDg4YcfLi0tPdHtdF26dLn11lunT58+ZsyYDh06tPJ4wFfhOxag/Wg8Kr9q1ardu3fff//9sVisc+fOzbfV1NSUl5fPnj170KBBo0aNmjdvXou33AMQIQ0NDeXl5TfeeGOfPn1mzpzZYr1fcsklixcv3r59++LFiwsLC9U7RI5X4AHaoXPOOafxqPyhQ4dWrlyZTCZTqVTz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fobBgwfffvvt06ZNO//881thYOCMIuABaItGjhw5cuTIOXPmvP3228uWLVu2bNlLL73U/CFMhw4dSqfT6XQ6Nze3qKho8uTJkydP7tu3b0ZmBqLi0KFD27dv37Vr17Zt2xo/7t69u/Hj1q1bDx48eBKfs0OHDkVFRTNmzJgyZYoHwgGniYBvWV1d3dGjRzM9BbQ3tbW1IYT6+nrfX3xxw4YNmz179uzZs6urq5977rknn3wynU7v27fvuG01NTWNJV9SUnLRRRf90z/906RJk8aMGZOVlZWRsdsC32icsRoaGnbt2rXzU3bt2rVjx47Gj9XV1UeOHDmFX+4b3/jG7bffnkgkPvntoe8++Iqa/8qeRlnN35d4hnvxxRd37tyZ6SkAOKEjR468+eab69ate+211/bv3/85O/v37z9q1KjLLrvs/PPPP5NLHtql2traffv2VVVVffjhh3v37m38WF1dvXfv3n379n2VIsf2AAAgAElEQVT+Hw5fRceOHc8+++z8/Pz8/PyePXteeuml3/zmN/0JA6dD165d/+mf/inTU7QtAv54jQGfnZ3tViQ45err62trazt06JCT4+0/nBpbtmxZs2bNunXr3nvvvc/Z1q1bt4svvnjUqFGXX355ly5dWm28TGl89a9Tp06ZHgS+kkOHDu3Zs6exyZt/PHbs2Gn6ul27du3Zs2fPnj0bE71v376N/yE/P7979+4dO3Zs3FZbW1tfX5+Tk+OhGHDKNX5/devWbdKkSZmepW0R8Md744033nnnnW9/+9sXXHBBpmeB9mbz5s0vv/zykCFDLr/88kzPQnuzadOmZcuWpdPpF1544XP+Wp+Tk3P55ZcnEokbbrhhwIABrTlha1qyZEkI4cYbb8z0IPAP7N+/f8uWLS1eF7djx46amprT9HV79OgxcODA/v379+vXr/nHvLy8L/JJXn755c2bN19++eVDhgw5TXPCGWv16tXbt2/Pz8//wQ9+kOlZ2hYvggHQHgwdOnTWrFmzZs3au3fvypUrU6nU0qVLm7+Htra2dvXq1atXr549e/aIESMSiUQ8HvdwZjh9Dh48uGnTptZP9G7dug0ePPgrJjpAWyPgAWhXevbsmUgkEolETU3NqlWrUqlUMpls8XKTioqK+fPnz58/f9iwYY2Pr7vyyis/eXMs8AUdO3Zs69atX+W5ayenY8eO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AAAARICABwAAgAgQ8AAAABABAh4AAAAiQMADAABABGQ1NDRkeoa2Ze3atVu3bs3Ly8vNzc30LNDeHD169ODBg506deratWumZ4H2rLq6OoSQn5+f6UGgPTt48ODRo0e7du3aqVOnTM8C7c2BAweOHTvWvXv3iRMnZnqWtiUn0wO0OTU1NSGEw4cPHz58ONOzQPt09OjRo0ePZnoKaP8aMx44rQ4ePHjw4MFMTwHtU11dXaZHaHME/PHy8/M/+OCDCy+8cPDgwZmeBdqbnTt3/vWvf+3Xr983vvGNTM8C7dmzzz4bQvjBD36Q6UGgPfvrX/+6c+fOb3zjG/369cv0LNDevPnmm++//37nzp0zPUibI+BblpeX552HcMp99NFHIYROnTr5/oJW4BsNTqvGd8537drV9xqcch07dsz0CG2US+wAAAAgAgQ8AAAARICABwAAgAgQ8AAAABABAh4AAAAiQMADAABABAh4AAAAiAABDwAAABEg4AEAACACBDwAAABEgIAHAACACBDwAAAAEAECHgAAACJAwAMAAEAECHgAAACIAAEPAAAAESDgAQAAIAIEPAAAAESAgAcAAIAIEPAAAAAQAQIeAAAAIkDAAwAAQAQIeAAAAIgAAQ8AAAARIOABAAAgAgQ8AAAARICABwAAgAgQ8AAAABABAh4AAAAiQMADAABABAh4AAAAiAABDwAAABEg4AEAACACBDwAAABEgIAHAACACBDwAAAAEAECHgAAACJAwAMAAEAECHgAAACIAAEPAAAAESDgAQAAIAIEPAAAAESAgAcAAIAIEPAAAAAQAQIeAAAAIkDAAwAAQAQIeAAAAIgAAQ8AAAARIOABAAAgAgQ8AAAARICABwAAgAgQ8AAAABABAh4AAAAiQMADAABABAh4AAAAiAABDwAAABEg4AEAACACBDwAAABEgIAHAACACBDwAAAAEAECHgAAACJAwAMAAEAECHgAAACIAAEPAAAAESDgAQAAIAIEPAAAAESAgAcAAIAIEPAAAAAQAQIeAAAAIkDAAwAAQAQIeAAAAIgAAQ8AAAARIOABAAAgAgQ8AAAARICABwAAgAgQ8AAAABABAh4AAAAiQMADAABABAh4AAAAiAABDwAAABEg4AEAACACBDwAAABEgIAHAACACBDwAAAAEAECHgAAACJAwAMAAEAECHgAAACIAAEP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SU2bNj1x4oSkN998s/Q9GNeuXWvRooUk82rJeY8kd3d3d3f3qm4XsHlDhgxZtGhRWlpau3btVq9e3bt371q1apV+wZEjR95999309PT8/PyQkJAaNWqUeYe77rqrCvsF7MnZs2fz8/Nv8hgx/xyttJJNuQCUq6ioKC8vz93d3dXVNTAwMDAwcOTIkTk5OZ9++ulHH33Upk2bZ5555sZnjGYNGjQo/bYNGzY8ffp0UVERg+iA30Iou0kEeK1Zs8bJyal169bmn6q+8cYbISEhpV/g6uqq/1ypyM7Orlu3rrl+8eLF9PT0kJCQMuEEqObatWvXpEmTlStXNmnSZMOGDf/zP/9TejU/P3/cuHEhISEJCQmdOnVydnZev379mjVrSr/GfNABuN5f//rXbdu2/fDDD+Yvzf/nKrlGUUZWVlaZym+9EoBZdnb24MGD/+u//uuJJ54oKXp7e0+cOPGzzz4zj1Mxh/PfOmM0O336dOml06dP+/n5kd6BGyCU3aTq/n1kx44dy5YtGzJkyF133dWkSZN69eqlpaU1/48aNWq8/fbbmzdvlhQSEuLs7Pzvf/+75PcuWrTohRdeKH3fLwBJTk5OQ4YM+eqrr1avXu3p6dm7d+/Sq/v27bt06dKTTz7ZpUsX86nMgQMHDOoUsD8NGjS4fPlySTYwb21dsrGWs7Nz6dD+/fffV32HgF3z9fVt0qTJkiVLzp07V7q+ffv23Nxc84YRNz5jNFu1atWVK1fMv87Ozv722295NAy4AULZzat2l7m+++47827Y5h/VrF69OiAgwLzjiLu7e3R09LRp0zIzM3v37p2dnf3ll19mZWWZ98Fu3LjxE088kZSUlJub27Vr10OHDiUlJT300EOMAwWuN2TIkA8//PCDDz4YOHBgmZuamjRp4unp+cknn1y7dq1WrVpr165dvXq1pPXr19evX//62+kBlDZ48OClS5e+8sorI0eOPH369Jw5c9q0aRMcHGxebdeu3bfffjt//vygoKAtW7asW7eOK37ALXFycnr11VcnT548fPjwBx980Py4yqFDh1auXNmyZcsRI0bo984YzXJzcydMmDB8+PC8vLyFCxcWFBQ899xzhn0qwPYQym5btQvw7733nvkX7u7urVq1euqpp5599tmSHQsjIiLq1q07d+7cv/3tb56enp07d05ISCh51DA6Orpx48ZffPHFl19+6e/vP27cuHHjxhnyKQAbFxAQEBISkpaWdv/995dZqlev3rvvvvvee++99tprDRo06Nev37Jly1555ZUPPvigQ4cOHTp0MKRhwF506dLl3Xff/eijjxISEmrVqjVw4MCXXnqp5MbdP/7xj4WFhR9//LGHh0e3bt1mzZo1ePBgYxsG7E737t3nz5+/cOHCnTt3/utf/3J1dW3YsOHYsWMfe+wxb29v82tufMYo6cUXXzx+/Pgnn3ySk5MTEhLy7rvvNm/e3JjPA9gkQtltc7p+hxsAAAAAtyEnJ6d///6vv/76I488YnQvABwQd9YBAAAAAGAHCPAAAAAAANgBAjwAAAAAAHaAZ+ABAAAAALADXIEHAAAAAMAOEOABAAAAALADBHgAAAAAAOwAAR4AAAAAADvganQDlWvFihUrVqxIT093dnZu167diy++GBgYWLK6b9++xMTEvXv3+vj4DBw4MCoqytW17L+Q/fv3P/HEE6mpqaWLhw4dGjlyZJlXzp07t0OHDpX0QQDbVEmHmKSLFy/OnDkzNTU1KyvL/M4hISGV/nkAm8SBBlQBDjSgUnGIVRRHvgK/dOnSN954o7CwMDo6Oioq6siRI08//fSxY8fMq4cOHXr66acvXbr00ksv9e3b95NPPnnrrbfKvMOVK1dmzpx5/TtnZGRIioqKiimlYcOGlf2JAJtSeYdYdnb2008/vW3bthEjRjz77LOZmZmTJk06ceJEpX8kwPZwoAFVgAMNqFQcYhXJ5LiGDh365JNP5ufnm788e/Zsnz59pk2bZv7yjTfeuPfeey9evGj+cs6cOWFhYUePHjV/mZGRMWnSpL59+3br1q1bt25l3jkpKalnz56FhYVV8jkAG1V5h9j7778/aNCgCxcumL/MysoaM2ZMSkpKpX8kwPZwoAFVgAMNqFQcYhXIYa/A5+TknDx5skePHm5ubuaKn59fixYtDh06JKmoqOirr77q37+/t7e3eXXo0KFFRUWrV682f+np6dmjR49nnnmmW7du1795RkZGQECAs7NzUVGRyWSqkg8E2JbKO8RMJtOyZcsiIiJq165tMpmKiop8fHySk5MjIiKq6sMBtoIDDagCHGhApeIQq1gO+wy8p6fnkiVLfHx8SioXL17ct2/fwIEDJWVnZ1+7di0oKKhk1d/fv169emfOnDF/Wb9+/TFjxkg6f/781q1by7z5sWPHCgsLo6Kidu7c6eHh0alTp8mTJ7ds2bLSPxVgMyrvELt48WJ2drafn99rr722cePGvLy89u3bv/zyy61bt66KDwbYEg40oApwoAGVikOsYjnsFXg3N7fmzZvXrl3b/OWZM2eef/55Z2fnyMhISWfPnpVUp06d0r+lbt26JX9Rbuzo0aMZGRldunR55513oqOjDx48OHbsWAd/1gKwVnmHWGZmpqSZM2devnz59ddf//Of/3zhwoWnn376+PHjFf8xANvGgQZUAQ40oFJxiFUsh70CXyI/P3/BggVz5szx9PR855132rRpI8l837uTk1OZFxcUFPzuG5pMpri4uMaNG5f8aCc8PHzEiBFz58597bXXKrp9wNZV+CGWm5srKTg4+J133nF2dpYUFhb28MMPz5079/XXX6/4DwDYAw40oApwoAGVikOsQjh4gN+zZ8+0adOOHTs2YsSIZ555puRHO35+fpIuXrxY+sUXLly4mTlwTk5O/fr1K11p0qRJcHBwenp6hfUN2InKOMTq1asnqV+/fuZvxJJ8fX3btm27f//+Cu4esBMcaEAV4EADKhWHWEVx5AD/888/T5o0qWXLlosWLQoICCi95Ovr6+7ufvDgwZJKdnb2uXPnGjVq9Ltvm52dffjw4bZt29aoUaOk6OTkVLLvAlBNVNIhZv4+npeXV7p47dq1mjVrVlDjgD3hQAOqAAcaUKk4xCqQwz4DX1RU9NZbbwUGBs6ZM6fM3xJJLi4ugwYNWrNmTcl/76+//tpkMt1///2/+86ZmZkTJ05cvHhxSeXo0aN79+7t3LlzBfYP2LjKO8S8vLzuueeeVatW5efnmyuHDx/eu3dvp06dKvYjALaPAw2oAhxoQKXiEKtYDnsFft++fRkZGX379l24cGHpeoMGDe677z5JTz311Jo1a1555ZURI0b8+uuvM2fOfOCBB67/K3W9oKCg++677/3338/Ozg4JCTl58uRnn33WoEED8+6IQDVReYeYpPHjx0dFRU2YMOHRRx/Nzc1NTk729/c373QCVCscaEAV4EADKhWHWMVyctQx5l999dWrr756fb1r166zZ882/zotLe3vf/97Wlqan59f//79n3vuuZLHJ0q89957SUlJqamppYtFRUWLFy/+6quvDhw44Ofn16NHj+eff55b6FGtVOohZv6977//flpampeXV/fu3aOjo82POQHVCgcaUAU40IBKxSFWsRw2wAMAAAAA4Egc9hl4AAAAAAAcCQEeAAAAAAA7QIAHAAAAAMAOEOABAAAAALADBHgAAAAAAOwAAR4AAAAAADtAgAcAAAAAwA4Q4AEAAAAAsAMEeAAAAAAA7AABHgAAAAAAO0CABwAAAADADhDgAQAAAACwAwR4AAAAAADsAAEeAAAAAAA7QIAHAAAAAMAO/H8SJIgCq7V5cwAAAABJRU5ErkJggg==&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>R/Finance 2017: Call for Papers</title>
      <link>https://blog.fosstrading.com/2017/01/rfinance-2017-call-for-papers/</link>
      <pubDate>Wed, 04 Jan 2017 08:11:00 -0600</pubDate>
      
      <guid>https://blog.fosstrading.com/2017/01/rfinance-2017-call-for-papers/</guid>
      <description>&lt;p&gt;R/Finance 2017: Applied Finance with R&lt;/p&gt;
&lt;p&gt;May 19 and 20, 2017&lt;/p&gt;
&lt;p&gt;University of Illinois at Chicago&lt;/p&gt;
&lt;p&gt;The ninth annual R/Finance conference for applied finance using &lt;a href=&#34;https://www.r-project.org/&#34;&gt;R&lt;/a&gt; will be held on May 19 and 20, 2017 in Chicago, IL, USA at the &lt;a href=&#34;http://www.uic.edu/&#34;&gt;University of Illinois at Chicago&lt;/a&gt;.  The conference will cover topics including portfolio management, time series analysis, advanced risk tools, high-performance computing, market microstructure, and econometrics.  All will be discussed within the context of using R as a primary tool for financial risk management, portfolio construction, and trading.&lt;/p&gt;
&lt;p&gt;Over the past eight years, R/Finance has included attendees from around the world.  It has featured presentations from prominent academics and practitioners, and we anticipate another exciting line-up for 2017.&lt;/p&gt;
&lt;p&gt;We invite you to submit complete papers in pdf format for consideration.  We will also consider one-page abstracts (in txt or pdf format) although more complete papers are preferred.  We welcome submissions for both full talks and abbreviated &amp;ldquo;lightning talks.&amp;rdquo; Both academic and practitioner proposals related to R are encouraged.&lt;/p&gt;
&lt;p&gt;All slides will be made publicly available at conference time.  Presenters are strongly encouraged to provide working R code to accompany the slides.  Data sets should also be made public for the purposes of reproducibility (though we realize this may be limited due to contracts with data vendors).  Preference may be given to presenters who have released R packages.&lt;/p&gt;
&lt;p&gt;Financial assistance for travel and accommodation may be available to presenters, however requests must be made at the time of submission.  Assistance will be granted at the discretion of the conference committee.&lt;/p&gt;
&lt;p&gt;Please submit proposals online at &lt;a href=&#34;https://goo.gl/vMweMX&#34;&gt;http://go.uic.edu/rfinsubmit&lt;/a&gt;.  Submissions will be reviewed and accepted on a rolling basis with a final deadline of February 28, 2017.  Submitters will be notified via email by March 31, 2017 of acceptance, presentation length, and financial assistance (if requested).&lt;/p&gt;
&lt;p&gt;Additional details will be announced via the conference website &lt;a href=&#34;http://www.rinfinance.com/&#34;&gt;www.RinFinance.com&lt;/a&gt; as they become available.  Information on previous years&#39; presenters and their presentations are also at the conference website.  We will make a separate announcement when registration opens.&lt;/p&gt;
&lt;p&gt;For the program committee:&lt;/p&gt;
&lt;p&gt;Gib Bassett, Peter Carl, Dirk Eddelbuettel, Brian Peterson, Dale Rosenthal, Jeffrey Ryan, Joshua Ulrich&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>quantmod 0.4-6 on CRAN</title>
      <link>https://blog.fosstrading.com/2016/08/quantmod-0-4-6-on-cran/</link>
      <pubDate>Mon, 29 Aug 2016 11:38:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2016/08/quantmod-0-4-6-on-cran/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://cran.r-project.org/&#34;&gt;CRAN&lt;/a&gt; just accepted a bugfix release of &lt;a href=&#34;http://www.quantmod.com/&#34;&gt;quantmod&lt;/a&gt;.  The most pertinent changes were to fix getSymbols.oanda (&lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/36&#34;&gt;#36&lt;/a&gt;) and getOptionChain.yahoo (&lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/92&#34;&gt;#92&lt;/a&gt;).  It also includes a fix to addTRIX (&lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/72&#34;&gt;#72&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;Oanda changed their URL format from http to https, and getSymbols.oanda did not follow the redirect.  Yahoo Finance changed the HTML for displaying options data, which broke getOptionChain.yahoo.  The fix downloads JSON instead of scraping HTML, so hopefully it will be less likely to break.  For more information, see the links to the GitHub issues above.&lt;/p&gt;
&lt;p&gt;I added documentation for getPrice (&lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/77&#34;&gt;#77&lt;/a&gt;), and removed the unused unsetSymbolLookup function and corresponding documentation (&lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues/115&#34;&gt;#115&lt;/a&gt;).&lt;/p&gt;
&lt;div class=&#34;container&#34; role=&#34;main&#34;&gt;
  &lt;div class=&#34;row&#34;&gt;
    &lt;hr&gt;
    &lt;p&gt;If you love using my open-source work (e.g. &lt;a href=&#34;https://cran.r-project.org/package=quantmod&#34;&gt;quantmod&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=TTR&#34;&gt;TTR&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=xts&#34;&gt;xts&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=IBrokers&#34;&gt;IBrokers&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=microbenchmark&#34;&gt;microbenchmark&lt;/a&gt;, etc.), you can give back by &lt;a href=&#34;https://github.com/sponsors/joshuaulrich/&#34;&gt;sponsoring me on GitHub&lt;/a&gt;. I truly appreciate anything you&amp;rsquo;re willing and able to give!&lt;/p&gt;

    &lt;p&gt;I look forward to your questions and feedback! If you have a question, please ask on &lt;a href=&#34;http://stackoverflow.com/&#34;&gt;Stack Overflow&lt;/a&gt; and use the &lt;a href=&#34;http://stackoverflow.com/questions/tagged/r&#34;&gt;[r]&lt;/a&gt; and &lt;a href=&#34;http://stackoverflow.com/questions/tagged/quantmod&#34;&gt;[quantmod]&lt;/a&gt; tags.  Or you can send an email to the &lt;a href=&#34;https://stat.ethz.ch/mailman/listinfo/r-sig-finance&#34;&gt;R-SIG-Finance&lt;/a&gt; mailing list (you must subscribe to post). Open an &lt;a href=&#34;https://github.com/joshuaulrich/quantmod/issues&#34;&gt;issue on GitHub&lt;/a&gt; if you find a bug or want to request a feature. Please &lt;a href=&#34;https://github.com/joshuaulrich/quantmod/blob/master/.github/CONTRIBUTING.md&#34;&gt;read the contributing guide&lt;/a&gt; first! It will help save time for both of us. ;-)&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;

</description>
    </item>
    
    <item>
      <title>DataCamp course: Importing and managing financial data</title>
      <link>https://blog.fosstrading.com/2016/06/importing-and-managing-financial-data/</link>
      <pubDate>Fri, 17 Jun 2016 11:32:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2016/06/importing-and-managing-financial-data/</guid>
      <description>&lt;p&gt;The team at &lt;a href=&#34;https://www.datacamp.com/&#34;&gt;DataCamp&lt;/a&gt; announced a new R/Finance course series in a recent email:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Subject: Data Mining Tutorial, R/Finance course series, and more!&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;R/Finance - A new course series in the works&lt;/strong&gt;&lt;br&gt;
We are working on a whole new course series on applied finance using R. This new series will cover topics such as time series (David S. Matteson), portfolio analysis (Kris Boudt), the xts and zoo packages (Jeffrey Ryan), and much more. Start our first course &lt;a href=&#34;https://www.datacamp.com/courses/introduction-to-credit-risk-modeling-in-r&#34;&gt;Intro to Credit Risk Modeling in R&lt;/a&gt; today.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I&amp;rsquo;m excited to announce that I&amp;rsquo;m working on a course for this new series! It will provide an introduction to importing and managing financial data.&lt;/p&gt;
&lt;p&gt;If you&amp;rsquo;ve ever done anything with financial or economic time series, you know the data come in various shapes, sizes, and periodicities. Getting the data into R can be stressful and time-consuming, especially when you need to merge data from several different sources into one data set. This course will cover importing data from local files as well as from internet sources.&lt;/p&gt;
&lt;p&gt;The tentative course outline is below. I&amp;rsquo;d really appreciate your feedback on what should be included in this introductory course! So let me know if I&amp;rsquo;ve omitted something, or if you think any of the topics are too advanced.&lt;/p&gt;
&lt;p&gt;Introduction to importing and managing financial data&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Introduction and downloading data&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;getSymbols design overview, Quandl&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Finding and downloading data from internet sources&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;E.g. getSymbols.yahoo, getSymbols.FRED, Quandl&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Loading and transforming multiple instruments&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Checking for errors (i.e. summary stats, visualizing)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Managing data from multiple sources&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Setting per-instrument sources and default arguments&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;setSymbolLookup, saveSymbolLookup, loadSymbolLookup, setDefaults&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Handling instruments names that clash or are not valid R object names&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Aligning data with different periodicities&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Making irregular data regular&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Aggregating to lowest frequency&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Combining monthly with daily&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Combining daily with intraday&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Storing and updating data&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Creating an initial RData-backed storage&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Adjusting financial time-series&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Handling errors during update process&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
</description>
    </item>
    
    <item>
      <title>Registration for R/Finance 2016 is open!</title>
      <link>https://blog.fosstrading.com/2016/04/registration-for-rfinance-2016-is-open/</link>
      <pubDate>Mon, 11 Apr 2016 08:14:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2016/04/registration-for-rfinance-2016-is-open/</guid>
      <description>&lt;p&gt;You can find &lt;a href=&#34;http://www.rinfinance.com/register/&#34;&gt;registration information&lt;/a&gt; and &lt;a href=&#34;http://www.rinfinance.com/agenda/&#34;&gt;agenda details&lt;/a&gt; on the conference website.  Or you can go directly to the &lt;a href=&#34;http://go.uic.edu/rfinance&#34;&gt;Cvent registration page&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Note that registration fees &lt;em&gt;&lt;strong&gt;will increase by 50%&lt;/strong&gt;&lt;/em&gt; at the end of early registration on May 6, 2016.&lt;/p&gt;
&lt;p&gt;The conference will take place on May 20 and 21, at &lt;a href=&#34;http://www.uic.edu/&#34;&gt;UIC&lt;/a&gt; in Chicago.  Building on the success of the previous conferences in 2009-2015, we expect more than 250 attendees from around the world. R users from industry, academia, and government will joining 50 presenters covering all areas of finance with R.&lt;/p&gt;
&lt;p&gt;We are very excited about the four keynote presentations given by &lt;a href=&#34;http://www.burns-stat.com/&#34;&gt;Patrick Burns&lt;/a&gt;, &lt;a href=&#34;http://www.ssc.upenn.edu/~fdiebold/&#34;&gt;Frank Diebold&lt;/a&gt;, &lt;a href=&#34;https://www.linkedin.com/in/tarekeldin&#34;&gt;Tarek Eldin&lt;/a&gt;, and &lt;a href=&#34;http://www.thequantbook.com/about-the-author.html&#34;&gt;Rishi Narang&lt;/a&gt;.  The conference agenda (currently) includes 17 full presentations and 33 shorter &amp;ldquo;lightning talks&amp;rdquo;.  As in previous years, several (optional) pre-conference seminars are offered on Friday morning.&lt;/p&gt;
&lt;p&gt;There is also an (optional) conference dinner at The Riverside Room and Gallery at Trump.  Situated directly on the hotel&amp;rsquo;s new River Walk, it is a perfect venue to continue conversations while dining and drinking.&lt;/p&gt;
&lt;p&gt;We would to thank our 2016 Sponsors for the continued support enabling us to host such an exciting conference:&lt;/p&gt;
&lt;p&gt;  &lt;a href=&#34;http://business.uic.edu/liautaud-programs/masters-finance&#34;&gt;UIC Liautaud Master of Science in Finance&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;  &lt;a href=&#34;http://msdsug.microsoft.com/&#34;&gt;Microsoft&lt;/a&gt;&lt;br&gt;
  &lt;a href=&#34;http://depts.washington.edu/compfin/&#34;&gt;MS-Computational Finance and Risk Management at University of Washington&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;  &lt;a href=&#34;https://www.schwab.com/&#34;&gt;Charles Schwab&lt;/a&gt;&lt;br&gt;
  &lt;a href=&#34;http://www.hullinvest.com/HI/&#34;&gt;Hull Investments&lt;/a&gt;&lt;br&gt;
  &lt;a href=&#34;https://www.interactivebrokers.com/&#34;&gt;Interactive Brokers&lt;/a&gt;&lt;br&gt;
  &lt;a href=&#34;https://www.onetick.com/&#34;&gt;OneMarketData&lt;/a&gt;&lt;br&gt;
  &lt;a href=&#34;https://www.rstudio.com/&#34;&gt;RStudio&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;On behalf of the committee and sponsors, we look forward to seeing you in Chicago!&lt;/p&gt;
&lt;p&gt;  Gib Bassett, Peter Carl, Dirk Eddelbuettel, Brian Peterson, Dale Rosenthal, Jeffrey Ryan, Joshua Ulrich&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Comment on Overnight SPY Anomaly</title>
      <link>https://blog.fosstrading.com/2015/11/overnight-spy-anomaly/</link>
      <pubDate>Mon, 16 Nov 2015 11:25:00 -0600</pubDate>
      
      <guid>https://blog.fosstrading.com/2015/11/overnight-spy-anomaly/</guid>
      <description>&lt;p&gt;This post is in response to Michael Harris&#39; &lt;a href=&#34;http://www.priceactionlab.com/Blog/2015/11/overnight-trading-anomaly-backtesting-r/&#34;&gt;Price Action Lab post&lt;/a&gt;, where he uses some simple R code to evaluate the asymmetry of returns from the day&amp;rsquo;s close to the following day&amp;rsquo;s open.  I&amp;rsquo;d like to respond to his 3 notes, which I&amp;rsquo;ve included below.&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;The R backtest assumes fractional shares. This means that equity is fully invested at each new position. This is important because it affects drawdown calculations.&lt;/li&gt;
&lt;li&gt;When calculating the Sharpe ratio, the “geometric = FALSE” option must be used otherwise the result may not be correct. It took some time to figure that out.&lt;/li&gt;
&lt;li&gt;The profit factor result in R does not reconcile with results from other platforms or even from excel. PF in R is shown as 1.23 but the correct value is 1.17. Actually, the profit factor is calculated on a per share basis in R, although returns are geometric.&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;p&gt;I completely agree with the first point.  I&amp;rsquo;m not sure Mike considers the output of  &lt;code&gt;SharpeRatio.annualized&lt;/code&gt; with &lt;code&gt;geometric=TRUE&lt;/code&gt; to be suspect (he doesn&amp;rsquo;t elaborate).  The &lt;code&gt;overnightRets&lt;/code&gt; are calculated as arithmetic returns, so it&amp;rsquo;s proper to aggregate them using geometric chaining (i.e. multiplication).&lt;/p&gt;
&lt;p&gt;I also agree with the third point, because the R code used to calculate profit factor is wrong.  My main impetus to write this post was to provide a corrected profit factor calculation.  The calculation (with slightly modified syntax) in Mike&amp;rsquo;s post is:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;nf&#34;&gt;require&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;quantmod&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;getSymbols&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;SPY&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;1900-01-01&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;SPY&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;adjustOHLC&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;SPY&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;use.Adjusted&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;TRUE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;overnightRets&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;na.omit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Op&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;SPY&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;lag&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Cl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;SPY&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;posRet&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;overnightRets&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;profitFactor&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;sum&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;overnightRets[posRet]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;sum&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;overnightRets[&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;posRet]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Note that profit factor in the code above is calculated by summing positive and negative &lt;em&gt;returns&lt;/em&gt;, when it should be calculated using positive and negative &lt;em&gt;P&amp;amp;L&lt;/em&gt;.  In order to do that, we need to calculate the equity curve and then take its first difference to get P&amp;amp;L.  The corrected calculation is below, and it provides the correct result Mike expected.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;n&#34;&gt;grossEquity&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;cumprod&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;overnightRets&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;+1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;grossPnL&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;diff&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;grossEquity&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;grossProfit&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;sum&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;grossPnL[grossPnL&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;grossLoss&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;sum&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;grossPnL[grossPnL&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;profitFactor&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;grossProfit&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;abs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;grossLoss&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;I&amp;rsquo;d also like to respond to Mike&amp;rsquo;s comment:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Since in the past I have identified serious flaws in commercially available backtesting platforms, I would not be surprised if some of the R libraries have some flaws.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I&amp;rsquo;m certain all of the backtesting R packages have flaws/bugs.  All software has bugs because all software is written by fallible humans.  One nice thing about (most) R packages is that they&amp;rsquo;re open source, which means anyone/everyone can check the code for bugs, and fix any bugs that are found.  With closed-source software, commercial or not, you depend on the vendor to deliver a patched version at their discretion and in their timing.&lt;/p&gt;
&lt;p&gt;Now, I&amp;rsquo;m not making an argument that open source software is inherently better. I simply wanted to point out this one difference.  As much as I love open source software, there are times where commercial vendor-supported software presents a more appealing set of tradeoffs than using open source software.  Each situation is different.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>New quantmod and TTR on CRAN</title>
      <link>https://blog.fosstrading.com/2015/07/new-quantmod-and-ttr-on-cran/</link>
      <pubDate>Fri, 24 Jul 2015 16:04:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2015/07/new-quantmod-and-ttr-on-cran/</guid>
      <description>&lt;p&gt;I just sent &lt;a href=&#34;https://cran.r-project.org/package=quantmod&#34;&gt;quantmod_0.4-5&lt;/a&gt; to &lt;a href=&#34;https://cran.r-project.org/&#34;&gt;CRAN&lt;/a&gt;, and &lt;a href=&#34;https://cran.r-project.org/package=TTR&#34;&gt;TTR_0.23-0&lt;/a&gt; has been there for a couple weeks. I&amp;rsquo;d like to thank &lt;a href=&#34;http://www.quintuitive.com/&#34;&gt;Ivan Popivanov&lt;/a&gt; for many useful reports and patches to TTR. He provided patches to add &lt;code&gt;HMA()&lt;/code&gt; (Hull MA), &lt;code&gt;ALMA()&lt;/code&gt;, and &lt;code&gt;ultimateOscillator()&lt;/code&gt; functions.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://jtoll.com/&#34;&gt;James Toll&lt;/a&gt; provided a patch to the &lt;code&gt;volatility()&lt;/code&gt; function that uses a zero mean (instead of the sample mean) in close-to-close volatility. The other big change is that moving average functions no longer return objects with column names based on the input object column names. There are many other bug fixes (see the CHANGES file in the package).&lt;/p&gt;
&lt;p&gt;The biggest changes in quantmod were to fix &lt;code&gt;getSymbols.MySQL()&lt;/code&gt; to use the correct &lt;code&gt;dbConnect()&lt;/code&gt; call based on changes made in RMySQL_0.10 and to fix &lt;code&gt;getSymbols.FRED()&lt;/code&gt; to use https:// instead of http:// when downloading FRED data. &lt;code&gt;getSymbols.csv()&lt;/code&gt; also got some much-needed love.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;d also like to mention that development has moved to GitHub for both &lt;a href=&#34;https://github.com/joshuaulrich/TTR&#34;&gt;TTR&lt;/a&gt; and &lt;a href=&#34;https://github.com/joshuaulrich/quantmod&#34;&gt;quantmod&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>plot.xts RFC</title>
      <link>https://blog.fosstrading.com/2015/04/plotxts-rfc/</link>
      <pubDate>Mon, 20 Apr 2015 12:45:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2015/04/plotxts-rfc/</guid>
      <description>&lt;p&gt;We have been working on a new charting engine for &lt;code&gt;xts::plot.xts&lt;/code&gt; for the past couple years. It started with Michael Weylandt&amp;rsquo;s work during the 2012 Google Summer of Code, and Ross Bennett took up the torch during the 2014 GSoC.&lt;/p&gt;
&lt;p&gt;This new engine improves the functionality, modularity, and flexibility of &lt;code&gt;plot.xts&lt;/code&gt; by building off the framework Jeff Ryan began with &lt;code&gt;quantmod::chart_Series&lt;/code&gt;.  The modular framework allows users to plot an xts object and incrementally build custom charts by adding panels of new data (including transformations of the original xts object).&lt;/p&gt;
&lt;p&gt;The main objective was to provide functionality similar to &lt;code&gt;chartSeries&lt;/code&gt; and &lt;code&gt;addTA&lt;/code&gt; for xts objects. The current code includes support for:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Basic time series plots with sensible defaults&lt;/li&gt;
&lt;li&gt;Plotting xts objects by column &amp;ldquo;automagically&amp;rdquo; as separate panels&lt;/li&gt;
&lt;li&gt;Small multiples with multiple pages&lt;/li&gt;
&lt;li&gt;&amp;ldquo;Layout-safe&amp;rdquo; so multiple specifications/panels can be charted in a single device&lt;/li&gt;
&lt;li&gt;Easily add data to an existing plot or add panels similar to &lt;code&gt;quantmod::add*&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Event lines&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The xts team would greatly appreciate any comments, feedback, and bug reports before the upcoming CRAN release at the end of April.&lt;/p&gt;
&lt;p&gt;The new version of &lt;code&gt;plot.xts&lt;/code&gt; is in the main xts development code base, which is available on GitHub in the &lt;a href=&#34;https://github.com/joshuaulrich/xts&#34;&gt;develop branch&lt;/a&gt;.  GitHub is also the place to submit &lt;a href=&#34;https://github.com/joshuaulrich/xts/issues&#34;&gt;b&lt;/a&gt;&lt;a href=&#34;https://github.com/joshuaulrich/xts/issues&#34;&gt;ug reports and feature requests&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Note that the new &lt;code&gt;plot.xts&lt;/code&gt; includes breaking changes to the original (and rather limited) &lt;code&gt;plot.xts&lt;/code&gt;.  However, we believe the new functionality more than compensates for the potential one-time inconvenience.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Registration Open for R/Finance 2015!</title>
      <link>https://blog.fosstrading.com/2015/03/registration-open-for-rfinance-2015/</link>
      <pubDate>Tue, 31 Mar 2015 10:35:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2015/03/registration-open-for-rfinance-2015/</guid>
      <description>&lt;p&gt;You can find &lt;a href=&#34;http://www.rinfinance.com/register/&#34;&gt;registration information&lt;/a&gt; and &lt;a href=&#34;http://www.rinfinance.com/agenda/&#34;&gt;agenda details&lt;/a&gt; (as they become available) on the conference website.  Or you can go &lt;a href=&#34;http://www.cvent.com/d/94q27k&#34;&gt;directly to the registration page&lt;/a&gt;.  Note that there&amp;rsquo;s an early-bird registration deadline of May 15.&lt;/p&gt;
&lt;p&gt;The conference will take place on May 29 and 30, at &lt;a href=&#34;http://www.uic.edu/&#34;&gt;UIC&lt;/a&gt; in Chicago.  Building on the success of the previous conferences in 2009-2014, we expect more than 250 attendees from around the world. R users from industry, academia, and government will joining 30+ presenters covering all areas of finance with R.&lt;/p&gt;
&lt;p&gt;We are very excited about the four keynote presentations given by &lt;a href=&#34;http://www.emanuelderman.com/info/about&#34;&gt;Emanuel Derman&lt;/a&gt;, &lt;a href=&#34;http://fitnr.com/about-louis-marascio.html&#34;&gt;Louis Marascio&lt;/a&gt;, &lt;a href=&#34;http://www.macs.hw.ac.uk/~mcneil/&#34;&gt;Alexander McNeil&lt;/a&gt;, and &lt;a href=&#34;http://www.thequantbook.com/about-the-author.html&#34;&gt;Rishi Narang&lt;/a&gt;.  The main agenda (currently) includes 18 full presentations and 19 shorter &amp;ldquo;lightning talks&amp;rdquo;.  As in previous years, several (optional) pre-conference seminars are offered on Friday morning.&lt;/p&gt;
&lt;p&gt;There is also an (optional) conference dinner that will once-again be held at &lt;a href=&#34;http://www.trumphotelcollection.com/chicago/rooftop-restaurants-chicago.php&#34;&gt;The Terrace at Trump&lt;/a&gt; Hotel. Overlooking the Chicago river and skyline, it is a perfect venue to continue conversations while dining and drinking.&lt;/p&gt;
&lt;p&gt;We would to thank our 2015 sponsors for the continued support enabling us to host such an exciting conference:&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://business.uic.edu/academic-centers-and-research/cba-research-centers/international-center-for-futures-and-derivatives&#34;&gt;International Center for Futures and Derivatives at UIC&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.revolutionanalytics.com/&#34;&gt;Revolution Analytics&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;http://depts.washington.edu/compfin/&#34;&gt;MS-Computational Finance at University of Washington&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.onetick.com/&#34;&gt;OneMarketData&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;http://www.ketchumtrading.com/&#34;&gt;Ketchum Trading&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;http://www.rstudio.org/&#34;&gt;RStudio&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;http://www.symmys.com/arpm-bootcamp&#34;&gt;SYMMYS&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;On behalf of the committee and sponsors, we look forward to seeing you in Chicago!&lt;/p&gt;
&lt;p&gt;For the program committee:&lt;br&gt;
Gib Bassett, Peter Carl, Dirk Eddelbuettel, Brian Peterson, Dale Rosenthal, Jeffrey Ryan, Joshua Ulrich&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Import Japanese equity data into R with quantmod 0.4-4</title>
      <link>https://blog.fosstrading.com/2015/03/import-japanese-equity-data-into-r/</link>
      <pubDate>Tue, 10 Mar 2015 12:09:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2015/03/import-japanese-equity-data-into-r/</guid>
      <description>&lt;p&gt;I pushed &lt;a href=&#34;http://cran.r-project.org/web/packages/quantmod/&#34;&gt;quantmod 0.4-4 to CRAN&lt;/a&gt; this weekend.  It adds a &lt;code&gt;getSymbols.yahooj&lt;/code&gt; function to pull stock data from Yahoo Finance Japan, and fixes issues in &lt;code&gt;getOptionChain.yahoo&lt;/code&gt; and &lt;code&gt;getSymbols.oanda&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Changes to the Yahoo Finance and Oanda websites broke the &lt;code&gt;getOptionChain.yahoo&lt;/code&gt; and &lt;code&gt;getSymbols.oanda&lt;/code&gt; functions, respectively.  I didn&amp;rsquo;t use &lt;code&gt;getOptionChain.yahoo&lt;/code&gt; much, so I’m not certain I restored all the prior functionality.  Let me know if there’s something I missed. I’d be glad to add a test case for that, or to add a test you&amp;rsquo;ve written.&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;getSymbols.yahooj&lt;/code&gt; function is a major enhancement provided by &lt;a href=&#34;http://morannon.org/&#34;&gt;Wouter Thielen&lt;/a&gt;.  It allows quantmod users to pull stock data from Yahoo Finance Japan. &lt;/p&gt;
&lt;p&gt;Japanese ticker symbols usually start with a number and it is cumbersome to use variable names that start with a number in the R environment, so the string &amp;ldquo;YJ&amp;rdquo; will be prepended to each of the Symbols.  I recommend using &lt;code&gt;setSymbolLookup&lt;/code&gt; to prepend the ticker symbols with &amp;ldquo;YJ&amp;rdquo; yourself, so you can just use the main &lt;code&gt;getSymbols&lt;/code&gt; function.&lt;/p&gt;
&lt;p&gt;For example, if you want to pull Sony data, you would run:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;nf&#34;&gt;require&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;quantmod&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;setSymbolLookup&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;YJ6758.T&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;yahooj&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;getSymbols&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;YJ6758.T&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The full list of supported data sources for quantmod is now: Yahoo Finance-US, Yahoo Finance-Japan, Google Finance, csv, RData (including rds and rda), FRED, SQLite, MySQL, and Oanda. &lt;/p&gt;
&lt;p&gt;Contributions to add support for additional data sources are welcomed.  The existing &lt;code&gt;getSymbols&lt;/code&gt; functions are good templates to start from.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Google Summer of Code 2015</title>
      <link>https://blog.fosstrading.com/2015/03/google-summer-of-code-2015/</link>
      <pubDate>Tue, 03 Mar 2015 09:04:00 -0600</pubDate>
      
      <guid>https://blog.fosstrading.com/2015/03/google-summer-of-code-2015/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://developers.google.com/open-source/soc/images/gsoc2015-300x270.jpg&#34;&gt;&lt;img src=&#34;https://developers.google.com/open-source/soc/images/gsoc2015-300x270.jpg&#34; alt=&#34;&#34;&gt;&lt;/a&gt;The R Project has once again been selected as a &lt;a href=&#34;https://github.com/rstats-gsoc/gsoc2015/wiki/Admin_Application&#34;&gt;mentoring organization&lt;/a&gt; for this year&amp;rsquo;s &lt;a href=&#34;https://www.google-melange.com/gsoc/homepage/google/gsoc2015&#34;&gt;Google Summer of Code&lt;/a&gt; (GSoC).  If you&amp;rsquo;re not familiar with GSoC, it&amp;rsquo;s a global program that offers students a stipend to write code for open source projects, under the direction of a mentor.  Mentors get code written for their project, but no money.  Students get something like a paid summer internship, with open-source contributions they can reference on their resume.&lt;/p&gt;
&lt;p&gt;If you’re interested in participating as a student or a mentor, there&amp;rsquo;s an overview of the GSoC program on &lt;a href=&#34;https://github.com/rstats-gsoc/gsoc2015/wiki&#34;&gt;The R Project GSoC 2015 Wiki&lt;/a&gt;.  The wiki also includes a timeline and links to prior year&amp;rsquo;s projects.&lt;/p&gt;
&lt;p&gt;Several mentors from various backgrounds have already &lt;a href=&#34;https://github.com/rstats-gsoc/gsoc2015/wiki/table%20of%20proposed%20coding%20projects&#34;&gt;proposed projects&lt;/a&gt; for students to work on this summer.  Mentors have until March 9th to submit projects they would be willing to support, and student applications begin on March 16th.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Updated quantmod on CRAN</title>
      <link>https://blog.fosstrading.com/2014/12/updated-quantmod-on-cran/</link>
      <pubDate>Mon, 15 Dec 2014 09:43:00 -0600</pubDate>
      
      <guid>https://blog.fosstrading.com/2014/12/updated-quantmod-on-cran/</guid>
      <description>&lt;p&gt;An updated version of &lt;a href=&#34;http://www.quantmod.com/&#34;&gt;quantmod&lt;/a&gt; has just been released on &lt;a href=&#34;http://cran.r-project.org/&#34;&gt;CRAN&lt;/a&gt;.  This is my first submission as the new maintainer.  The major change was removing the dependency on the &lt;a href=&#34;http://cran.r-project.org/web/packages/Defaults/&#34;&gt;now-archived Defaults&lt;/a&gt; package.  End-users shouldn&amp;rsquo;t notice a difference, since I basically copied the necessary functionality from Defaults and added it to quantmod.&lt;/p&gt;
&lt;p&gt;There are also several bug fixes. A few worth noting are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://r-forge.r-project.org/tracker/index.php?func=detail&amp;amp;aid=4768&amp;amp;group_id=125&amp;amp;atid=544&#34;&gt;getSplits&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://r-forge.r-project.org/tracker/index.php?func=detail&amp;amp;aid=5680&amp;amp;group_id=125&amp;amp;atid=544&#34;&gt;adjustOHLC&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://r-forge.r-project.org/tracker/index.php?func=detail&amp;amp;aid=735&amp;amp;group_id=125&amp;amp;atid=544&#34;&gt;getSymbols (when adjust=TRUE)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://r-forge.r-project.org/tracker/index.php?func=detail&amp;amp;aid=2665&amp;amp;group_id=125&amp;amp;atid=544&#34;&gt;saveSymbols&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://r-forge.r-project.org/tracker/index.php?func=detail&amp;amp;aid=5950&amp;amp;group_id=125&amp;amp;atid=544&#34;&gt;newTA&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://r-forge.r-project.org/tracker/index.php?func=detail&amp;amp;aid=5807&amp;amp;group_id=125&amp;amp;atid=544&#34;&gt;findValleys&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>R/Finance 2015 Call for Papers</title>
      <link>https://blog.fosstrading.com/2014/11/rfinance-2015-call-for-papers/</link>
      <pubDate>Tue, 18 Nov 2014 13:52:00 -0600</pubDate>
      
      <guid>https://blog.fosstrading.com/2014/11/rfinance-2015-call-for-papers/</guid>
      <description>&lt;p&gt;Call for Papers:&lt;/p&gt;
&lt;p&gt;R/Finance 2015: Applied Finance with R&lt;br&gt;
May 29 and 30, 2015&lt;br&gt;
University of Illinois at Chicago&lt;/p&gt;
&lt;p&gt;The seventh annual R/Finance conference for applied finance using &lt;a href=&#34;http://www.r-project.org/&#34;&gt;R&lt;/a&gt; will be held on May 29 and 30, 2015 in Chicago, IL, USA at the &lt;a href=&#34;http://www.uic.edu/&#34;&gt;University of Illinois at Chicago&lt;/a&gt;.  The conference will cover topics including portfolio management, time series analysis, advanced risk tools, high-performance computing, market microstructure, and econometrics. All will be discussed within the context of using R as a primary tool for financial risk management, portfolio construction, and trading.&lt;/p&gt;
&lt;p&gt;Over the past six years, R/Finance has included attendees from around the world. It has featured presentations from prominent academics and practitioners, and we anticipate another exciting line-up for 2015.  This year will include invited keynote presentations by &lt;a href=&#34;http://www.emanuelderman.com/info/about&#34;&gt;Emanuel Derman&lt;/a&gt;, &lt;a href=&#34;http://fitnr.com/about-louis-marascio.html&#34;&gt;Louis Marascio&lt;/a&gt;, &lt;a href=&#34;http://www.macs.hw.ac.uk/~mcneil/&#34;&gt;Alexander McNeil&lt;/a&gt;, and &lt;a href=&#34;http://www.thequantbook.com/about-the-author.html&#34;&gt;Rishi Narang&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;We invite you to submit complete papers in pdf format for consideration. We will also consider one-page abstracts (in txt or pdf format) although more complete papers are preferred.  We welcome submissions for both full talks and abbreviated &amp;ldquo;lightning talks.&amp;rdquo; Both academic and practitioner proposals related to R are encouraged.&lt;/p&gt;
&lt;p&gt;All slides will be made publicly available at conference time. Presenters are strongly encouraged to provide working R code to accompany the slides.  Data sets should also be made public for the purposes of reproducibility (though we realize this may be limited due to contracts with data vendors). Preference may be given to presenters who have released R packages.&lt;/p&gt;
&lt;p&gt;The conference will award two (or more) $1000 prizes for best papers. A submission must be a full paper to be eligible for a best paper award. Extended abstracts, even if a full paper is provided by conference time, are not eligible for a best paper award.  Financial assistance for travel and accommodation may be available to presenters, however requests must be made at the time of submission.  Assistance will be granted at the discretion of the conference committee.&lt;/p&gt;
&lt;p&gt;Please make your submission online at: &lt;a href=&#34;http://www.cvent.com/d/t4qy73&#34;&gt;http://www.cvent.com/d/t4qy73&lt;/a&gt;. The submission deadline is January 31, 2015. Submitters will be notified via email by February 28, 2015 of acceptance, presentation length, and financial assistance (if requested).&lt;/p&gt;
&lt;p&gt;Additional details will be announced via the &lt;a href=&#34;http://www.rinfinance.com/&#34;&gt;conference website&lt;/a&gt; as they become available. Information on previous years&#39; presenters and their presentations are also at the conference website.&lt;/p&gt;
&lt;p&gt;For the program committee:&lt;br&gt;
Gib Bassett, Peter Carl, Dirk Eddelbuettel, Brian Peterson, Dale Rosenthal, Jeffrey Ryan, Joshua Ulrich&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>R/Finance 2014 Review</title>
      <link>https://blog.fosstrading.com/2014/06/rfinance-2014-review/</link>
      <pubDate>Mon, 30 Jun 2014 07:40:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2014/06/rfinance-2014-review/</guid>
      <description>&lt;p&gt;It&amp;rsquo;s been more than a month since &lt;a href=&#34;http://www.rinfinance.com/&#34;&gt;R/Finance 2014&lt;/a&gt;, and my job has finally slowed down enough to allow me to write down my thoughts (though I&amp;rsquo;m writing this over two days during my train to and from Chicago).&lt;/p&gt;
&lt;p&gt;The comments below are based on my personal experience. If I don&amp;rsquo;t comment on a seminar or presentation, it doesn&amp;rsquo;t mean I didn&amp;rsquo;t like it or it wasn&amp;rsquo;t good; it may have been over my head or I may have been distracted with my duties as a committee member. All the currently available conference slides are available &lt;a href=&#34;http://www.rinfinance.com/agenda/&#34;&gt;on the website&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Friday morning seminar:&lt;br&gt;
I went to &lt;a href=&#34;http://www.rinfinance.com/agenda/2014/workshop/DirkEddelbuettel.pdf&#34;&gt;Dirk Eddelbuettel&amp;rsquo;s&lt;/a&gt; seminar because I may be writing a R package to query &lt;a href=&#34;http://www.deltixlab.com/&#34;&gt;Deltix&amp;rsquo;s&lt;/a&gt; &lt;a href=&#34;https://www.blogger.com/null&#34;&gt;&lt;/a&gt; &lt;a href=&#34;http://www.deltixlab.com/solutions/timebase.html&#34;&gt;TimeBase&lt;/a&gt; database. Deltix provides a C++ API, so this is a perfect opportunity to use Rcpp.&lt;/p&gt;
&lt;p&gt;Friday talks:&lt;br&gt;
The first presentation was given by keynote &lt;a href=&#34;http://www.rinfinance.com/agenda/2014/talk/LukeTierney.pdf&#34;&gt;Luke Tierney&lt;/a&gt;, who discussed recent and upcoming performance improvements to R, and introduced some new profiling tools in his &lt;a href=&#34;https://github.com/ltierney/Rpkg-proftools&#34;&gt;proftools&lt;/a&gt; package (and a new &lt;a href=&#34;https://github.com/ltierney/Rpkg-proftools-GUI&#34;&gt;proftools-GUI&lt;/a&gt; package).&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.rinfinance.com/agenda/2014/talk/YangLu.pdf&#34;&gt;Yang Lu&lt;/a&gt; explored the low-risk anomaly on high/low volatility portfolios with similar industry, size, and volume. &lt;a href=&#34;http://www.rinfinance.com/agenda/2014/talk/AveryMoon.pdf&#34;&gt;Avery Moon&lt;/a&gt; discussed how they use R at &lt;a href=&#34;http://www.wealthfront.com/&#34;&gt;Wealthfront&lt;/a&gt; to run cashflow simulations for their tax-loss harvesting strategy. &lt;a href=&#34;http://www.rinfinance.com/agenda/2014/talk/StevenPav.pdf&#34;&gt;Steven Pav&lt;/a&gt; used math and memes to discuss portfolio inference. &lt;a href=&#34;http://www.rinfinance.com/agenda/2014/talk/TobiasSetz.pdf&#34;&gt;Tobias Setz&lt;/a&gt; used the Bayesian Change Point method to analyze time series stability.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.rinfinance.com/agenda/2014/talk/PaulTeetor.pdf&#34;&gt;Paul Teetor&lt;/a&gt; and &lt;a href=&#34;http://www.rinfinance.com/agenda/2014/talk/MatthewClegg.pdf&#34;&gt;Matthew Clegg&lt;/a&gt; discussed different aspects of pairs trading. &lt;a href=&#34;http://www.rinfinance.com/agenda/2014/talk/KentHoxsey.pdf&#34;&gt;Kent Hoxsey&lt;/a&gt; demonstrated a simple way to explore trading signal expectation. &lt;a href=&#34;http://www.rinfinance.com/agenda/2014/talk/MatthewBarry.pdf&#34;&gt;Matthew Barry&lt;/a&gt; introduced the &lt;a href=&#34;https://github.com/mrbcuda/pbo&#34;&gt;pbo&lt;/a&gt; package, which implements some of the ideas in the paper, &lt;a href=&#34;http://papers.ssrn.com/sol3/papers.cfm?abstract_id=2326253&#34;&gt;The Probability of Backtest Overfitting&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.rinfinance.com/agenda/2014/talk/AlexiosGhalanos.pdf&#34;&gt;Alexios Ghalanos&lt;/a&gt; was the day&amp;rsquo;s second keynote, and he discussed smooth transition autoregressive models and his new package, &lt;a href=&#34;https://bitbucket.org/alexiosg/twinkle&#34;&gt;twinkle&lt;/a&gt;. Alexios &lt;a href=&#34;http://unstarched.net/2014/05/27/twinkletwinkle-little-star/&#34;&gt;wrote a post&lt;/a&gt; discussing his presentation, which you should definitely read.&lt;/p&gt;
&lt;p&gt;Friday food/networking:&lt;br&gt;
During the two-hour conference reception at UIC, I had some drinks and hors d&amp;rsquo;ouvres, talked with speakers, and meet people I encouraged to attend and/or present. Next was the (optional) dinner at &lt;a href=&#34;http://www.trumphotelcollection.com/chicago/rooftop-restaurants-chicago.php&#34;&gt;The Terrace at Trump&lt;/a&gt;. It was cold and windy again this year, so we were inside the entire night. Same as last year, the food was fantastic, but the conversations were even better.&lt;/p&gt;
&lt;p&gt;Saturday talks:&lt;br&gt;
The first presentation was a lightning talk by &lt;a href=&#34;http://www.rinfinance.com/agenda/2014/talk/ChiragAnand.pdf&#34;&gt;Chirag Anand&lt;/a&gt;, where he introduced the &lt;a href=&#34;http://cran.r-project.org/web/packages/eventstudies/&#34;&gt;eventstudies&lt;/a&gt; package, which is very well done. &lt;a href=&#34;http://www.rinfinance.com/agenda/2014/talk/CaseyKing.pptx&#34;&gt;Casey King&lt;/a&gt; gave an incredibly informative and entertaining presentation on anti-money laundering and suspicious activity reporting in penny stocks using message board posts. &lt;a href=&#34;http://www.rinfinance.com/agenda/2014/talk/BryanLewis.pdf&#34;&gt;Bryan Lewis&lt;/a&gt; introduced his &lt;a href=&#34;https://github.com/bwlewis/IRL&#34;&gt;IRL&lt;/a&gt; package and ran a 16 million node network analysis in &amp;lt; 2 minutes on his Chromebook, during his talk. &lt;a href=&#34;http://www.rinfinance.com/agenda/2014/talk/StephenRush.pdf&#34;&gt;Stephen Rush&lt;/a&gt; discussed his work on &lt;a href=&#34;http://en.wikipedia.org/wiki/VPIN&#34;&gt;VPIN&lt;/a&gt; (volume synchronized probability of informed trading), while competing with Steven Pav for the &amp;ldquo;presentation with the most memes&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.rinfinance.com/agenda/2014/talk/BobMcDonald.pdf&#34;&gt;Bob McDonald&lt;/a&gt; gave the third keynote presentation, where he discussed using R to teach derivatives in MBA classes. He also explained his decision to adopt R in terms of valuing an option. &lt;a href=&#34;http://www.rinfinance.com/agenda/2014/talk/EricZivot.pdf&#34;&gt;Eric Zivot&lt;/a&gt; discussed his upcoming book, &amp;ldquo;Modeling Financial Time Series with S-Plus R&amp;rdquo;. &lt;a href=&#34;http://www.rinfinance.com/agenda/2014/talk/RohiniGrover.pdf&#34;&gt;Rohini Grover&lt;/a&gt; measured the imprecision of implied volatility estimates in volatility indexes using the &lt;a href=&#34;https://r-forge.r-project.org/projects/ifrogs/&#34;&gt;ifrogs&lt;/a&gt; package.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.rinfinance.com/agenda/2014/talk/BillCleveland.pdf&#34;&gt;Bill Cleveland&lt;/a&gt; gave the final keynote and talked about the &amp;ldquo;divide-and-recombine&amp;rdquo; method for large, complex data, using R and Hadoop. &lt;a href=&#34;http://www.rinfinance.com/agenda/2014/talk/GregorKastner.pdf&#34;&gt;Gregor Kastner&lt;/a&gt; introduced his &lt;a href=&#34;http://cran.r-project.org/web/packages/stochvol/&#34;&gt;stochvol&lt;/a&gt; package, and &lt;a href=&#34;http://www.rinfinance.com/agenda/2014/talk/MatthewDixon.pdf&#34;&gt;Matthew Dixon&lt;/a&gt; showed how to calibrate stochastic volatility models using his &amp;ldquo;alpha&amp;rdquo; &lt;a href=&#34;https://github.com/mfrdixon/gpusvcalibration&#34;&gt;gpusvcalibration&lt;/a&gt; package. &lt;a href=&#34;http://www.rinfinance.com/agenda/2014/talk/DirkEddelbuettel.pdf&#34;&gt;Dirk Eddelbuettel&lt;/a&gt; closed the conference with a lightning talk on his recently-released &lt;a href=&#34;http://cran.r-project.org/web/packages/RcppRedis/&#34;&gt;RcppRedis&lt;/a&gt; package.&lt;/p&gt;
&lt;p&gt;The committee also presented the awards for best papers. The winners were:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;Portfolio inference with this one weird trick&lt;/em&gt;, Steven E. Pav&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Dealing with Stochastic Volatility in Time Series Using the R Package stochvol&lt;/em&gt;, Gregor Kastner&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Re-Evaluation of the Low-Risk Anomaly in Finance via Matching&lt;/em&gt;, Yang Lu, Daniel Wu, Kwok Yu&lt;/li&gt;
&lt;li&gt;&lt;em&gt;All words are not equal: Sentiment dynamics and information content within CEO letters&lt;/em&gt;, Kris Boudt, James Thewissen&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Saturday food/networking:&lt;br&gt;
As always, the conference ended with one more trip to &lt;a href=&#34;http://jakstap.com/&#34;&gt;Jaks Tap&lt;/a&gt;. I spent some time giving college students some advice about starting their careers, and discussed the presentation I gave earlier in the week at the &lt;a href=&#34;http://www.meetup.com/ChicagoRUG/&#34;&gt;Chicago R User Group&lt;/a&gt; on &lt;a href=&#34;http://files.meetup.com/1625815/ProfilingForSpeed_Ulrich_05-14.pdf&#34;&gt;Profiling for Speed&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Last, but not least: none of this would be possible without the support of fantastic sponsors:&lt;br&gt;
&lt;a href=&#34;http://business.uic.edu/academic-centers-and-research/cba-research-centers/international-center-for-futures-and-derivatives&#34;&gt;International Center for Futures and Derivatives at UIC&lt;/a&gt;, &lt;a href=&#34;http://www.revolutionanalytics.com/&#34;&gt;Revolution Analytics&lt;/a&gt;, &lt;a href=&#34;http://depts.washington.edu/compfin/&#34;&gt;MS-Computational Finance at University of Washington&lt;/a&gt;, &lt;a href=&#34;http://www.onetick.com/&#34;&gt;OneMarketData&lt;/a&gt;, &lt;a href=&#34;http://www.rstudio.org/&#34;&gt;RStudio&lt;/a&gt;, &lt;a href=&#34;http://spotfire.tibco.com/&#34;&gt;TIBCO&lt;/a&gt;, &lt;a href=&#34;http://www.symmys.com/arpm-bootcamp&#34;&gt;SYMMS&lt;/a&gt;, and &lt;a href=&#34;http://www.paradigm4.com/&#34;&gt;paradigm4&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Introduction to PortfolioAnalytics</title>
      <link>https://blog.fosstrading.com/2014/03/intro-to-portfolioanalytics/</link>
      <pubDate>Sat, 29 Mar 2014 12:25:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2014/03/intro-to-portfolioanalytics/</guid>
      <description>&lt;p&gt;This is a guest post by Ross Bennett. Ross is currently enrolled in the University of Washington Master of Science in Computational Finance &amp;amp; Risk Management program with an expected graduation date of December 2014. He worked on the PortfolioAnalytics package as part of the Google Summer of Code 2013 project and continues to work on the package as a Research Assistant at the University of Washington.&lt;/p&gt;
&lt;p&gt;His work on the package focused on implementing a portfolio specification to separate and modularize assets, constraints, and objectives. Support for additional constraints including group, diversification, and factor exposure constraints was also added. The random portfolio solver was expanded to include two additional methods of generating random portfolios. The optimization backends were further standardized for sets of constraints and objectives that can be solved via linear and quadratic programming solvers using the ROI package. Charts including risk budget and efficient frontiers were added as well as standardizing the charting across all optimization engines.&lt;/p&gt;
&lt;p&gt;This post is meant to provide a very basic introduction to the PortfolioAnalytics package. PortfolioAnalytics is an R package designed to provide numerical solutions and visualizations for portfolio problems with complex constraints and objectives. A key feature of PortfolioAnalytics is the ability to specify a portfolio with assets, constraints, and objectives that is solver agnostic, where the objective can be comprised of any valid R function. PortfolioAnalytics utilizes multiple solvers as backends for the optimization; linear programming, quadratic programming, differential evolution, random portfolios, particle swarm, and generalized simulated annealing. For optimization problems that can be formulated as linear or quadratic problems, these can be solved very fast and efficiently using the appropriate linear or quadratic solver supported by PortfolioAnalytics. For optimization problems with more complex constraints and objectives, a global solver such as differential evolution or random portfolios can be used to find a solution.&lt;/p&gt;
&lt;p&gt;Ross will be giving a tutorial on PortfolioAnalytics at the &lt;a href=&#34;http://www.rinfinance.com&#34;&gt;R/Finance 2014 Conference&lt;/a&gt;. The tutorial will cover the key features of PortfolioAnalytics along with several comprehensive examples. Those who want to learn more about how R is used in finance are encouraged to attend.&lt;/p&gt;
&lt;p&gt;The primary functions in PortfolioAnalytics to specify a portfolio with constraints and objectives are &lt;code&gt;portfolio.spec()&lt;/code&gt;, &lt;code&gt;add.constraint()&lt;/code&gt;, and &lt;code&gt;add.objective()&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;nf&#34;&gt;library&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;PortfolioAnalytics&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
&lt;span class=&#34;nf&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;edhec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
&lt;span class=&#34;n&#34;&gt;returns&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;edhec[&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;]&lt;/span&gt;  
&lt;span class=&#34;n&#34;&gt;funds&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;colnames&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;returns&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Here we create a portfolio object with &lt;code&gt;portfolio.spec()&lt;/code&gt;. The &lt;code&gt;assets&lt;/code&gt; argument is a required argument to the &lt;code&gt;portfolio.spec()&lt;/code&gt; function. &lt;code&gt;assets&lt;/code&gt; can be a character vector with the names of the assets, a named numeric vector, or a scalar value specifying the number of assets. If a character vector or scalar value is passed in for &lt;code&gt;assets&lt;/code&gt;, equal weights will be created for the initial portfolio weights.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;n&#34;&gt;init.portfolio&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;portfolio.spec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;assets&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;funds&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The &lt;code&gt;portfolio&lt;/code&gt; object is an S3 class that contains portfolio level data as well as the constraints and objectives for the optimization problem. You can see that the constraints and objectives lists are currently empty, but we will add sets of constraints and objectives with &lt;code&gt;add.constraint()&lt;/code&gt; and &lt;code&gt;add.objective()&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;nf&#34;&gt;print.default&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;init.portfolio&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
&lt;span class=&#34;c1&#34;&gt;## $assets  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Convertible Arbitrage            CTA Global Distressed Securities   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##                0.1667                0.1667                0.1667   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##      Emerging Markets Equity Market Neutral          Event Driven   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##                0.1667                0.1667                0.1667   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## $category_labels  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## NULL  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## $weight_seq  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## NULL  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## $constraints  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## list()  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## $objectives  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## list()  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## $call  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## portfolio.spec(assets = funds)  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## attr(,&amp;#34;class&amp;#34;)  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## [1] &amp;#34;portfolio.spec&amp;#34; &amp;#34;portfolio&amp;#34;  &lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Here we add the full investment constraint. The full investment constraint is a special case of the leverage constraint that specifies the weights must sum to 1 and is specified with the alias &lt;code&gt;type=&amp;quot;full_investment&amp;quot;&lt;/code&gt; as shown below.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;n&#34;&gt;init.portfolio&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;add.constraint&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;portfolio&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;init.portfolio&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;full_investment&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Now we add box constraint to specify a long only portfolio. The long only constraint is a special case of a box constraint where the lower bound of the weights of each asset is equal to 0 and the upper bound of the weights of each asset is equal to 1. This is specified with &lt;code&gt;type=&amp;quot;long_only&amp;quot;&lt;/code&gt; as shown below. The box constraint also allows for per asset weights to be specified.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;n&#34;&gt;init.portfolio&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;add.constraint&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;portfolio&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;init.portfolio&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;long_only&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The following constraint types are supported:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;leverage&lt;/li&gt;
&lt;li&gt;box&lt;/li&gt;
&lt;li&gt;group&lt;/li&gt;
&lt;li&gt;position_limit1&lt;/li&gt;
&lt;li&gt;turnover2&lt;/li&gt;
&lt;li&gt;diversification&lt;/li&gt;
&lt;li&gt;return&lt;/li&gt;
&lt;li&gt;factor_exposure&lt;/li&gt;
&lt;li&gt;transaction_cost2&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;Not supported for problems formulated as quadratic programming problems solved with &lt;code&gt;optimize_method=&amp;quot;ROI&amp;quot;&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Not supported for problems formulated as linear programming problems solved with &lt;code&gt;optimize_method=&amp;quot;ROI&amp;quot;&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Below we create two new portfolio objects. Note that we areassigning new names for the portfolios. This re-uses the constraints from &lt;code&gt;init.portfolio()&lt;/code&gt; and adds the objectives specified below to &lt;code&gt;minSD.portfolio&lt;/code&gt; and &lt;code&gt;meanES.portfolio&lt;/code&gt; while leaving &lt;code&gt;init.portfolio&lt;/code&gt; unchanged. This is useful for testing multiple portfolios with different objectives using the same constraints because the constraints only need to be specified once and several new portfolios can be created using an initial portfolio object.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Add objective for portfolio to minimize portfolio standard deviation  &lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;minSD.portfolio&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;add.objective&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;portfolio&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;init.portfolio&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;   
                                 &lt;span class=&#34;n&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;risk&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;   
                                 &lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;StdDev&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
  
&lt;span class=&#34;c1&#34;&gt;# Add objectives for portfolio to maximize mean per unit ES  &lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;meanES.portfolio&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;add.objective&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;portfolio&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;init.portfolio&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;   
                                  &lt;span class=&#34;n&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;return&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;   
                                  &lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;mean&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
  
&lt;span class=&#34;n&#34;&gt;meanES.portfolio&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;add.objective&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;portfolio&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;meanES.portfolio&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;   
                                  &lt;span class=&#34;n&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;risk&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;   
                                  &lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;ES&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Note that the &lt;code&gt;name&lt;/code&gt; argument in &lt;code&gt;add.objective()&lt;/code&gt; can be any valid R function. Several functions are provided in the PerformanceAnalytics package that can be specified as the &lt;code&gt;name&lt;/code&gt; argument such as ES/ETL/CVaR, StdDev, etc.&lt;/p&gt;
&lt;p&gt;The following objective types are supported:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;return&lt;/li&gt;
&lt;li&gt;risk&lt;/li&gt;
&lt;li&gt;risk_budget&lt;/li&gt;
&lt;li&gt;weight_concentration&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;As demonstrated above, the &lt;code&gt;add.constraint()&lt;/code&gt; and &lt;code&gt;add.objective()&lt;/code&gt; functions were designed to be very flexible and modular so that constraints and objectives can easily be specified and added to &lt;code&gt;portfolio&lt;/code&gt; objects.&lt;/p&gt;
&lt;p&gt;PortfolioAnalytics provides a &lt;code&gt;print()&lt;/code&gt; method so that we can easily view the assets, constraints, and objectives that we have specified for the portfolio.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;nf&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;minSD.portfolio&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
&lt;span class=&#34;c1&#34;&gt;## **************************************************  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## PortfolioAnalytics Portfolio Specification   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## **************************************************  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Call:  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## portfolio.spec(assets = funds)  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Assets  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Number of assets: 6   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Asset Names  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## [1] &amp;#34;Convertible Arbitrage&amp;#34; &amp;#34;CTA Global&amp;#34;            &amp;#34;Distressed Securities&amp;#34;  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## [4] &amp;#34;Emerging Markets&amp;#34;      &amp;#34;Equity Market Neutral&amp;#34; &amp;#34;Event Driven&amp;#34;           &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Constraints  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Number of constraints: 2   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Number of enabled constraints: 2   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Enabled constraint types  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##      - full_investment   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##      - long_only   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Number of disabled constraints: 0   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Objectives  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Number of objectives: 1   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Number of enabled objectives: 1   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Enabled objective names  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##      - StdDev   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Number of disabled objectives: 0  &lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;nf&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;meanES.portfolio&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
&lt;span class=&#34;c1&#34;&gt;## **************************************************  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## PortfolioAnalytics Portfolio Specification   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## **************************************************  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Call:  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## portfolio.spec(assets = funds)  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Assets  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Number of assets: 6   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Asset Names  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## [1] &amp;#34;Convertible Arbitrage&amp;#34; &amp;#34;CTA Global&amp;#34;            &amp;#34;Distressed Securities&amp;#34;  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## [4] &amp;#34;Emerging Markets&amp;#34;      &amp;#34;Equity Market Neutral&amp;#34; &amp;#34;Event Driven&amp;#34;           &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Constraints  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Number of constraints: 2   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Number of enabled constraints: 2   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Enabled constraint types  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##      - full_investment   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##      - long_only   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Number of disabled constraints: 0   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Objectives  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Number of objectives: 2   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Number of enabled objectives: 2   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Enabled objective names  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##      - mean   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##      - ES   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Number of disabled objectives: 0  &lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Now that we have portfolios set up with the desired constraints and objectives, we use &lt;code&gt;optimize.portfolio()&lt;/code&gt; to run the optimizations. The examples below use &lt;code&gt;optimize_method=&amp;quot;ROI&amp;quot;&lt;/code&gt;, but several other solvers are supported including the following:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;DEoptim (differential evolution)&lt;/li&gt;
&lt;li&gt;random portfolios
&lt;ul&gt;
&lt;li&gt;sample&lt;/li&gt;
&lt;li&gt;simplex&lt;/li&gt;
&lt;li&gt;grid&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;GenSA (generalized simulated annealing)&lt;/li&gt;
&lt;li&gt;pso (particle swarm optimization)&lt;/li&gt;
&lt;li&gt;ROI (R Optimization Infrastructure)
&lt;ul&gt;
&lt;li&gt;Rglpk&lt;/li&gt;
&lt;li&gt;quadprog&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The objective to minimize standard deviation can be formulated as a quadratic programming problem and can be solved quickly with &lt;code&gt;optimize_method=&amp;quot;ROI&amp;quot;&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Run the optimization for the minimum standard deviation portfolio  &lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;minSD.opt&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;optimize.portfolio&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;R&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;returns&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;portfolio&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;minSD.portfolio&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;   
    &lt;span class=&#34;n&#34;&gt;optimize_method&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;ROI&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;trace&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;TRUE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
  
&lt;span class=&#34;nf&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;minSD.opt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
&lt;span class=&#34;c1&#34;&gt;## ***********************************  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## PortfolioAnalytics Optimization  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## ***********************************  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Call:  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## optimize.portfolio(R = returns, portfolio = minSD.portfolio,   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##     optimize_method = &amp;#34;ROI&amp;#34;, trace = TRUE)  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Optimal Weights:  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Convertible Arbitrage            CTA Global Distressed Securities   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##                0.0000                0.0652                0.0000   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##      Emerging Markets Equity Market Neutral          Event Driven   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##                0.0000                0.9348                0.0000   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Objective Measure:  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##   StdDev   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 0.008855  &lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The objective to maximize mean return per ES can be formulated as a linear programming problem and can be solved quickly with &lt;code&gt;optimize_method=&amp;quot;ROI&amp;quot;&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Run the optimization for the maximize mean per unit ES  &lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;meanES.opt&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;optimize.portfolio&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;R&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;returns&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;portfolio&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;meanES.portfolio&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;   
    &lt;span class=&#34;n&#34;&gt;optimize_method&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;ROI&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;trace&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;TRUE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
  
&lt;span class=&#34;nf&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;meanES.opt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
&lt;span class=&#34;c1&#34;&gt;## ***********************************  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## PortfolioAnalytics Optimization  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## ***********************************  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Call:  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## optimize.portfolio(R = returns, portfolio = meanES.portfolio,   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##     optimize_method = &amp;#34;ROI&amp;#34;, trace = TRUE)  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Optimal Weights:  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Convertible Arbitrage            CTA Global Distressed Securities   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##                0.0000                0.2940                0.2509   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##      Emerging Markets Equity Market Neutral          Event Driven   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##                0.0000                0.4552                0.0000   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Objective Measure:  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##     mean   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 0.006635   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##      ES   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 0.01837  &lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The PortfolioAnalytics package provides functions for charting to better understand the optimization problem through visualization. The &lt;code&gt;plot()&lt;/code&gt; function produces a plot of of the optimal weights and the optimal portfolio in risk-return space. The optimal weights and chart in risk-return space can be plotted separately with &lt;code&gt;chart.Weights()&lt;/code&gt; and &lt;code&gt;chart.RiskReward()&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;nf&#34;&gt;plot&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;minSD.opt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;risk.col&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;StdDev&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;chart.assets&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;TRUE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;   
     &lt;span class=&#34;n&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Min SD Optimization&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;  
     &lt;span class=&#34;n&#34;&gt;ylim&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0.0083&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;xlim&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0.06&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;  
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;a href=&#34;https://blog.fosstrading.com/post/images/unnamed-chunk-102.png&#34;&gt;&lt;img src=&#34;https://blog.fosstrading.com/post/images/unnamed-chunk-102.png&#34; alt=&#34;&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;nf&#34;&gt;plot&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;meanES.opt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;chart.assets&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;TRUE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;   
     &lt;span class=&#34;n&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Mean ES Optimization&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;  
     &lt;span class=&#34;n&#34;&gt;ylim&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0.0083&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;xlim&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0.16&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;  
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;a href=&#34;https://blog.fosstrading.com/post/images/unnamed-chunk-101.png&#34;&gt;&lt;img src=&#34;https://blog.fosstrading.com/post/images/unnamed-chunk-101.png&#34; alt=&#34;&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;This post demonstrates how to construct a portfolio object, add constraints, and add objectives for two simple optimization problems; one to minimize portfolio standard deviation and another to maximize mean return per unit expected shortfall. We then run optimizations on both portfolio objects and plot the results of each portfolio optimization. Although this post demonstrates fairly simple constraints and objectives, PortfolioAnalytics supports complex constraints and objectives as well as many other features that will be covered in subsequent posts.&lt;/p&gt;
&lt;p&gt;The PortfolioAnalytics package is part of the &lt;a href=&#34;http://r-forge.r-project.org/projects/returnanalytics/&#34;&gt;ReturnAnalytics&lt;/a&gt; project on R-Forge. For additional examples and information, refer to the several vignettes and demos are provided in the package.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>R/Finance 2014 Registration Open</title>
      <link>https://blog.fosstrading.com/2014/03/rfinance-2014-registration-open/</link>
      <pubDate>Sat, 29 Mar 2014 12:24:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2014/03/rfinance-2014-registration-open/</guid>
      <description>&lt;p&gt;As announced on the &lt;a href=&#34;https://stat.ethz.ch/pipermail/r-sig-finance/2014q1/012330.html&#34;&gt;R-SIG-Finance&lt;/a&gt; mailing list, registration for R/Finance 2014 is &lt;strong&gt;now open&lt;/strong&gt;! The conference will take place May 17 and 18 in Chicago.&lt;/p&gt;
&lt;p&gt;Building on the success of the previous conferences in 2009-2013, we expect more than 250 attendees from around the world. R users from industry, academia, and government will joining 30+ presenters covering all areas of finance with R.&lt;/p&gt;
&lt;p&gt;We are very excited about the four keynote presentations given by &lt;a href=&#34;https://www.kellogg.northwestern.edu/faculty/directory/mcdonald_robert.aspx&#34;&gt;Bob McDonald&lt;/a&gt;, &lt;a href=&#34;http://www.stat.purdue.edu/~wsc/&#34;&gt;Bill Cleveland&lt;/a&gt;, &lt;a href=&#34;http://www.unstarched.net/about/&#34;&gt;Alexios Ghalanos&lt;/a&gt;, and &lt;a href=&#34;http://homepage.stat.uiowa.edu/~luke/&#34;&gt;Luke Tierney&lt;/a&gt;. The main agenda (currently) includes 16 full presentations and 21 shorter &amp;ldquo;lightning talks&amp;rdquo;. We are also excited to offer four optional pre-conference seminars on Friday morning.&lt;/p&gt;
&lt;p&gt;The (optional) conference dinner will once-again be held at &lt;a href=&#34;http://www.trumphotelcollection.com/chicago/rooftop-restaurants-chicago.php&#34;&gt;The Terrace at Trump&lt;/a&gt; Hotel. Overlooking the Chicago river and skyline, it is a perfect venue to continue conversations while dining and drinking.&lt;/p&gt;
&lt;p&gt;More details of the agenda are available at:&lt;br&gt;
&lt;a href=&#34;http://www.rinfinance.com/agenda/&#34;&gt;http://www.RinFinance.com/agenda/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Registration information is available at:&lt;br&gt;
&lt;a href=&#34;http://www.rinfinance.com/register/&#34;&gt;http://www.RinFinance.com/register/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;and can also be directly accessed by going to:&lt;br&gt;
&lt;a href=&#34;http://www.regonline.com/RFinance2014&#34;&gt;http://www.regonline.com/RFinance2014&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;We would to thank our 2014 Sponsors for the continued support enabling us to host such an exciting conference:&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://business.uic.edu/academic-centers-and-research/cba-research-centers/international-center-for-futures-and-derivatives&#34;&gt;International Center for Futures and Derivatives at UIC&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.revolutionanalytics.com/&#34;&gt;Revolution Analytics&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;http://depts.washington.edu/compfin/&#34;&gt;MS-Computational Finance at University of Washington&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.onetick.com/&#34;&gt;OneMarketData&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;http://www.rstudio.org/&#34;&gt;RStudio&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;http://spotfire.tibco.com/&#34;&gt;TIBCO&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;http://www.symmys.com/arpm-bootcamp&#34;&gt;SYMMS&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;http://www.paradigm4.com/&#34;&gt;paradigm4&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;On behalf of the committee and sponsors, we look forward to seeing you in Chicago!&lt;/p&gt;
&lt;p&gt;Gib Bassett, Peter Carl, Dirk Eddelbuettel, Brian Peterson, Dale Rosenthal, Jeffrey Ryan, Joshua Ulrich&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>quantstrat is slow</title>
      <link>https://blog.fosstrading.com/2013/11/quantstrat-is-slow/</link>
      <pubDate>Mon, 04 Nov 2013 06:37:00 -0600</pubDate>
      
      <guid>https://blog.fosstrading.com/2013/11/quantstrat-is-slow/</guid>
      <description>&lt;p&gt;The complaint I hear most frequently about quantstrat is that it&amp;rsquo;s slow, especially for large data.  Some of this slow performance is due to quantstrat treating all strategies as path-dependent by default.  Path dependence requires rules to be re-evaluated for each timestamp with a signal.  More signals equates to longer run-times.&lt;/p&gt;
&lt;p&gt;If your strategy is not path-dependent, you can get a fairly substantial performance improvement by turning path-dependence off.  If your strategy truly is path-dependent, keep reading&amp;hellip;&lt;/p&gt;
&lt;p&gt;I started working with Brian Peterson in late August of this year, and we&amp;rsquo;ve been working on a series of very large backtests over the last several weeks.  Each backtest consisted of ~7 months of 5-second data on 72 instruments with 15-20 different configurations for each.&lt;/p&gt;
&lt;p&gt;These backtests really pushed quantstrat to its limits.  The longest-running job took 32 hours.  I had some time while they were running, so I decided to profile quantstrat.  I was able to make some substantial improvements, so I thought I&amp;rsquo;d write a post to tell you what&amp;rsquo;s changed and highlight some of the performance gains we&amp;rsquo;re seeing.&lt;/p&gt;
&lt;p&gt;The biggest issue was how the internal function &lt;code&gt;ruleProc&lt;/code&gt; was constructing and evaluating the rule function call for each signal.  Basically, the code that constructed the call was evaluating the &lt;code&gt;mktdata&lt;/code&gt; object before calling the rule function.  This meant that the rule function call looked like this:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;nf&#34;&gt;ruleFunction&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;50.04&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;50.23&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;50.42&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;50.37&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;50.24&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;50.13&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;50.12&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;50.42&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;50.42&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;m&#34;&gt;50.37&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;50.24&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;50.22&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;49.95&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;50.23&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;50.26&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;50.22&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;50.11&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;49.99&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;50.12&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;50.4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;m&#34;&gt;50.33&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;50.33&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;50.18&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;49.99&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;...&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;instead of this:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;nf&#34;&gt;ruleFunction&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mktdata&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;...&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;You can only imagine how large that first call would be for a 10-million-row &lt;code&gt;mktdata&lt;/code&gt; object.  Changing the rule function call to use the name (symbol) of the &lt;code&gt;mktdata&lt;/code&gt; object instead of the &lt;code&gt;mktdata&lt;/code&gt; object itself helped the 32-hour job finish in just over 2 hours.&lt;/p&gt;
&lt;p&gt;If you think I would be happy enough with that, you don&amp;rsquo;t know me.  Several other changes helped get that 2-hour run down to under 30 minutes.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;We now calculate &lt;code&gt;periodicity(mktdata)&lt;/code&gt; in &lt;code&gt;applyRules&lt;/code&gt; and pass that value to &lt;code&gt;ruleOrderProc&lt;/code&gt;  This avoids re-calculating that value for every order, since &lt;code&gt;mktdata&lt;/code&gt; doesn&amp;rsquo;t change inside &lt;code&gt;applyRules&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;We also pass current row index value to &lt;code&gt;ruleOrderProc&lt;/code&gt; and &lt;code&gt;ruleSignal&lt;/code&gt; because xts subsetting via an integer is much faster than via a POSIXct object.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;applyStrategy&lt;/code&gt; only accumulates values returned from &lt;code&gt;applyIndicators&lt;/code&gt;, &lt;code&gt;applySignals&lt;/code&gt;, and &lt;code&gt;applyRules&lt;/code&gt; if &lt;code&gt;debug=TRUE&lt;/code&gt;.  This saves a little time, but can save a lot of memory for large &lt;code&gt;mktdata&lt;/code&gt; objects.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The dimension reduction algorithm has to look for the first time the price crosses the limit order price.  We were doing that with a call to &lt;code&gt;which(sigThreshold(...))[1]&lt;/code&gt;.  The relational operators (&lt;code&gt;&amp;lt;&lt;/code&gt;, &lt;code&gt;&amp;lt;=&lt;/code&gt;, &lt;code&gt;&amp;gt;&lt;/code&gt;, &lt;code&gt;&amp;gt;=&lt;/code&gt;, and &lt;code&gt;==&lt;/code&gt;) and &lt;code&gt;which&lt;/code&gt; operate on the entire vector, but we only need the first value, so I replaced that code with a with C-based &lt;code&gt;.firstThreshold&lt;/code&gt; function that stops as soon as it finds the first cross.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;All these changes are most significant for large data sets.  The small demo strategies included with quantstrat are also faster, but the net performance gains increase as the size of the data, the number of signals (and therefore the number of rule evaluations), and number of instruments increases.&lt;/p&gt;
&lt;p&gt;You&amp;rsquo;re still reading?  What are you waiting for?  Go &lt;a href=&#34;https://r-forge.r-project.org/R/?group_id=316&#34;&gt;install the latest from R-Forge&lt;/a&gt; and try it for yourself!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>R/Finance 2014 Call for Papers</title>
      <link>https://blog.fosstrading.com/2013/10/rfinance-2014-call-for-papers/</link>
      <pubDate>Thu, 17 Oct 2013 20:28:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2013/10/rfinance-2014-call-for-papers/</guid>
      <description>&lt;p&gt;We&amp;rsquo;re getting ready for this year&amp;rsquo;s R/Finance conference.  Here&amp;rsquo;s the call for papers.  I hope to see you there!&lt;/p&gt;
&lt;p&gt;R/Finance 2014: Applied Finance with R&lt;br&gt;
May 16 and 17, 2014&lt;br&gt;
University of Illinois at Chicago&lt;/p&gt;
&lt;p&gt;The sixth annual R/Finance conference for applied finance using &lt;a href=&#34;http://draft.blogger.com/&#34;&gt;R&lt;/a&gt; will be held on May 16 and 17, 2014 in Chicago, IL, USA at the &lt;a href=&#34;http://www.uic.edu/&#34;&gt;University of Illinois at Chicago&lt;/a&gt;.  The conference will cover topics including portfolio management, time series analysis, advanced risk tools, high-performance computing, market microstructure, and econometrics. All will be discussed within the context of using R as a primary tool for financial risk management, portfolio construction, and trading.&lt;/p&gt;
&lt;p&gt;Over the past five years, R/Finance has included attendees from around the world. It has featured presentations from prominent academics and practitioners, and we anticipate another exciting line-up for 2014.&lt;/p&gt;
&lt;p&gt;We invite you to submit complete papers in pdf format for consideration. We will also consider one-page abstracts (in txt or pdf format), although more complete papers are preferred.  We welcome submissions for both full talks and abbreviated &amp;ldquo;lightning talks&amp;rdquo;.  Both academic and practitioner proposals related to R are encouraged.&lt;/p&gt;
&lt;p&gt;Presenters are strongly encouraged to provide working R code to accompany the presentation/paper.  Data sets should also be made public for the purposes of reproducibility (though we realize this may be limited due to contracts with data vendors). Preference may be given to presenters who have released R packages.&lt;/p&gt;
&lt;p&gt;The conference will award two (or more) $1000 prizes for best papers.  A submission must be a full paper to be eligible for a best paper award. Extended abstracts, even if a full paper is provided by conference time, are not eligible for a best paper award.  Financial assistance for travel and accommodation may be available to presenters at the discretion of the conference committee. Requests for assistance should be made at the time of submission.&lt;/p&gt;
&lt;p&gt;Please submit your papers or abstracts online at: &lt;a href=&#34;http://goo.gl/OmKnu7&#34;&gt;goo.gl/OmKnu7&lt;/a&gt;.  The submission deadline is January 31, 2014.  Submitters will be notified via email by February 28, 2014 of acceptance, presentation length, and decisions on requested funding.&lt;/p&gt;
&lt;p&gt;Additional details will be announced via the conference website &lt;a href=&#34;http://www.rinfinance.com/&#34;&gt;www.RinFinance.com&lt;/a&gt; as they become available. Information on previous years&#39; presenters and their presentations are also at the conference website.&lt;/p&gt;
&lt;p&gt;For the program committee:&lt;br&gt;
Gib Bassett, Peter Carl, Dirk Eddelbuettel, Brian Peterson,&lt;br&gt;
  Dale Rosenthal, Jeffrey Ryan, Joshua Ulrich&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>R/Finance 2013 Review</title>
      <link>https://blog.fosstrading.com/2013/05/r-finance-2013-review/</link>
      <pubDate>Tue, 28 May 2013 08:00:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2013/05/r-finance-2013-review/</guid>
      <description>&lt;p&gt;It&amp;rsquo;s been one week since the &lt;a href=&#34;http://www.rinfinance.com/&#34;&gt;5th Annual R/Finance conference&lt;/a&gt;, and I finally feel sufficiently recovered enough to share my thoughts. The conference is a two-day whirlwind of applied quantitative finance, fantastic networking, and general geekery.&lt;/p&gt;
&lt;p&gt;The comments below are based on my personal experience.  If I don&amp;rsquo;t comment on a seminar or presentation, it doesn&amp;rsquo;t mean I didn&amp;rsquo;t like it or it wasn&amp;rsquo;t good; it may have been over my head or I may have been distracted with my duties as a committee member.  All the currently available conference slides are available &lt;a href=&#34;http://www.rinfinance.com/agenda/&#34;&gt;on the website&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Friday morning seminar:&lt;br&gt;
I went to (and live-tweeted) &lt;a href=&#34;http://www.rinfinance.com/agenda/2013/workshop/JeffRyan.pdf&#34;&gt;Jeff Ryan&amp;rsquo;s seminar&lt;/a&gt; because I wanted to learn more about how he uses &lt;a href=&#34;http://cran.r-project.org/web/packages/mmap/&#34;&gt;mmap&lt;/a&gt;+&lt;a href=&#34;http://r-forge.r-project.org/projects/indexing&#34;&gt;indexing&lt;/a&gt; with options data.  There I realized that &lt;a href=&#34;http://www.inside-r.org/r-doc/base/DateTimeClasses&#34;&gt;POSIXlt&lt;/a&gt; components use a zero-based index because they mirror the underlying &lt;a href=&#34;http://www.cplusplus.com/reference/ctime/tm/&#34;&gt;tm struct&lt;/a&gt;, and that mmap+indexing files can be shared across cores and you can read them from other languages (e.g. &lt;a href=&#34;http://www.python.org/&#34;&gt;Python&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;Friday talks:&lt;br&gt;
The first presentation was by keynote &lt;a href=&#34;http://www.rinfinance.com/agenda/2013/talk/RyanSheftel.pdf&#34;&gt;Ryan Sheftel&lt;/a&gt;, who talked about how he uses R on his bond trading desk.  &lt;a href=&#34;http://www.rinfinance.com/agenda/2013/talk/DavidArdia.pdf&#34;&gt;David Ardia&lt;/a&gt; showed how expected returns can be estimated via the covariance matrix.  &lt;a href=&#34;http://www.rinfinance.com/agenda/2013/talk/RonaldHochreiter.pdf&#34;&gt;Ronald Hochreiter&lt;/a&gt; gave an overview of modeling optimization via his &lt;a href=&#34;http://www.modopt.com/&#34;&gt;modopt&lt;/a&gt; package.  Tammer Kamel gave a live demo of the &lt;a href=&#34;http://www.quandl.com/help/packages/r&#34;&gt;Quandl package&lt;/a&gt; and said, &amp;ldquo;Quandl hopes to do to Bloomberg what Wikipedia did to Britannica.&amp;rdquo;&lt;/p&gt;
&lt;p&gt;I had the pleasure of introducing both &lt;a href=&#34;http://www.rinfinance.com/agenda/2013/talk/DougMartin.pdf&#34;&gt;Doug Martin&lt;/a&gt;, who talked about robust covariance estimation, and &lt;a href=&#34;http://www.rinfinance.com/agenda/2013/talk/GilesHeywood.pdf&#34;&gt;Giles Heywood&lt;/a&gt;, who discussed several ways of estimating and forecasting covariance, and proposed an &amp;ldquo;open source equity risk and backtest system&amp;rdquo; as a means of matching talent with capital.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.rinfinance.com/agenda/2013/talk/RueyTsay.pdf&#34;&gt;Ruey Tsay&lt;/a&gt; was the next keynote, and spoke about using principal volatility components to simplify multivariate volatility modeling.  &lt;a href=&#34;http://www.rinfinance.com/agenda/2013/talk/AlexiosGhalanos.pdf&#34;&gt;Alexios Ghalanos&lt;/a&gt; spoke about modeling multivariate time-varying skewness and kurtosis.  Unfortunately, I missed both &lt;a href=&#34;http://www.rinfinance.com/agenda/2013/talk/KrisBoudt.pdf&#34;&gt;Kris Boudt&amp;rsquo;s&lt;/a&gt; and &lt;a href=&#34;http://www.rinfinance.com/agenda/2013/talk/DavidMatteson.pdf&#34;&gt;David Matteson&amp;rsquo;s&lt;/a&gt; presentations, but I did get to see Winston Chang&amp;rsquo;s live demo of &lt;a href=&#34;http://www.rstudio.com/shiny/&#34;&gt;Shiny&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Friday food/networking:&lt;br&gt;
The two-hour conference reception at UIC was a great time to have a drink, talk with speakers, and say hello to people I had never met in person.  Next was the (optional) dinner at &lt;a href=&#34;http://www.trumphotelcollection.com/chicago/rooftop-restaurants-chicago.php&#34;&gt;The Terrace at Trump&lt;/a&gt;.  Unfortunately, it was cold and windy, so we only spent 15-20 minutes on the terrace before moving inside.  The food was fantastic, but the conversations were even better.&lt;/p&gt;
&lt;p&gt;Saturday talks:&lt;/p&gt;
&lt;p&gt;I missed the first block of lightning talks.  &lt;a href=&#34;http://www.rinfinance.com/agenda/2013/talk/Azzarello+Putnam.pdf&#34;&gt;Samantha Azzarello&lt;/a&gt; discussed her work with Blu Putnam, which used a dynamic linear model to evaluate the Fed&amp;rsquo;s performance vis-a-vis the Taylor Rule.  &lt;a href=&#34;http://www.rinfinance.com/agenda/2013/talk/JiahanLi.pdf&#34;&gt;Jiahan Li&lt;/a&gt; used constrained least squares on 4 economic fundamentals to forecast foreign exchange rates.  &lt;a href=&#34;http://www.rinfinance.com/agenda/2013/talk/ThomasHarte.pdf&#34;&gt;Thomas Harte&lt;/a&gt; talked about regulatory requirements of foreign exchange pricing (and wins the award for most slides, 270); basically documentation is important, &lt;a href=&#34;http://www.inside-r.org/r-doc/utils/Sweave&#34;&gt;Sweave&lt;/a&gt; to the rescue!&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.rinfinance.com/agenda/2013/talk/SanjivDas.pptx&#34;&gt;Sanjiv Das&lt;/a&gt; gave a keynote on 4 applications: 1) network analysis on SEC and FDIC filings to determine banks that pose systematic risk, 2) determining which home mortgage modification is optimal, 3) portfolio optimization with mental accounting, 4) venture capital communities.&lt;/p&gt;
&lt;p&gt;I had the pleasure of introducing the following speakers: &lt;a href=&#34;http://www.rinfinance.com/agenda/2013/talk/DirkEddelbuettel.pdf&#34;&gt;Dirk Eddelbuettel&lt;/a&gt; showed how it&amp;rsquo;s easy to write fast linear algebra code with &lt;a href=&#34;http://cran.r-project.org/web/packages/RcppArmadillo/index.html&#34;&gt;RcppArmadillo&lt;/a&gt;.  &lt;a href=&#34;http://www.rinfinance.com/agenda/2013/talk/KlausSpanderen.pdf&#34;&gt;Klaus Spanderen&lt;/a&gt; showed how to use &lt;a href=&#34;http://quantlib.org/index.shtml&#34;&gt;QuantLib&lt;/a&gt; from R, and even how to to call C++ from R from C++.  &lt;a href=&#34;http://www.rinfinance.com/agenda/2013/talk/BryanLewis.pdf&#34;&gt;Bryan Lewis&lt;/a&gt; talked about &lt;a href=&#34;http://www.scidb.org/&#34;&gt;SciDB&lt;/a&gt; and the &lt;a href=&#34;http://cran.r-project.org/web/packages/scidb/&#34;&gt;scidb&lt;/a&gt; package (SciDB contains fast linear algebra routines that operate &lt;strong&gt;on&lt;/strong&gt; the database!).  &lt;a href=&#34;http://www.rinfinance.com/agenda/2013/talk/MatthewDowle.pdf&#34;&gt;Matthew Dowle&lt;/a&gt; gave an introduction to &lt;a href=&#34;http://cran.r-project.org/web/packages/data.table/index.html&#34;&gt;data.table&lt;/a&gt; (in addition to a seminar).&lt;/p&gt;
&lt;p&gt;Attilio Meucci gave his keynote on visualizing advanced risk management and portfolio optimization.  Immediately following, &lt;a href=&#34;http://www.rinfinance.com/agenda/2013/talk/BrianPeterson.pdf&#34;&gt;Brian Peterson&lt;/a&gt; gave a lightning on implementing Meucci&amp;rsquo;s work in R (Attilio works in Matlab), which was part of a Google Summer of Code project last year.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.rinfinance.com/agenda/2013/talk/Chance+Hanson+etal.pdf&#34;&gt;Thomas Hanson&lt;/a&gt; presented his work with Don Chance (and others) on computational issues in estimating the volatility smile.  &lt;a href=&#34;http://www.rinfinance.com/agenda/2013/talk/JeffRyan.pdf&#34;&gt;Jeffrey Ryan&lt;/a&gt; showed how to manipulate options data in R with the &lt;a href=&#34;https://code.google.com/p/rgreeks/&#34;&gt;greeks&lt;/a&gt; package.&lt;/p&gt;
&lt;p&gt;The conference wrapped up by giving away three books, generously donated by Springer, to three random people who submitted feedback surveys.  I performed the random drawing live on stage, using my patent-pending TUMC method (I tossed the papers up in the air).&lt;/p&gt;
&lt;p&gt;The committee also presented the awards for best papers.  The winners were: &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;Regime switches in volatility and correlation of ﬁnancial institutions&lt;/em&gt;, Boudt et. al.&lt;/li&gt;
&lt;li&gt;&lt;em&gt;A Bayesian interpretation of the Federal Reserve&amp;rsquo;s dual mandate and the Taylor Rule&lt;/em&gt;, Putnam &amp;amp; Azzarello&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Nonparametric Estimation of Stationarity and Change Points in Finance&lt;/em&gt;, Matteson et. al.&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Estimating High Dimensional Covariance Matrix Using a Factor Model&lt;/em&gt;, Sun (best student paper)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Saturday food/networking:&lt;/p&gt;
&lt;p&gt;The whirlwind came to a close at &lt;a href=&#34;http://jakstap.com/&#34;&gt;Jaks Tap&lt;/a&gt;.  I was finally able to ask speed-obsessed Matthew Dowle about potential implementations of a multi-type xts object (a Google Summer of Code project this year).    I also spoke to a few people about how to add options strategy backtesting to quantstrat.&lt;/p&gt;
&lt;p&gt;Last, but not least: none of this would be possible without the support of fantastic sponsors: &lt;a href=&#34;http://business.uic.edu/academic-centers-and-research/cba-research-centers/international-center-for-futures-and-derivatives&#34;&gt;International Center for Futures and Derivatives at UIC&lt;/a&gt;, &lt;a href=&#34;http://www.revolutionanalytics.com/&#34;&gt;Revolution Analytics&lt;/a&gt;, &lt;a href=&#34;http://depts.washington.edu/compfin/&#34;&gt;MS-Computational Finance at University of Washington&lt;/a&gt;, &lt;a href=&#34;http://www.google.com/&#34;&gt;Google&lt;/a&gt;, &lt;a href=&#34;http://www.lemnica.com/&#34;&gt;lemnica&lt;/a&gt;, &lt;a href=&#34;http://www.opengamma.com/&#34;&gt;OpenGamma&lt;/a&gt;, &lt;a href=&#34;http://www.onetick.com/&#34;&gt;OneMarketData&lt;/a&gt;, and &lt;a href=&#34;http://www.rstudio.org/&#34;&gt;RStudio&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>R/Finance 2013 Registration Open</title>
      <link>https://blog.fosstrading.com/2013/03/rfinance-2013-registration-open/</link>
      <pubDate>Fri, 29 Mar 2013 17:22:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2013/03/rfinance-2013-registration-open/</guid>
      <description>&lt;p&gt;The registration for R/Finance 2013 &amp;ndash; which will take place May 17 and 18 in Chicago &amp;ndash; is NOW OPEN!&lt;/p&gt;
&lt;p&gt;Building on the success of the previous conferences in 2009, 2010, 2011 and 2012, we expect more than 250 attendees from around the world. R users from industry, academia, and government will joining 30+ presenters covering all areas of finance with R.&lt;/p&gt;
&lt;p&gt;We are very excited about the four keynotes by &lt;a href=&#34;http://www.scu.edu/business/finance/faculty/das.cfm&#34;&gt;Sanjiv Das&lt;/a&gt;, &lt;a href=&#34;http://www.symmys.com/attilio-meucci&#34;&gt;Attilio Meucci&lt;/a&gt;, &lt;a href=&#34;http://www.linkedin.com/in/ryansheftel&#34;&gt;Ryan Sheftel&lt;/a&gt;, and &lt;a href=&#34;http://www.chicagobooth.edu/faculty/directory/t/ruey-s-tsay&#34;&gt;Ruey Tsay&lt;/a&gt;. The main agenda (currently) includes seventeen full presentations and fifteen shorter &amp;ldquo;lightning talks&amp;rdquo;. We are also excited to offer five optional pre-conference seminars on Friday morning.&lt;/p&gt;
&lt;p&gt;To celebrate the fifth year of the conference in style, the dinner will be held at &lt;a href=&#34;http://www.trumphotelcollection.com/chicago/rooftop-restaurants-chicago.php&#34;&gt;The Terrace at Trump&lt;/a&gt; Hotel. Overlooking the Chicago river and skyline, it is a perfect venue to continue conversations while dining and drinking.&lt;/p&gt;
&lt;p&gt;More details of the agenda are available at:&lt;br&gt;
&lt;a href=&#34;http://www.rinfinance.com/agenda/&#34;&gt;http://www.RinFinance.com/agenda/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Registration information is available at:&lt;br&gt;
&lt;a href=&#34;http://www.rinfinance.com/register/&#34;&gt;http://www.RinFinance.com/register/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;and can also be directly accessed by going to:&lt;br&gt;
&lt;a href=&#34;http://www.regonline.com/RFinance2013&#34;&gt;http://www.regonline.com/RFinance2013&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;We would to thank our 2013 Sponsors for the continued support enabling us to host such an exciting conference:&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://business.uic.edu/academic-centers-and-research/cba-research-centers/international-center-for-futures-and-derivatives&#34;&gt;International Center for Futures and Derivatives at UIC&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.revolutionanalytics.com/&#34;&gt;Revolution Analytics&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;http://depts.washington.edu/compfin/&#34;&gt;MS-Computational Finance at University of Washington&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.google.com/&#34;&gt;Google&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;http://www.lemnica.com/&#34;&gt;lemnica&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;http://www.opengamma.com/&#34;&gt;OpenGamma&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;http://www.onetick.com/&#34;&gt;OneMarketData&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;http://www.rstudio.org/&#34;&gt;RStudio&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;On behalf of the committee and sponsors, we look forward to seeing you in Chicago!&lt;/p&gt;
&lt;p&gt;Gib Bassett, Peter Carl, Dirk Eddelbuettel, Brian Peterson, Dale Rosenthal, Jeffrey Ryan, Joshua Ulrich&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>TTR_0.22-0 on CRAN</title>
      <link>https://blog.fosstrading.com/2013/03/ttr-0-22-0-on-cran/</link>
      <pubDate>Mon, 18 Mar 2013 20:49:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2013/03/ttr-0-22-0-on-cran/</guid>
      <description>&lt;p&gt;An updated version of &lt;a href=&#34;http://cran.r-project.org/web/packages/TTR/index.html&#34;&gt;TTR&lt;/a&gt; is now on &lt;a href=&#34;http://cran.r-project.org/&#34;&gt;CRAN&lt;/a&gt;.  The biggest changes to be aware of are that all moving averages attempt to set colnames, &lt;code&gt;CCI()&lt;/code&gt; returns an object with colnames, and the initial gap for &lt;code&gt;SAR()&lt;/code&gt; is not hard-coded at 0.01.  There are also some much-needed bug fixes - most notably to Yang Zhang volatility, &lt;code&gt;MACD()&lt;/code&gt;, &lt;code&gt;SAR()&lt;/code&gt;, &lt;code&gt;EMA()&lt;/code&gt;/&lt;code&gt;EVWMA()&lt;/code&gt;, and &lt;code&gt;adjRatios()&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;There are some exciting new features, including a rolling single-factor model function (&lt;code&gt;rollSFM()&lt;/code&gt;, based on a prototype from James Toll), a &lt;code&gt;runPercentRank()&lt;/code&gt; function from Charlie Friedemann, &lt;code&gt;stoch()&lt;/code&gt; and &lt;code&gt;WPR()&lt;/code&gt; return 0.5 instead of NaN when there&amp;rsquo;s insufficient price movement, and a faster &lt;code&gt;aroon()&lt;/code&gt; function.&lt;/p&gt;
&lt;p&gt;Here are all of the updates (from the CHANGES file):&lt;/p&gt;
&lt;p&gt;#-#-#-#-#-#-#-#-#-#    Changes in TTR version 0.22-0    #-#-#-#-#-#-#-#-#-#&lt;/p&gt;
&lt;p&gt;SIGNIFICANT USER-VISIBLE CHANGES&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;CCI()&lt;/code&gt; now returns an object with colnames (&amp;ldquo;cci&amp;rdquo;).&lt;/li&gt;
&lt;li&gt;All moving average functions now attempt to set colnames.&lt;/li&gt;
&lt;li&gt;Added clarification on the displaced nature of &lt;code&gt;DPO()&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SAR()&lt;/code&gt; now sets the initial gap based on the standard deviation of the high-low range instead of hard-coding it at 0.01.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;NEW FEATURES&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Added &lt;code&gt;rollSFM()&lt;/code&gt; function that calculates alpha, beta, and R-squared for a single-factor model, thanks to James Toll for the prototype.&lt;/li&gt;
&lt;li&gt;Added &lt;code&gt;runPercentRank()&lt;/code&gt; function, thanks to Charlie Friedemann.&lt;/li&gt;
&lt;li&gt;Moved slowest portion of &lt;code&gt;aroon()&lt;/code&gt; to C.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;DonchianChannel()&lt;/code&gt; gains an &lt;code&gt;include.lag = FALSE&lt;/code&gt; argument, which includes the current period&amp;rsquo;s data in the calculation. Setting it to &lt;code&gt;TRUE&lt;/code&gt; replicates the original calculation. Thanks to Garrett See and John Bollinger.&lt;/li&gt;
&lt;li&gt;The Stochastic Oscillator and Williams&#39; %R now return 0.5 (instead of NaN) when a securities&#39; price doesn&amp;rsquo;t change over a sufficient period.&lt;/li&gt;
&lt;li&gt;All moving average functions gain &lt;code&gt;...&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Users can now change &lt;code&gt;alpha&lt;/code&gt; in Yang Zhang volatility calculation.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;BUG FIXES&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Fixed &lt;code&gt;MACD()&lt;/code&gt; when &lt;code&gt;maType&lt;/code&gt; is a list. Now &lt;code&gt;mavg.slow = maType[[2]]&lt;/code&gt; and &lt;code&gt;mavg.fast = maType[[1]]&lt;/code&gt;, as users expected based on the order of the &lt;code&gt;nFast&lt;/code&gt; and &lt;code&gt;nSlow&lt;/code&gt; arguments. Thanks to Phani Nukala and Jonathan Roy.&lt;/li&gt;
&lt;li&gt;Fixed bug in &lt;code&gt;lags()&lt;/code&gt; function, thanks to Michael Weylandt.&lt;/li&gt;
&lt;li&gt;Corrected error in Yang Zhang volatility calculation, thanks to several people for identifying this error.&lt;/li&gt;
&lt;li&gt;Correction to &lt;code&gt;SAR()&lt;/code&gt; extreme point calculations, thanks to Vamsi Galigutta.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;adjRatios()&lt;/code&gt; now ensures all inputs are univariate, thanks to Garrett See.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;EMA()&lt;/code&gt; and &lt;code&gt;EVWMA()&lt;/code&gt; now ensure &lt;code&gt;n&lt;/code&gt; is less than the number of non-NA values, thanks to Roger Bos.&lt;/li&gt;
&lt;li&gt;Fix to &lt;code&gt;BBands()&lt;/code&gt; docs, thanks to Evelyn Mitchell.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;container&#34; role=&#34;main&#34;&gt;
  &lt;div class=&#34;row&#34;&gt;
    &lt;hr&gt;
    &lt;p&gt;If you love using my open-source work (e.g. &lt;a href=&#34;https://cran.r-project.org/package=quantmod&#34;&gt;quantmod&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=TTR&#34;&gt;TTR&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=xts&#34;&gt;xts&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=IBrokers&#34;&gt;IBrokers&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=microbenchmark&#34;&gt;microbenchmark&lt;/a&gt;, etc.), you can give back by &lt;a href=&#34;https://github.com/sponsors/joshuaulrich/&#34;&gt;sponsoring me on GitHub&lt;/a&gt;. I truly appreciate anything you&amp;rsquo;re willing and able to give!&lt;/p&gt;

    &lt;p&gt;I look forward to your questions and feedback! If you have a question, please ask on &lt;a href=&#34;http://stackoverflow.com/&#34;&gt;Stack Overflow&lt;/a&gt; and use the &lt;a href=&#34;http://stackoverflow.com/questions/tagged/r&#34;&gt;[r]&lt;/a&gt; and &lt;a href=&#34;http://stackoverflow.com/questions/tagged/ttr&#34;&gt;[ttr]&lt;/a&gt; tags.  Or you can send an email to the &lt;a href=&#34;https://stat.ethz.ch/mailman/listinfo/r-sig-finance&#34;&gt;R-SIG-Finance&lt;/a&gt; mailing list (you must subscribe to post). Open an &lt;a href=&#34;https://github.com/joshuaulrich/ttr/issues&#34;&gt;issue on GitHub&lt;/a&gt; if you find a bug or want to request a feature. Please &lt;a href=&#34;https://github.com/joshuaulrich/ttr/blob/master/.github/CONTRIBUTING.md&#34;&gt;read the contributing guide&lt;/a&gt; first! It will help save time for both of us. ;-)&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;

</description>
    </item>
    
    <item>
      <title>Computational Finance with R on Coursera</title>
      <link>https://blog.fosstrading.com/2012/09/computational-finance-with-r-on-coursera/</link>
      <pubDate>Wed, 12 Sep 2012 10:33:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2012/09/computational-finance-with-r-on-coursera/</guid>
      <description>&lt;p&gt;If you haven&amp;rsquo;t signed up for the &lt;a href=&#34;https://www.coursera.org/course/compfinance&#34;&gt;Introduction to Computational Finance and Financial Econometrics&lt;/a&gt; course taught by &lt;a href=&#34;http://faculty.washington.edu/ezivot/&#34;&gt;Eric Zivot&lt;/a&gt; on &lt;a href=&#34;https://www.coursera.org/&#34;&gt;Coursera&lt;/a&gt;, it&amp;rsquo;s not too late.  The second week just started and the first assignments aren&amp;rsquo;t due until September 18th.&lt;/p&gt;
&lt;p&gt;Join me in getting a good refresher on basic statistics, simulation and bootstrapping, linear algebra, and learning more about portfolio optimization, efficient portfolios, and risk budgeting.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>A New plot.xts</title>
      <link>https://blog.fosstrading.com/2012/08/a-new-plot-xts/</link>
      <pubDate>Wed, 15 Aug 2012 13:52:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2012/08/a-new-plot-xts/</guid>
      <description>&lt;p&gt;The &lt;a href=&#34;http://google-melange.appspot.com/gsoc/homepage/google/gsoc2012&#34;&gt;Google Summer of Code (2012)&lt;/a&gt; project to &lt;a href=&#34;http://rwiki.sciviews.org/doku.php?id=developers:projects:gsoc2012:xts&#34;&gt;extend xts&lt;/a&gt; has produced a very promising new plot.xts function.  Michael Weylandt, the project&amp;rsquo;s student, wrote &lt;a href=&#34;https://stat.ethz.ch/mailman/listinfo/r-sig-finance&#34;&gt;R-SIG-Finance&lt;/a&gt; to &lt;a href=&#34;http://draft.blogger.com/%20https://stat.ethz.ch/pipermail/r-sig-finance/2012q3/010652.html&#34;&gt;request impressions, feedback, and bug reports&lt;/a&gt;.  The function is housed in the &lt;a href=&#34;https://r-forge.r-project.org/scm/viewvc.php/pkg/xtsExtra/?root=xts&#34;&gt;xtsExtra&lt;/a&gt; package of the &lt;a href=&#34;https://r-forge.r-project.org/projects/xts&#34;&gt;xts project on R-Forge&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Please try &lt;code&gt;xtsExtra::plot.xts&lt;/code&gt; and let us know what you think.  A sample of the eye-candy produced by the code in &lt;a href=&#34;https://stat.ethz.ch/pipermail/r-sig-finance/2012q3/010652.html&#34;&gt;Michael&amp;rsquo;s email&lt;/a&gt; is below.  Granted, this isn&amp;rsquo;t a one-liner, but it&amp;rsquo;s certainly impressive!  Great work Michael!&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.fosstrading.com/post/images/edhec.jpeg&#34;&gt;&lt;img src=&#34;https://blog.fosstrading.com/post/images/edhec.jpeg&#34; alt=&#34;&#34;&gt;&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Book Review: Parallel R</title>
      <link>https://blog.fosstrading.com/2012/06/book-review-parallel-r/</link>
      <pubDate>Tue, 05 Jun 2012 10:31:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2012/06/book-review-parallel-r/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;http://www.amazon.com/gp/product/1449309925/ref=as_li_ss_il?ie=UTF8&amp;amp;tag=fotr09-20&amp;amp;linkCode=as2&amp;amp;camp=1789&amp;amp;creative=390957&amp;amp;creativeASIN=1449309925&#34;&gt;&lt;img src=&#34;http://ws.assoc-amazon.com/widgets/q?_encoding=UTF8&amp;amp;Format=_SL160_&amp;amp;ASIN=1449309925&amp;amp;MarketPlace=US&amp;amp;ID=AsinImage&amp;amp;WS=1&amp;amp;tag=fotr09-20&amp;amp;ServiceVersion=20070822&#34; alt=&#34;&#34;&gt;&lt;/a&gt;You have a problem: &lt;a href=&#34;http://www.r-project.org/&#34;&gt;R&lt;/a&gt; is single-threaded, but your code would be faster if it could simultaneously run on more than one core.  You have access to a cluster and/or your computer has multiple cores.  &lt;a href=&#34;http://www.amazon.com/gp/product/1449309925/ref=as_li_ss_tl?ie=UTF8&amp;amp;tag=fosstrading-20&amp;amp;linkCode=as2&amp;amp;camp=1789&amp;amp;creative=390957&amp;amp;creativeASIN=1449309925&#34;&gt;Parallel R&lt;/a&gt;, by Q. Ethan McCallum and Stephen Weston, can help you put this extra computing power to use.&lt;/p&gt;
&lt;p&gt;The book describes 6 approaches to distributed computing.  Thoughts on each approach follow:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;http://cran.r-project.org/web/packages/snow/&#34;&gt;snow&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;The chapter starts by showing you how to create a socket cluster on a single machine (later sections discuss &lt;a href=&#34;http://www.open-mpi.org/&#34;&gt;MPI&lt;/a&gt; clusters, and socket clusters of several machines).Then a section describes how to initialize workers, with a later section giving a slightly advanced discussion on how functions are serialized to workers.&lt;/p&gt;
&lt;p&gt;There&amp;rsquo;s a great demonstration (including graphs) of why/when you should use &lt;code&gt;clusterApplyLB()&lt;/code&gt; instead of &lt;code&gt;clusterApply()&lt;/code&gt;.  There&amp;rsquo;s also a fantastic discussion on potential I/O issues (probably one of the most surprising/confusing issues to people new to distributed computing) and how &lt;code&gt;parApply()&lt;/code&gt; handles them.  Then the authors provide a very useful &lt;code&gt;parApplyLB()&lt;/code&gt; function.&lt;/p&gt;
&lt;p&gt;There are a few (but very important!) paragraphs on random number generation using the &lt;a href=&#34;http://cran.r-project.org/web/packages/rsprng/index.html&#34;&gt;rsprng&lt;/a&gt; and &lt;a href=&#34;http://cran.r-project.org/web/packages/rlecuyer/index.html&#34;&gt;rlecuyer&lt;/a&gt; packages.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;&lt;a href=&#34;http://cran.r-project.org/web/packages/multicore/&#34;&gt;multicore&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;The chapter starts by noting that the multicore package only works on a single computer running a POSIX compliant operating system (i.e. most anything &lt;em&gt;except&lt;/em&gt; Windows).&lt;/p&gt;
&lt;p&gt;The next section describes the &lt;code&gt;mclapply()&lt;/code&gt; function, and also explains how &lt;code&gt;mclapply()&lt;/code&gt; creates a cluster each time it&amp;rsquo;s called, why this isn&amp;rsquo;t a speed issue, and how it is actually beneficial.  The next few sections describe some of the optional &lt;code&gt;mclapply()&lt;/code&gt; arguments, and how you can achieve load balancing with &lt;code&gt;mclapply()&lt;/code&gt;.  A good discussion of &lt;code&gt;pvec()&lt;/code&gt;, parallel, and collect functions follow.&lt;/p&gt;
&lt;p&gt;There are some great tips on how to use the &lt;a href=&#34;http://cran.r-project.org/web/packages/rsprng/index.html&#34;&gt;rsprng&lt;/a&gt; and &lt;a href=&#34;http://cran.r-project.org/web/packages/rlecuyer/index.html&#34;&gt;rlecuyer&lt;/a&gt; packages for random number generation, even though they aren&amp;rsquo;t directly supported by the multicore package.  The chapter concludes with a short, but effective, description of multicore&amp;rsquo;s low-level API.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;parallel (comes with R &amp;gt;= 2.14.0)&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;The chapter starts by noting that the parallel package is a combination of the snow and multicore packages.  This chapter is relatively short, since those two packages were covered in detail over the prior two chapters.  Most of the content discusses the implementation differences between parallel and snow/multicore.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;R+&lt;a href=&#34;http://hadoop.apache.org/&#34;&gt;Hadoop&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;There&amp;rsquo;s a full chapter primer on Hadoop and MapReduce, for those who aren&amp;rsquo;t familiar with the software and concept.  The chapter ends with an introduction to Amazon&amp;rsquo;s &lt;a href=&#34;http://aws.amazon.com/ec2/&#34;&gt;EC2&lt;/a&gt; and &lt;a href=&#34;http://aws.amazon.com/elasticmapreduce/&#34;&gt;EMR&lt;/a&gt; services, which significantly lower the barrier to using Hadoop.&lt;/p&gt;
&lt;p&gt;The chapter on R+Hadoop is very little R and mostly Hadoop.  This is because Hadoop requires more setup than the other approaches.  You will need to do some work on the command line and with environment variables.&lt;/p&gt;
&lt;p&gt;There are three examples; one Hadoop streaming and two using the Java API (which require writing/modifying some Java code).  The authors take care to describe each block of code in all the examples, so it&amp;rsquo;s accessible to those who haven&amp;rsquo;t written Java.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;&lt;a href=&#34;http://www.rhipe.org/&#34;&gt;RHIPE&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;Using three examples, this chapter provides a thorough treatment of how to use RHIPE to abstract-away a lot of the boilerplate code required for Hadoop.  Everything is done in R.  As with the Hadoop chapter, the authors describe each block of code.&lt;/p&gt;
&lt;p&gt;RHIPE does require a little setup: it must be installed on your workstation and all cluster nodes.  In the examples, the authors describe how RHIPE allows you to transfer R objects between Map and Reduce phases, and they mention the RHIPE functions you can use to manipulate &lt;a href=&#34;http://en.wikipedia.org/wiki/HDFS#Hadoop_Distributed_File_System&#34;&gt;HDFS&lt;/a&gt; data.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol start=&#34;6&#34;&gt;
&lt;li&gt;&lt;a href=&#34;http://code.google.com/p/segue/&#34;&gt;segue&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;This is a very short chapter because the segue package has very narrow scope: using Amazon&amp;rsquo;s EMR service in two lines of code!&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Final thoughts:&lt;br&gt;
I would recommend this book to someone who is looking to move beyond the most basic distributed computing solutions.  The authors are careful to point you in the right direction and warn you of potential pitfalls of each approach.&lt;/p&gt;
&lt;p&gt;All but the most basic setups (e.g. a socket cluster on a single machine) will require some familiarity with the command line, environment variables, and networking.  This isn&amp;rsquo;t the fault of the authors or any of the approaches&amp;hellip; parallel computing just isn&amp;rsquo;t that easy.&lt;/p&gt;
&lt;p&gt;I really expected to see something on using &lt;a href=&#34;http://cran.r-project.org/web/packages/foreach/&#34;&gt;foreach&lt;/a&gt;, especially since Stephen Weston has done work on those packages.  It is mentioned briefly at the end of the book, so maybe it will appear in later editions.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Long-Overdue Blogroll Update</title>
      <link>https://blog.fosstrading.com/2012/04/long-overdue-blogroll-update/</link>
      <pubDate>Sat, 14 Apr 2012 10:18:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2012/04/long-overdue-blogroll-update/</guid>
      <description>&lt;p&gt;I don&amp;rsquo;t think I&amp;rsquo;ve updated my blogroll for at least a year&amp;hellip; shame on me.&lt;/p&gt;
&lt;p&gt;This update is mostly additions.  I only removed Max Dama&amp;rsquo;s blog, and that was only because it no longer exists.  I left Skill Analytics because it contains excellent information, even though Damian hasn&amp;rsquo;t posted in a long time.&lt;/p&gt;
&lt;p&gt;The additions are:&lt;br&gt;
&lt;a href=&#34;http://www.portfolioprobe.com/blog/&#34;&gt;Portfolio Probe&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;http://physicsoffinance.blogspot.com/&#34;&gt;The Physics of Finance&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;http://seekingalpha.com/author/condor-options/articles&#34;&gt;Condor Options&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;http://www.milktrader.net/&#34;&gt;Milktrader&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;http://algorithmzoo.com/&#34;&gt;Algorithm Zoo&lt;/a&gt; (by Milktrader)&lt;a href=&#34;http://blog.zhaw.ch/idp/sefblog/&#34;&gt;&lt;br&gt;
SEF-Blog: Signal Extraction and Forecasting&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;http://systematicinvestor.wordpress.com/&#34;&gt;Systematic Investor&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>R in Google Summer of Code 2012</title>
      <link>https://blog.fosstrading.com/2012/03/r-in-google-summer-of-code-2012/</link>
      <pubDate>Fri, 23 Mar 2012 13:53:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2012/03/r-in-google-summer-of-code-2012/</guid>
      <description>&lt;p&gt;This post is a slightly revised (and &amp;ldquo;blogified&amp;rdquo;) version of the message &lt;a href=&#34;http://braverock.com/brian/resume.html&#34;&gt;Brian Peterson&lt;/a&gt; has sent to various R mailing lists.&lt;/p&gt;
&lt;p&gt;Once again, &lt;a href=&#34;http://www.r-project.org/&#34;&gt;R&lt;/a&gt; has been accepted as a mentoring organization for the &lt;a href=&#34;http://google-melange.appspot.com/gsoc/homepage/google/gsoc2012&#34;&gt;Google Summer of Code (2012)&lt;/a&gt;.  We invite students interested in this program to learn more about it.  A good starting point is the &lt;a href=&#34;http://rwiki.sciviews.org/doku.php?id=developers:projects:gsoc2012&#34;&gt;R GSoC wiki&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Students participating in the program receive US$5,000 for successful completion of a GSoC project, a great resume item, and an opportunity to work with R package authors.&lt;/p&gt;
&lt;p&gt;There are four finance-related projects currently on the project ideas list:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://rwiki.sciviews.org/doku.php?id=developers:projects:gsoc2012:performanceanalytics&#34;&gt;Performance Attribution&lt;/a&gt;&lt;br&gt;
Add portfolio performance and attribution functionality from Bacon [1] to &lt;a href=&#34;http://cran.r-project.org/web/packages/PerformanceAnalytics/&#34;&gt;PerformanceAnalytics&lt;/a&gt; package.&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://rwiki.sciviews.org/doku.php?id=developers:projects:gsoc2012:meucci&#34;&gt;Advanced Risk and Portfolio Management&lt;/a&gt;&lt;br&gt;
Port &lt;a href=&#34;http://www.mathworks.com/products/matlab/&#34;&gt;MATLAB&lt;/a&gt; code published by Attilio Meucci [2,3,4] for risk and portfolio management to R.  (FYI: there is already a highly qualified student associated with this project idea).&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://rwiki.sciviews.org/doku.php?id=developers:projects:gsoc2012:rtaq&#34;&gt;Extend RTAQ&lt;/a&gt;&lt;br&gt;
Extend the &lt;a href=&#34;http://cran.r-project.org/web/packages/RTAQ/&#34;&gt;RTAQ&lt;/a&gt; package with additional data interoperability and volatility measures.  (FYI: there is already a highly qualified student associated with this project idea).&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://rwiki.sciviews.org/doku.php?id=developers:projects:gsoc2012:portfolioanalytics&#34;&gt;PortfolioAnalytics Optimizer Back-ends&lt;/a&gt;&lt;br&gt;
Add additional closed form and global optimizer backends to &lt;a href=&#34;https://r-forge.r-project.org/R/?group_id=579&#34;&gt;PortfolioAnalytics&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;and one that is not specifically finance related, but extends &lt;a href=&#34;http://cran.r-project.org/web/packages/xts/&#34;&gt;xts&lt;/a&gt;, which is the most prevalent time series class for finance in R:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://rwiki.sciviews.org/doku.php?id=developers:projects:gsoc2012:xts&#34;&gt;Extend xts&lt;/a&gt;&lt;br&gt;
Improve data and model visualization.  Extend xts objects to contain mixed types (like data.frames).  Add interoperability to existing analytical functions (e.g. &lt;a href=&#34;http://en.wikipedia.org/wiki/Autoregressive_integrated_moving_average&#34;&gt;ARIMA&lt;/a&gt;, &lt;a href=&#34;http://en.wikipedia.org/wiki/Holt-Winters#Double_exponential_smoothing&#34;&gt;Holt Winters&lt;/a&gt;, &lt;a href=&#34;http://en.wikipedia.org/wiki/Vector_autoregression&#34;&gt;VAR&lt;/a&gt;).  (FYI: there is already a highly qualified student associated with this project idea).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The list of finance project ideas above is also by no means exhaustive of the proposed R projects.  There are additional non-finance R project ideas listed on the &lt;a href=&#34;http://rwiki.sciviews.org/doku.php?id=developers:projects:gsoc2012&#34;&gt;R GSoC wiki&lt;/a&gt;.  Interested students or mentors are encouraged to discuss other project ideas on the &lt;a href=&#34;http://groups.google.com/group/gsoc-r?pli=1&#34;&gt;gsoc-r Google group&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Those interested in either student or mentor participation should join our Google group, as this is the main means of communication.  When you apply for group membership, please introduce yourself with one sentence, so we know you&amp;rsquo;re not a spammer.&lt;/p&gt;
&lt;p&gt;Interested students should start working on applications now.  The student application process opens on 26 March, and successful students in prior years have often posted draft applications to melange for comment as soon after the opening of the application process as possible.&lt;/p&gt;
&lt;p&gt;Note that GSoC is about &lt;strong&gt;coding&lt;/strong&gt;.  It is not intended to fund research; but many activities with R require code to advance our work, so the program can be very helpful to improving R.&lt;/p&gt;
&lt;p&gt;For information, the admins this year are Toby Dylan Hocking and John Nash, with Brian Peterson and Virgilio Gomez as backups.&lt;/p&gt;
&lt;p&gt;References:&lt;br&gt;
[1] Carl Bacon “Practical Portfolio Performance Measurement and Attribution”, (London, John Wiley &amp;amp; Sons. September 2004) ISBN 978-0470856796. 2nd Edition May 2008 ISBN 978-0470059289&lt;/p&gt;
&lt;p&gt;[2] Meucci, Attilio, Managing Diversification (April 1, 2010). Risk, pp. 74-79, May 2009; Bloomberg Education &amp;amp; Quantitative Research and Education Paper. Available at SSRN: &lt;a href=&#34;http://ssrn.com/abstract=1358533&#34; title=&#34;http://ssrn.com/abstract=1358533&#34;&gt;http://ssrn.com/abstract=1358533&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;[3] Meucci, Attilio, Exercises in Advanced Risk and Portfolio Management - With Step-by-Step Solutions and Fully Documented Code (August 15, 2010). Available at SSRN: &lt;a href=&#34;http://ssrn.com/abstract=1447443&#34; title=&#34;http://ssrn.com/abstract=1447443&#34;&gt;http://ssrn.com/abstract=1447443&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;[4] Meucci, Attilio, Risk and Asset Allocation. Springer Finance (2005) ISBN: 3540222138&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>R/Finance 2012 Registration Open</title>
      <link>https://blog.fosstrading.com/2012/03/rfinance-2012-registration-open/</link>
      <pubDate>Tue, 20 Mar 2012 10:47:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2012/03/rfinance-2012-registration-open/</guid>
      <description>&lt;p&gt;You can find more information on the &lt;a href=&#34;http://www.rinfinance.com/&#34;&gt;R/Finance conference website&lt;/a&gt;.  Hope to see you in Chicago in May!&lt;/p&gt;
&lt;p&gt;The registration for R/Finance 2012 &amp;ndash; which will take place May 11 and 12 in Chicago &amp;ndash; is NOW OPEN!&lt;/p&gt;
&lt;p&gt;Building on the success of the three previous conferences in 2009, 2010, and 2011, we expect more than 250 attendees from around the world.  R users from industry, academia, and government will join 40+ presenters covering all areas of finance with R.&lt;/p&gt;
&lt;p&gt;This year&amp;rsquo;s conference will start earlier in the day on Friday, to accommodate the tremendous line up of speakers for 2012, as well as to provide more time between talks for networking.&lt;/p&gt;
&lt;p&gt;We are very excited about the four keynotes by &lt;a href=&#34;http://tsdbi.r-forge.r-project.org/&#34;&gt;Paul Gilbert&lt;/a&gt;, &lt;a href=&#34;http://en.wikipedia.org/wiki/Blair_Hull&#34;&gt;Blair Hull&lt;/a&gt;, &lt;a href=&#34;http://www.rob-mcculloch.org/&#34;&gt;Rob McCulloch&lt;/a&gt;, and &lt;a href=&#34;http://simon.urbanek.info/&#34;&gt;Simon Urbanek&lt;/a&gt;.  The main agenda includes nineteen full presentations and eighteen shorter &amp;ldquo;lightning talks&amp;rdquo;.  We are also excited to offer six optional pre-conference seminars on Friday morning.&lt;/p&gt;
&lt;p&gt;Once again, we are hosting the R/Finance conference dinner on Friday evening, where you can continue conversations while dining and drinking atop a West Loop restaurant overlooking the Chicago skyline.&lt;/p&gt;
&lt;p&gt;More details of the agenda are available at:&lt;br&gt;
&lt;a href=&#34;http://www.rinfinance.com/agenda/&#34;&gt;http://www.RinFinance.com/agenda/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Registration information is available at&lt;br&gt;
&lt;a href=&#34;http://www.rinfinance.com/register/&#34;&gt;http://www.RinFinance.com/register/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;and can also be directly accessed by going to&lt;br&gt;
&lt;a href=&#34;http://www.regonline.com/RFinance2012&#34;&gt;http://www.regonline.com/RFinance2012&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;On behalf of the committee and sponsors, we look forward to seeing you in Chicago!&lt;/p&gt;
&lt;p&gt;Gib Bassett, Peter Carl, Dirk Eddelbuettel, Brian Peterson, Dale Rosenthal, Jeffrey Ryan, Joshua Ulrich&lt;/p&gt;
&lt;p&gt;Our 2012 Sponsors:&lt;br&gt;
&lt;a href=&#34;http://www.uic.edu/cba/icfd&#34;&gt;International Center for Futures and Derivatives at UIC&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.revolutionanalytics.com/&#34;&gt;Revolution Analytics&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;http://www.sybase.com/&#34;&gt;Sybase&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;http://computational-finance.uw.edu/masters-degree-in-computational-finance&#34;&gt;MS-Computational Finance at University of Washington&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.google.com/&#34;&gt;Google&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;http://www.lemnica.com/&#34;&gt;lemnica&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;http://www.opengamma.com/&#34;&gt;OpenGamma&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;http://www.onetick.com/&#34;&gt;OneTick&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;http://www.rstudio.org/&#34;&gt;RStudio&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;http://www.tickdata.com/&#34;&gt;Tick Data&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Reno 3/10-3/18</title>
      <link>https://blog.fosstrading.com/2012/03/reno-310-318/</link>
      <pubDate>Sat, 10 Mar 2012 15:48:00 -0600</pubDate>
      
      <guid>https://blog.fosstrading.com/2012/03/reno-310-318/</guid>
      <description>&lt;p&gt;I will be in the Reno, NV area from 3/10-3/18.  Contact me if you would like to meet over coffee, lunch, drinks, etc.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>DEoptim in Parallel</title>
      <link>https://blog.fosstrading.com/2012/03/deoptim-in-parallel/</link>
      <pubDate>Sun, 04 Mar 2012 20:33:00 -0600</pubDate>
      
      <guid>https://blog.fosstrading.com/2012/03/deoptim-in-parallel/</guid>
      <description>&lt;p&gt;Running &lt;a href=&#34;http://cran.r-project.org/package=DEoptim&#34;&gt;DEoptim&lt;/a&gt; in parallel has been on the development team&amp;rsquo;s wishlist for awhile.  It had not been a priority though, because none of us have personally needed it.  An opportunity arose when &lt;a href=&#34;http://www.econ.kuleuven.be/public/n06054/&#34;&gt;Kris Boudt&lt;/a&gt; approached me about collaborating to add this functionality as part of a consultancy project for a financial services firm.&lt;/p&gt;
&lt;p&gt;We were able to add and test the functionality within a week.  The latest revision of &lt;a href=&#34;https://r-forge.r-project.org/projects/deoptim/&#34;&gt;DEoptim on R-Forge&lt;/a&gt; has the capability to evaluate the objective function on multiple cores using &lt;a href=&#34;http://cran.r-project.org/web/packages/foreach/index.html&#34;&gt;foreach&lt;/a&gt;.  Very CPU-intensive problems will see speed increases in approximately linear time (less communication overhead).&lt;/p&gt;
&lt;p&gt;I gave a &lt;a href=&#34;http://files.meetup.com/1772780/20120201_Ulrich_Parallel_DEoptim.pdf&#34;&gt;short presentation&lt;/a&gt; (PDF) on the parallel functionality at the &lt;a href=&#34;http://www.meetup.com/Saint-Louis-RUG/&#34;&gt;Saint Louis R User Group&lt;/a&gt; meetup in February.  A longer-running version of the code used in the presentation is on R-Forge, in the file &lt;a href=&#34;https://r-forge.r-project.org/scm/viewvc.php/pkg/DEoptim/sandbox/largeN_doSNOW.R?view=markup&amp;amp;revision=86&amp;amp;root=deoptim&#34;&gt;DEoptim/sandbox/largeN_doSNOW.R&lt;/a&gt; (revision 86).&lt;/p&gt;
&lt;p&gt;There are a few things to keep in mind when using the parallel functionality.  I quote from the meetup presentation:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Data communication between nodes can overwhelm gains from processing on multiple CPUs&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Be careful with non-varying objects&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Exclude them from formal function arguments&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Copy them to nodes before optimization (&lt;code&gt;clusterExport()&lt;/code&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If &lt;code&gt;mu&lt;/code&gt; and &lt;code&gt;sigma&lt;/code&gt; were formal function arguments, they would be copied to each node for all 2037 function evaluations!&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Please try it and give us feedback.  R-Forge has been undergoing major updates, so please anonymously checkout the source and build it yourself if you&amp;rsquo;re unable to download the pre-built source / binaries.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>R/Finance 2012 Call for Papers</title>
      <link>https://blog.fosstrading.com/2011/12/rfinance-2012-call-for-papers/</link>
      <pubDate>Thu, 15 Dec 2011 00:38:00 -0600</pubDate>
      
      <guid>https://blog.fosstrading.com/2011/12/rfinance-2012-call-for-papers/</guid>
      <description>&lt;p&gt;I&amp;rsquo;m excited to share the call for papers for the upcoming R/Finance conference.  Even if you don&amp;rsquo;t submit a presentation, I hope to see you there!&lt;/p&gt;
&lt;p&gt;Call for Papers:&lt;/p&gt;
&lt;p&gt;R/Finance 2012: Applied Finance with R&lt;br&gt;
May 11 and 12, 2012&lt;br&gt;
University of Illinois, Chicago, IL, USA&lt;/p&gt;
&lt;p&gt;The fourth annual &lt;a href=&#34;http://www.rinfinance.com/&#34;&gt;R/Finance conference&lt;/a&gt; for applied finance using &lt;a href=&#34;http://www.r-project.org/&#34;&gt;R&lt;/a&gt; will be held on May 11 and 12, 2012 in Chicago, IL, USA on the campus of the &lt;a href=&#34;http://www.uic.edu/&#34;&gt;University of Illinois at Chicago&lt;/a&gt;. The two-day conference will cover topics including portfolio management, time series analysis, advanced risk tools, high-performance computing, market microstructure, and econometrics. All will be discussed within the context of using R as a primary tool for financial risk management, portfolio construction, and trading.&lt;/p&gt;
&lt;p&gt;Over the past three years, R/Finance has included attendees from around the world and featured keynote presentations from prominent academics and practitioners. We anticipate another exciting line-up for 2012 &amp;ndash; including keynote presentations from Blair Hull, Paul Gilbert, Rob McCulloch, and Simon Urbanek.&lt;/p&gt;
&lt;p&gt;We invite you to submit complete papers or one-page abstracts (in txt or pdf format) for consideration. Academic and practitioner proposals related to R are encouraged. We welcome submissions for full talks, abbreviated &amp;ldquo;lightning talks&amp;rdquo;, and for a limited number of (longer) pre-conference seminar sessions.&lt;/p&gt;
&lt;p&gt;Presenters are strongly encouraged to provide working R code to accompany the presentation/paper. Data sets should also be made public for the purposes of reproducibility (though we realize this may be limited due to contracts with data vendors). Preference may be given to presenters who have released R packages.&lt;/p&gt;
&lt;p&gt;Travel and accommodation grants may be available for selected presenters at the discretion of the committee. In addition, the conference will award prizes for best papers. To be eligible for a best paper award, a submission must be a full paper. Extended abstracts, even if a full paper by conference time, are not eligible for a best paper award.&lt;/p&gt;
&lt;p&gt;Please send submissions to: &lt;a href=&#34;mailto:committee@RinFinance.com&#34;&gt;committee at RinFinance.com&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The submission deadline is January 31, 2012. Submitters will be notified of acceptance via email by February 28, 2012. Notification of whether a presentation will be a long presentation or a lightning talk will also be made at that time.&lt;/p&gt;
&lt;p&gt;Additional details will be announced at this website as they become available. Information on previous year&amp;rsquo;s presenters and their presentations are also at the conference website R/Finance &lt;a href=&#34;http://www.rinfinance.com/RinFinance2009/presentations/&#34;&gt;2009&lt;/a&gt;, &lt;a href=&#34;http://www.rinfinance.com/RinFinance2010/agenda/&#34;&gt;2010&lt;/a&gt;, and &lt;a href=&#34;http://www.rinfinance.com/RinFinance2011/agenda/&#34;&gt;2011&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;For the program committee:&lt;br&gt;
    Gib Bassett, Peter Carl, Dirk Eddelbuettel, Brian Peterson,&lt;br&gt;
    Dale Rosenthal, Jeffrey Ryan, Joshua Ulrich&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Denver 10/1-10/5</title>
      <link>https://blog.fosstrading.com/2011/09/denver-101-105/</link>
      <pubDate>Tue, 27 Sep 2011 01:26:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2011/09/denver-101-105/</guid>
      <description>&lt;p&gt;I will be traveling to Denver from 10/1-10/5.  Drop me a line if you&amp;rsquo;re in the area and would like to meet for coffee / drinks.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>TTR_0.21-0 on CRAN</title>
      <link>https://blog.fosstrading.com/2011/09/ttr-0-21-0-on-cran/</link>
      <pubDate>Thu, 01 Sep 2011 13:10:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2011/09/ttr-0-21-0-on-cran/</guid>
      <description>&lt;p&gt;An updated version of &lt;a href=&#34;http://cran.r-project.org/web/packages/TTR/&#34;&gt;TTR&lt;/a&gt; is now on &lt;a href=&#34;http://cran.r-project.org/&#34;&gt;CRAN&lt;/a&gt;.  It contains some much-needed bug fixes (most notably to &lt;code&gt;stockSymbols()&lt;/code&gt;), some small changes, and a few new functions.  Note that the change to &lt;code&gt;wilderSum()&lt;/code&gt; will affect functions that use it (e.g. &lt;code&gt;ADX()&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;Here are the full contents of the CHANGES file:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;TTR version 0.21-0&lt;br&gt;
  Changes from version 0.20-2&lt;/p&gt;
&lt;p&gt;NEW FEATURES:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Added variable moving average function, &lt;code&gt;VMA()&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Added &lt;a href=&#34;http://braverock.com/brian/&#34;&gt;Brian Peterson&amp;rsquo;s&lt;/a&gt; price bands function, &lt;code&gt;PBands()&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Added &lt;a href=&#34;http://cssanalytics.wordpress.com/&#34;&gt;David Varadi&amp;rsquo;s&lt;/a&gt; &lt;code&gt;DVI()&lt;/code&gt; indicator, &lt;code&gt;DVI()&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;CHANGES:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Added &lt;code&gt;wilder&lt;/code&gt; and &lt;code&gt;ratio&lt;/code&gt; arguments to &lt;code&gt;DEMA()&lt;/code&gt;. Thanks to Matthew Fornari for the suggestion.&lt;/li&gt;
&lt;li&gt;Changed &lt;code&gt;wilderSum()&lt;/code&gt; to seed initial value with raw sum. This matches Wilder&amp;rsquo;s original calculations. Thanks to Mahesh Bp for the report.&lt;/li&gt;
&lt;li&gt;The &lt;code&gt;BBands()&lt;/code&gt; &lt;code&gt;sd&lt;/code&gt; calculation now uses the population instead of sample statistic. This is consistent with Bollinger Band literature. Thanks to &lt;a href=&#34;http://www.lemnica.com/&#34;&gt;Jeff Ryan&lt;/a&gt; for the patch.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;BUG FIXES:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Fixed &lt;code&gt;stockSymbols()&lt;/code&gt; for &lt;a href=&#34;http://nasdaq.com/&#34;&gt;nasdaq.com&lt;/a&gt; changes.&lt;/li&gt;
&lt;li&gt;Fixed &lt;code&gt;ZLEMA()&lt;/code&gt; default ratio by changing it from &lt;code&gt;2/(n-1)&lt;/code&gt; to &lt;code&gt;2/(n+1)&lt;/code&gt;. This makes it consistent with &lt;code&gt;EMA()&lt;/code&gt;. Thanks to &lt;a href=&#34;http://dirk.eddelbuettel.com/&#34;&gt;Dirk Eddelbuettel&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Corrected close-to-close volatility. Thanks to James Toll for the report.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;adjRatios()&lt;/code&gt; failed (spectacularly) if there were missing close prices. Thanks to Garrett See for the report.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;div class=&#34;container&#34; role=&#34;main&#34;&gt;
  &lt;div class=&#34;row&#34;&gt;
    &lt;hr&gt;
    &lt;p&gt;If you love using my open-source work (e.g. &lt;a href=&#34;https://cran.r-project.org/package=quantmod&#34;&gt;quantmod&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=TTR&#34;&gt;TTR&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=xts&#34;&gt;xts&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=IBrokers&#34;&gt;IBrokers&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=microbenchmark&#34;&gt;microbenchmark&lt;/a&gt;, etc.), you can give back by &lt;a href=&#34;https://github.com/sponsors/joshuaulrich/&#34;&gt;sponsoring me on GitHub&lt;/a&gt;. I truly appreciate anything you&amp;rsquo;re willing and able to give!&lt;/p&gt;

    &lt;p&gt;I look forward to your questions and feedback! If you have a question, please ask on &lt;a href=&#34;http://stackoverflow.com/&#34;&gt;Stack Overflow&lt;/a&gt; and use the &lt;a href=&#34;http://stackoverflow.com/questions/tagged/r&#34;&gt;[r]&lt;/a&gt; and &lt;a href=&#34;http://stackoverflow.com/questions/tagged/ttr&#34;&gt;[ttr]&lt;/a&gt; tags.  Or you can send an email to the &lt;a href=&#34;https://stat.ethz.ch/mailman/listinfo/r-sig-finance&#34;&gt;R-SIG-Finance&lt;/a&gt; mailing list (you must subscribe to post). Open an &lt;a href=&#34;https://github.com/joshuaulrich/ttr/issues&#34;&gt;issue on GitHub&lt;/a&gt; if you find a bug or want to request a feature. Please &lt;a href=&#34;https://github.com/joshuaulrich/ttr/blob/master/.github/CONTRIBUTING.md&#34;&gt;read the contributing guide&lt;/a&gt; first! It will help save time for both of us. ;-)&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;

</description>
    </item>
    
    <item>
      <title>Tactical asset allocation using quantstrat</title>
      <link>https://blog.fosstrading.com/2011/08/tactical-asset-allocation-using/</link>
      <pubDate>Tue, 23 Aug 2011 20:55:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2011/08/tactical-asset-allocation-using/</guid>
      <description>&lt;p&gt;As promised in the &lt;a href=&#34;http://blog.fosstrading.com/2011/08/introduction-to-quantstrat.html&#34;&gt;introduction to quantstrat&lt;/a&gt;, here is an example strategy.  I thought I&amp;rsquo;d start with the obligatory tactical asset allocation (TAA) strategy.  This post will replicate the strategy in the post, &lt;a href=&#34;http://blog.fosstrading.com/2009/11/tactical-asset-allocation-using-blotter.html&#34;&gt;tactical asset allocation using blotter&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The &amp;ldquo;faber&amp;rdquo; demo in the quanstrat package contains a TAA strategy but it uses a slightly different approach than the code we&amp;rsquo;re trying to replicate.  There are two major differences:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The blotter TAA code initiates a position at the first observation where the close is above the SMA.  The demo only initiates a position when the close &lt;em&gt;crosses&lt;/em&gt; the SMA to the upside.&lt;/p&gt;
&lt;p&gt;For example, assume the close is above the SMA at the beginning of the sample.  The demo has to wait for the close to drop below the SMA and then cross above it before taking a position; the blotter TAA code initiates a position on the first observation.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The blotter TAA code calculates order size based on total account equity (as stored in the &lt;code&gt;UnitSize&lt;/code&gt; object).  The demo always uses an order size of 1,000 shares, regardless of total account value (in case you&amp;rsquo;re wondering, yes, capital/equity-aware order sizing is on the to-do list).&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;We need to make a few changes to the &lt;code&gt;demo(faber)&lt;/code&gt; code to make it work more like the blotter TAA post.  First, we change the &lt;code&gt;add.signal()&lt;/code&gt; calls to use &lt;code&gt;sigCrossover()&lt;/code&gt; instead of &lt;code&gt;sigComparison()&lt;/code&gt;.  This allows us to create an order on the first observation, rather than wait for a crossover.&lt;/p&gt;
&lt;p&gt;Next, we need to change the first call to &lt;code&gt;add.rule()&lt;/code&gt; (the entry rule).  &lt;code&gt;sigComparison()&lt;/code&gt; will be &lt;code&gt;TRUE&lt;/code&gt; for every period where the close is above the SMA and we don&amp;rsquo;t want to buy 1000 shares every period, so we need to tell &lt;code&gt;ruleSignal()&lt;/code&gt; to use the max position order sizing function.  We do this by adding &lt;code&gt;osFUN=osMaxPos&lt;/code&gt; to the list of arguments passed to &lt;code&gt;ruleSignal()&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Finally, we need to set the position limits for each instrument.  We do this via two calls to &lt;code&gt;addPosLimit()&lt;/code&gt; (one for each symbol) and we set the maximum position to 1000 shares and the minimum position to 0 shares.&lt;/p&gt;
&lt;p&gt;The modified code is below and even includes some simple evaluation of the results at no extra charge.  The &lt;code&gt;tradeStats()&lt;/code&gt; function has a ton more columns; I&amp;rsquo;ve only selected a few to make the output more readable.  Feel free to tinker.&lt;/p&gt;
&lt;p&gt;NOTE: I wrote this code using the latest quantmod, xts, and zoo from CRAN; and the latest blotter, FinancialInstrument, and quantstrat from R-Forge.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# This code is a slight modification of the quantstrat &amp;#34;faber&amp;#34; demo, intended to replicate   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# http://blog.fosstrading.com/2009/11/tactical-asset-allocation-using-blotter.html   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# Uncomment the line below to install the latest packages on R-Forge:  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#install.packages(c(&amp;#34;quantstrat&amp;#34;,&amp;#34;blotter&amp;#34;,&amp;#34;FinancialInstrument&amp;#34;), repos=&amp;#34;http://r-forge.r-project.org&amp;#34;)&lt;/span&gt;

&lt;span class=&#34;nf&#34;&gt;require&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;quantstrat&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;require&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;PerformanceAnalytics&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Set initial values&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;initDate&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;2002-07-31&amp;#34;&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;endDate&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;2009-10-31&amp;#34;&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;initEq&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;100000&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Pull Yahoo Finance data&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;symbols&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;IEF&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;SPY&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;getSymbols&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;symbols&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;initDate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;to&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;endDate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;index.class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;POSIXt&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;POSIXct&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# adjust for splits/dividends (comment to replicate blotter example)&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#IEF &amp;lt;- adjustOHLC(IEF, use.Adjusted=TRUE)&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#SPY &amp;lt;- adjustOHLC(SPY, use.Adjusted=TRUE)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# convert to monthly&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;IEF&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;to.monthly&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;IEF&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;indexAt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;endof&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;SPY&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;to.monthly&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;SPY&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;indexAt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;endof&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Set up instruments with FinancialInstruments package&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;currency&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;USD&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;symbol&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;symbols&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;nf&#34;&gt;stock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;symbol&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;currency&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;USD&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;multiplier&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Delete portfolio, account, and order book if they already exist&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;suppressWarnings&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;rm&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;account.faber&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;portfolio.faber&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pos&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;.blotter&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;suppressWarnings&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;rm&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;order_book.faber&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pos&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;.strategy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Initialize portfolio and account&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;initPortf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;faber&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;symbols&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;symbols&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;initDate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;initDate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;initAcct&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;faber&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;portfolios&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;faber&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;initDate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;initDate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;initEq&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;initEq&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;initOrders&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;portfolio&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;faber&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;initDate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;initDate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Initialize a strategy object&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;stratFaber&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;strategy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;faber&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Add the 10-month SMA indicator&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;stratFaber&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;add.indicator&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;strategy&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stratFaber&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;SMA&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;arguments&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;list&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;quote&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Cl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mktdata&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;label&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;SMA10&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# There are two signals:&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# The first is when monthly price crosses over the 10-month SMA&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;stratFaber&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;add.signal&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stratFaber&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;sigComparison&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;arguments&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;list&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;columns&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Close&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;SMA10&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;relationship&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;gte&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;label&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Cl.gt.SMA&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# The second is when the monthly price crosses under the 10-month SMA&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;stratFaber&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;add.signal&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stratFaber&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;sigComparison&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;arguments&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;list&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;columns&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Close&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;SMA10&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;relationship&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;lt&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;label&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Cl.lt.SMA&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# There are two rules:&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# The first is to buy when the price crosses above the SMA&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;stratFaber&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;add.rule&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stratFaber&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;ruleSignal&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;arguments&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;list&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sigcol&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Cl.gt.SMA&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sigval&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;TRUE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;orderqty&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1000&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ordertype&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;market&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;orderside&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;long&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pricemethod&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;market&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;TxnFees&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;osFUN&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;osMaxPos&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;enter&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;path.dep&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;TRUE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# The second is to sell when the price crosses below the SMA&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;stratFaber&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;add.rule&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stratFaber&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;ruleSignal&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;arguments&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;list&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sigcol&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Cl.lt.SMA&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sigval&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;TRUE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;orderqty&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;all&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ordertype&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;market&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;orderside&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;long&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pricemethod&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;market&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;TxnFees&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;exit&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;path.dep&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;TRUE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Set position limits so we don&amp;#39;t add to the position every month Close &amp;gt; SMA10&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;addPosLimit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;faber&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;SPY&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;timestamp&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;initDate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;maxpos&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1000&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;minpos&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;addPosLimit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;faber&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;IEF&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;timestamp&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;initDate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;maxpos&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1000&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;minpos&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Process the indicators and generate trades&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;out&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;try&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;applyStrategy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;strategy&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stratFaber&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;portfolios&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;faber&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;updatePortf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;faber&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Evaluate results&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;portRet&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;PortfReturns&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;faber&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;portRet&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Total&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;rowSums&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;portRet&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;na.rm&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;TRUE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;charts.PerformanceSummary&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;portRet&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Total&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;tradeStats&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;faber&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Symbol&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Num.Trades&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Net.Trading.PL&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Max.Drawdown&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>Introduction to quantstrat</title>
      <link>https://blog.fosstrading.com/2011/08/introduction-to-quantstrat/</link>
      <pubDate>Fri, 12 Aug 2011 06:48:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2011/08/introduction-to-quantstrat/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;http://r-forge.r-project.org/projects/blotter/&#34;&gt;quantstrat&lt;/a&gt; provides a generic infrastructure to model and backtest signal-based quantitative strategies.  It is a high-level abstraction layer (built on xts, FinancialInstrument, blotter, etc.) that allows you to build and test strategies in very few lines of code.  quantstrat is still under heavy development but is being used every day on real portfolios.  We encourage you to send contributions and test cases to the &lt;a href=&#34;http://r-forge.r-project.org/forum/?group_id=316&#34;&gt;project forums&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;This post is a joint effort between me and &lt;a href=&#34;http://braverock.com/brian/&#34;&gt;Brian Peterson&lt;/a&gt;.  It will describe the underlying philosophy of quantstrat and how quantstrat implements that philosophy.  You may have seen some of this in Brian&amp;rsquo;s &lt;a href=&#34;http://www.rinfinance.com/agenda/2011/BrianPeterson.pdf&#34;&gt;Quantitative Strategy Development in R&lt;/a&gt; lightning talk at &lt;a href=&#34;http://www.rinfinance.com/&#34;&gt;R/Finance 2011&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&#34;generic-signal-based-strategy-modeling&#34;&gt;Generic Signal-Based Strategy Modeling&lt;/h3&gt;
&lt;p&gt;A signal-based strategy model first generates indicators.  Indicators are quantitative values derived from market data (e.g. moving averages, RSI, volatility bands, channels, momentum, etc.).  Indicators should be applied to market data in a vectorized (for fast backtesting) or streaming (for live execution) fashion, and are assumed to be path-independent (i.e. they do not depend on account / portfolio characteristics, current positions, or trades).&lt;/p&gt;
&lt;p&gt;The interaction between indicators and market data are used to generate signals (e.g. crossovers, thresholds, multiples, etc.).  These signals are points in time at which you &lt;em&gt;may&lt;/em&gt; want to take some action, even though you may not be able to.  Like indicators, signals may be applied in a vectorized or streaming fashion, and are assumed to be path-independent.&lt;/p&gt;
&lt;p&gt;Rules use market data, indicators, signals, and current account / portfolio characteristics to generate orders.  Notice that rules about position sizing, fill simulation, order generation / management, etc. are separate from the indicator and signal generation process.  Unlike indicators and signals, rules are generally evaluated in a path-dependent fashion (path-independent rules are supported but are rare in real life) and are aware of all prior market data and current positions at the time of evaluation.  Rules may either generate new or modify existing orders (e.g. risk management, fill, rebalance, entry, exit).&lt;/p&gt;
&lt;h3 id=&#34;how-quantstrat-models-strategies&#34;&gt;How quantstrat Models Strategies&lt;/h3&gt;
&lt;p&gt;quantstrat uses FinancialInstrument to specify instruments (including their currencies) and uses blotter to keep track of transactions, valuations, and P&amp;amp;L across portfolios and accounts.&lt;/p&gt;
&lt;p&gt;Indicators are often standard technical analysis functions like those found in TTR; and signals are often specified by the quantstrat sig* functions (i.e. &lt;code&gt;sigComparison()&lt;/code&gt;, &lt;code&gt;sigCrossover()&lt;/code&gt;, &lt;code&gt;sigFormula()&lt;/code&gt;, &lt;code&gt;sigPeak()&lt;/code&gt;, &lt;code&gt;sigThreshold()&lt;/code&gt;).  Rules are typically specified with the quantstrat &lt;code&gt;ruleSignal()&lt;/code&gt; function.&lt;/p&gt;
&lt;p&gt;The functions used to specify indicators, signals, and rules are not limited to those mentioned previously.  The name parameter to &lt;code&gt;add.indicator()&lt;/code&gt;, &lt;code&gt;add.signal()&lt;/code&gt;, and &lt;code&gt;add.rule()&lt;/code&gt; can be &lt;em&gt;any&lt;/em&gt; R function.  Because the supporting toolchain is built using xts objects, custom functions will integrate most easily if they return xts objects.&lt;/p&gt;
&lt;p&gt;The strategy model is created in layers and makes use of delayed execution.  This means strategies can be applied&amp;ndash;unmodified&amp;ndash;to several different portfolios.  Before execution, quantstrat strategy objects do not know what instruments they will be applied to or what parameters will be passed to them.&lt;/p&gt;
&lt;p&gt;For example, indicator parameters such as moving average periods or thresholds are likely to affect strategy performance.  Default values for parameters may (optionally) be set in the strategy object, or set at call-time via the parameters argument of &lt;code&gt;applyStrategy()&lt;/code&gt; (parameters is a named list, used like the arguments lists).&lt;/p&gt;
&lt;p&gt;quantstrat models &lt;em&gt;orders&lt;/em&gt;, which may or may not become transactions.  This provides a lot of extra ability to evaluate how the strategy is actually working, not working, or could be improved.  For example, performance strategies are often affected by how often resting limit orders are changed / replaced / canceled.  An order book allows the quantitative strategist to examine market conditions at the time these decisions are made. Also, the order history allows for easy computation of things that are important for many strategies, like order-to-fill ratios.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;What&amp;rsquo;s next?&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Examples!  You can run some demos while you wait:&lt;br&gt;
  &lt;code&gt;demo(package=&amp;quot;quantstrat&amp;quot;)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Strategy Evaluation&lt;/li&gt;
&lt;li&gt;Parameter Evaluation&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Creating Financial Instrument metadata in R</title>
      <link>https://blog.fosstrading.com/2011/07/creating-financial-instrument-metadata/</link>
      <pubDate>Wed, 27 Jul 2011 22:16:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2011/07/creating-financial-instrument-metadata/</guid>
      <description>&lt;p&gt;This is a guest post by &lt;a href=&#34;https://quantstrattrader.wordpress.com/about/&#34;&gt;Ilya Kipnis&lt;/a&gt;. He blogs at &lt;a href=&#34;https://quantstrattrader.wordpress.com&#34;&gt;QuantStrat TradeR&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;When trading stocks in a single currency, instrument &lt;a href=&#34;http://en.wikipedia.org/wiki/Metadata&#34;&gt;metadata&lt;/a&gt; can be safely ignored because the multiplier is 1 and the currencies are all the same.  When doing analysis on fixed income products, options, futures, or other complex derivative instruments, the data defining the properties of these instruments becomes critical to tasks like accounting for value of trades, or comparing notional value between more than one instrument. The &lt;a href=&#34;http://r-forge.r-project.org/R/?group_id=316&#34;&gt;FinancialInstrument&lt;/a&gt; package provides a construct for storing metadata for tradeable contracts (referred to as instruments, e.g. stocks, futures, options, etc.) and their root representations.  It can be used to create any asset class and complex derivatives, across multiple currencies. &lt;/p&gt;
&lt;p&gt;In &lt;a href=&#34;http://blog.fosstrading.com/2009/11/tactical-asset-allocation-using-blotter.html&#34;&gt;tactical asset allocation using blotter&lt;/a&gt;, Joshua Ulrich used FinancialInstrument (blotter depends on it) to create a stock portfolio.  FinancialInstrument is also a required dependency of the quantstrat quantitative strategy framework in R (quantstrat will be covered in a later post).&lt;/p&gt;
&lt;p&gt;Creating a list of historical symbols is a recurring challenge with historical data on derivative instruments.  These symbols tend to follow a deterministic pattern and FinancialInstrument provides utility functions to create the symbols traded over specific periods of time. These symbols could then be used to request historical data from a data vendor or to construct instrument objects in R.&lt;/p&gt;
&lt;p&gt;The simplest function for generating a series of symbols is &lt;code&gt;build_series_symbols()&lt;/code&gt;.  Let&amp;rsquo;s look at it with a small example using crude oil (CL) and STOXX (STXE) futures:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# install.packages(&amp;#34;FinancialInstrument&amp;#34;, repos=&amp;#34;http://R-Forge.R-project.org&amp;#34;)  &lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;require&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;FinancialInstrument&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
&lt;span class=&#34;n&#34;&gt;Data&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;data.frame&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;primary_id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;CL&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;month_cycle&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;F,G,H,J,K,M,N,Q,U,V,X,Z&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
&lt;span class=&#34;n&#34;&gt;Data&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;rbind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;data.frame&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;primary_id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;STXE&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;month_cycle&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;H,M,U,Z&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;  
&lt;span class=&#34;n&#34;&gt;Data&lt;/span&gt;  
&lt;span class=&#34;c1&#34;&gt;##   primary_id               month_cycle  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 1         CL   F,G,H,J,K,M,N,Q,U,V,X,Z  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## 2       STXE                   H,M,U,Z  &lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The &lt;code&gt;Data&lt;/code&gt; object contains two columns.  The &lt;code&gt;primary_id&lt;/code&gt; is the root contract that identifies the instrument, and the &lt;code&gt;month_cycle&lt;/code&gt; defines the months the contracts trade in (e.g. &amp;ldquo;H,M,U,Z&amp;rdquo; for Mar/Jun/Sep/Dec).&lt;/p&gt;
&lt;p&gt;&lt;code&gt;build_series_symbols()&lt;/code&gt; only needs &lt;code&gt;Data&lt;/code&gt; and &lt;code&gt;yearlist&lt;/code&gt;. &lt;code&gt;yearlist&lt;/code&gt; is the suffix for expiration years and 0, 1, 2 represent 2010, 2011, 2012 in this example.  &lt;code&gt;build_series_symbols()&lt;/code&gt; returns a vector of series symbols that we could use to request data or create &lt;code&gt;future_series&lt;/code&gt; instruments.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;nf&#34;&gt;build_series_symbols&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;yearlist&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;  
&lt;span class=&#34;c1&#34;&gt;## [1] &amp;#34;CLF0&amp;#34;   &amp;#34;CLG0&amp;#34;   &amp;#34;CLH0&amp;#34;   &amp;#34;CLJ0&amp;#34;   &amp;#34;CLK0&amp;#34;   &amp;#34;CLM0&amp;#34;   &amp;#34;CLN0&amp;#34;   &amp;#34;CLQ0&amp;#34;   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## [9] &amp;#34;CLU0&amp;#34;   &amp;#34;CLV0&amp;#34;   &amp;#34;CLX0&amp;#34;   &amp;#34;CLZ0&amp;#34;   &amp;#34;STXEH0&amp;#34; &amp;#34;STXEM0&amp;#34; &amp;#34;STXEU0&amp;#34; &amp;#34;STXEZ0&amp;#34;  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## [17] &amp;#34;CLF1&amp;#34;   &amp;#34;CLG1&amp;#34;   &amp;#34;CLH1&amp;#34;   &amp;#34;CLJ1&amp;#34;   &amp;#34;CLK1&amp;#34;   &amp;#34;CLM1&amp;#34;   &amp;#34;CLN1&amp;#34;   &amp;#34;CLQ1&amp;#34;   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## [25] &amp;#34;CLU1&amp;#34;   &amp;#34;CLV1&amp;#34;   &amp;#34;CLX1&amp;#34;   &amp;#34;CLZ1&amp;#34;   &amp;#34;STXEH1&amp;#34; &amp;#34;STXEM1&amp;#34; &amp;#34;STXEU1&amp;#34; &amp;#34;STXEZ1&amp;#34;  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## [33] &amp;#34;CLF2&amp;#34;   &amp;#34;CLG2&amp;#34;   &amp;#34;CLH2&amp;#34;   &amp;#34;CLJ2&amp;#34;   &amp;#34;CLK2&amp;#34;   &amp;#34;CLM2&amp;#34;   &amp;#34;CLN2&amp;#34;   &amp;#34;CLQ2&amp;#34;   &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## [41] &amp;#34;CLU2&amp;#34;   &amp;#34;CLV2&amp;#34;   &amp;#34;CLX2&amp;#34;   &amp;#34;CLZ2&amp;#34;   &amp;#34;STXEH2&amp;#34; &amp;#34;STXEM2&amp;#34; &amp;#34;STXEU2&amp;#34; &amp;#34;STXEZ2&amp;#34;  &lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;A more complicated task is to create symbols for exchange guaranteed calendar spreads.  The &lt;code&gt;build_spread_symbols()&lt;/code&gt; function creates a vector of symbols for spreads of securities (currently coded for futures calendar spreads but can be extended and generalized) in a very shorthand notation.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;build_spread_symbols()&lt;/code&gt; accepts instrument specifications via either a file path or (preferably) a data frame (using the file or data arguments, respectively). Output can be assigned to an object or written to a file using the optional &lt;code&gt;outputfile&lt;/code&gt; argument.  The default starting date is the current date, but the user can manually set a starting date (e.g. historical dates for backtesting, and future dates to create lists of instruments to be traded in the future).&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# read in data that would be suitable for load.instruments on root contracts  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# series_data.csv can be downloaded here:&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# https://docs.google.com/leaf?id=0B8wl4QBejPGiMjI2NTQzZjEtZDRkNC00MDRjLWI2ZDgtMzhjOTM5ZGFkYmFk&amp;amp;hl=en_US)&amp;#34;&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;Data&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;read.csv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;series_data.csv&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;stringsAsFactors&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;FALSE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
&lt;span class=&#34;c1&#34;&gt;# set the type to guaranteed_spread  &lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;Data&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;guaranteed_spread&amp;#34;&lt;/span&gt;  
&lt;span class=&#34;c1&#34;&gt;# call build_spread_symbols  &lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;output&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;build_spread_symbols&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Data[6&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;7&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;start_date&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;2010-01-01&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The critical fields in the data (CSV or data frame) are the &lt;code&gt;primary_id&lt;/code&gt;, the type (e.g. future, calendar spread, inter-commodity spread, etc.), the &lt;code&gt;month_cycle&lt;/code&gt;, and the &lt;code&gt;active_months&lt;/code&gt; (how many contracts to display).  For instance, an &lt;code&gt;active_months&lt;/code&gt; value of 12 on a contract that trades quarterly (&amp;ldquo;H,M,U,Z&amp;rdquo;) would create front month contracts for the next 3 years.  An &lt;code&gt;active_months&lt;/code&gt; value of 6 on this same quarterly contract would produce 1.5 years.  On a contract that trades 12 months a year (&amp;ldquo;F,G,H,J,K,M,N,Q,U,V,X,Z&amp;rdquo;), an &lt;code&gt;active_months&lt;/code&gt; value of 12 would produce 1 year of contracts, and a value of 6 would only produce half a year.&lt;/p&gt;
&lt;p&gt;Lastly, the &lt;code&gt;contracts_ahead&lt;/code&gt; field specifies the month spread on calendar spread type securities.  Note that these are &lt;strong&gt;contracts&lt;/strong&gt; ahead and not months ahead.  For example, if you consider a contract trading &amp;ldquo;H,M,U,Z&amp;rdquo; vs. a contract trading &amp;ldquo;F,G,H,J,K,M,N,Q,U,V,X,Z&amp;rdquo;, a value of 1 for the &amp;ldquo;H,M,U,Z&amp;rdquo; contract would create an H1-M1 spread or the like, while a value of 1 with the 12-month traded contract would create an F1-G1 spread.&lt;/p&gt;
&lt;p&gt;The rest of the columns simply get carried over, for further use in other programs/scripts/procedures, such as the &lt;code&gt;load.instruments()&lt;/code&gt; function.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;About the Author: Ilya Kipnis holds a Master&amp;rsquo;s degree in Statistics from Rutgers, and uses and contributes to the R packages blotter, FinancialInstrument, and quantstrat. Ilya may be contacted for consulting and full-time opportunities in finance at &lt;a href=&#34;mailto:ilya.kipnis@gmail.com&#34;&gt;ilya.kipnis@gmail.com&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>The R Journal, Volume 3/1</title>
      <link>https://blog.fosstrading.com/2011/06/r-journal-volume-31/</link>
      <pubDate>Thu, 23 Jun 2011 21:00:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2011/06/r-journal-volume-31/</guid>
      <description>&lt;p&gt;The &lt;a href=&#34;http://journal.r-project.org/archive/2011-1/2011-1_index.html&#34;&gt;most recent issue&lt;/a&gt; of &lt;em&gt;&lt;a href=&#34;http://journal.r-project.org/&#34;&gt;The R Journal&lt;/a&gt;&lt;/em&gt; was recently published.  If you&amp;rsquo;re not a regular reader, you should at least check out the following three contributed articles (listed in order of appearance).&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://journal.r-project.org/archive/2011-1/RJournal_2011-1_Chalabi%7Eet%7Eal.pdf&#34;&gt;Rmetrics - timeDate Package&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://journal.r-project.org/archive/2011-1/RJournal_2011-1_Ardia%7Eet%7Eal.pdf&#34;&gt;Differential Evolution with DEoptim&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://journal.r-project.org/archive/2011-1/RJournal_2011-1_Kane%7Eet%7Eal.pdf&#34;&gt;Analyzing an Electronic Limit Order Book&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>R/Finance 2011 Presentations are online</title>
      <link>https://blog.fosstrading.com/2011/05/rfinance-2011-presentations-are-online/</link>
      <pubDate>Sun, 29 May 2011 18:00:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2011/05/rfinance-2011-presentations-are-online/</guid>
      <description>&lt;p&gt;For those of you who don&amp;rsquo;t subscribe to the &lt;a href=&#34;https://stat.ethz.ch/mailman/listinfo/r-sig-finance&#34;&gt;R-SIG-Finance&lt;/a&gt; mailing list:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;You really should &lt;a href=&#34;https://stat.ethz.ch/mailman/listinfo/r-sig-finance&#34;&gt;subscribe&lt;/a&gt; ;-)&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://dirk.eddelbuettel.com/&#34;&gt;Dirk Eddelbuettel&lt;/a&gt; &lt;a href=&#34;https://stat.ethz.ch/pipermail/r-sig-finance/2011q2/007986.html&#34;&gt;announced&lt;/a&gt; the R/Finance 2011 presentations are now available.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;I&amp;rsquo;ve included the entire announcement (with some hyperlinks) below.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The organizing committee for the R/Finance 2011 conference is pleased to announce the availability of presentation slides from the 3rd annual R/Finance conference.  This year&amp;rsquo;s two-day conference once again attracted over 200 participants from across the globe. Academics, students and industry professionals enjoyed almost 30 talks covering trading, optimization, risk management and more &amp;mdash; all using R!&lt;/p&gt;
&lt;p&gt;The majority of these presentations are now available for download at:&lt;/p&gt;
&lt;p&gt;    &lt;a href=&#34;http://www.rinfinance.com/agenda/&#34;&gt;http://www.RinFinance.com/agenda/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;This year we began offering prizes for the best paper submissions.  The 2011 recipients are Robert Gramacy (University of Chicago) and David Matteson (Cornell University) who each won USD 1000.  Also new was a graduate student travel award: Mikko Niemenmaa (Aalto University) and Clément Dunand-Châtellet (École Polytechnique) each received USD 500.&lt;/p&gt;
&lt;p&gt;With this, the organizing committee would like to thank our lead conference sponsors, the &lt;a href=&#34;http://www.uic.edu/cba/icfd/&#34;&gt;International Center for Futures and Derivatives&lt;/a&gt; at &lt;a href=&#34;http://www.uic.edu/&#34;&gt;UIC&lt;/a&gt; and &lt;a href=&#34;http://www.revolutionanalytics.com/&#34;&gt;Revolution Analytics&lt;/a&gt;, as well as our conference sponsors &lt;a href=&#34;http://www.onetick.com/web1/index.php&#34;&gt;OneMarketData&lt;/a&gt;, &lt;a href=&#34;http://www.rstudio.org/&#34;&gt;RStudio&lt;/a&gt; and &lt;a href=&#34;http://www.lemnica.com/&#34;&gt;lemnica&lt;/a&gt; for their continued support.&lt;/p&gt;
&lt;p&gt;The organising committee would also like to thank all of the presenters and participants for making R/Finance 2011 so successful.  We look forward to seeing you in 2012, with the prospective dates of May 17 - 19 to be confirmed.&lt;/p&gt;
&lt;p&gt;For the organizing committee,  &lt;/p&gt;
&lt;p&gt;    Gib Bassett, Peter Carl, Dirk Eddelbuettel, Brian Peterson,&lt;br&gt;
    Dale Rosenthal, Jeffrey Ryan, Joshua Ulrich&lt;/p&gt;
&lt;/blockquote&gt;
</description>
    </item>
    
    <item>
      <title>Timely Portfolio: LSPM Examples</title>
      <link>https://blog.fosstrading.com/2011/05/timely-portfolio-lspm-examples/</link>
      <pubDate>Sun, 01 May 2011 13:38:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2011/05/timely-portfolio-lspm-examples/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;http://timelyportfolio.blogspot.com/&#34;&gt;Timely Portfolio&lt;/a&gt; has been doing some interesting work with &lt;a href=&#34;http://www.ralphvince.com/&#34;&gt;Ralph Vince&amp;rsquo;s&lt;/a&gt; &lt;a href=&#34;http://www.amazon.com/gp/product/0470455950?ie=UTF8&amp;amp;tag=fosstrading-20&amp;amp;linkCode=as2&amp;amp;camp=1789&amp;amp;creative=9325&amp;amp;creativeASIN=0470455950&#34;&gt;Leverage Space Model&lt;/a&gt; via the &lt;a href=&#34;http://r-forge.r-project.org/projects/lspm&#34;&gt;LSPM&lt;/a&gt; &lt;a href=&#34;https://www.r-project.org/&#34;&gt;R&lt;/a&gt; package. Here&amp;rsquo;s a short list of his most recent LSPM-related posts:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;http://timelyportfolio.blogspot.com/2011/03/leverage-space-trading-model.html&#34;&gt;The Leverage Space Trading Model&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://timelyportfolio.blogspot.com/2011/04/bond-market-as-casino-game-part-1.html&#34;&gt;Bond Market as a Casino Game Part 1&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://timelyportfolio.blogspot.com/2011/04/bond-market-as-casino-game-part-2.html&#34;&gt;Bond Market as a Casino Game Part 2&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://timelyportfolio.blogspot.com/2011/04/slightly-different-use-of-ralph-vinces.html&#34;&gt;Slightly Different Use of Ralph Vince’s Leverage Space Trading Model&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://timelyportfolio.blogspot.com/2011/04/another-use-of-lspm-in-tactical.html&#34;&gt;Another Use of LSPM in Tactical Portfolio Allocation&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;I encourage those of you who are interested in LSPM and/or R to check out his blog.  I personally love how much code he shares!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Leverage Space Indexes Announced</title>
      <link>https://blog.fosstrading.com/2011/04/leverage-space-etfs-announced/</link>
      <pubDate>Tue, 26 Apr 2011 08:39:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2011/04/leverage-space-etfs-announced/</guid>
      <description>&lt;p&gt;PRESS RELEASE&lt;/p&gt;
&lt;h3 id=&#34;heading&#34;&gt;&lt;/h3&gt;
&lt;p&gt;The Leverage Space Portfolio (LSP) strategy seeks to maximize the probability of equity portfolio profitability by employing a risk-control process focused on capital preservation and drawdown management. Compared to a traditional buy-and-hold portfolio, an LSP-based portfolio aims for more consistent returns with lower risk.&lt;/p&gt;
&lt;p&gt;The indexes, scheduled to be launched in the second half of 2011, can serve as the basis of both passive and active investment funds, including exchange-traded funds, mutual funds, and institutional accounts, around the world.&lt;/p&gt;
&lt;p&gt;&amp;ldquo;We believe the marketplace will welcome our new family of indexes that applies this unique portfolio risk-management theory,&amp;rdquo; said Michael A. Petronella, President, Dow Jones Indexes.  &amp;ldquo;These innovative techniques aspire to change the paradigm of the professional investment management process while providing Dow Jones Indexes with an opportunity to expand our roster of risk-based indexes.&amp;rdquo;&lt;/p&gt;
&lt;p&gt;Dow Jones Indexes has fully automated all elements of the LSP strategy, allowing for universal, systematic, and transparent application of a rules-based strategy to equity portfolios of any size or composition.&lt;/p&gt;
&lt;p&gt;&amp;ldquo;The association with Dow Jones Indexes is, to us, a commercial validation on the highest order of our portfolio management ideas,&amp;rdquo; LSP Partners’ Mr. Vince said. &amp;ldquo;We&amp;rsquo;re extremely proud to collaborate with the world’s foremost index provider.&amp;rdquo;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Journalists may e-mail questions regarding this press release to &lt;a href=&#34;mailto:media@djindexes.com&#34;&gt;media@djindexes.com&lt;/a&gt; or contact Dow Jones Indexes press office:&lt;/strong&gt;&lt;br&gt;
&lt;strong&gt;New York:&lt;/strong&gt; +1-212-597-5720&lt;br&gt;
&lt;strong&gt;London:&lt;/strong&gt; +44-20-7796-7247&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;About Dow Jones Indexes&lt;/strong&gt;&lt;br&gt;
&lt;a href=&#34;http://www.djindexes.com/&#34;&gt;Dow Jones Indexes&lt;/a&gt; is a leading full-service index provider that develops, maintains and licenses indexes for use as benchmarks and as the basis of investment products. Best-known for the Dow Jones Industrial Average, Dow Jones Indexes offers more than 130,000 equity indexes as well as fixed-income and alternative indexes, including measures of hedge funds, commodities and real estate. Dow Jones Indexes employs clear, unbiased and systematic methodologies that are fully integrated within index families. Dow Jones Indexes is part of a joint venture company owned 90 percent by CME Group Inc. and 10 percent by Dow Jones &amp;amp; Company, Inc., a News Corporation company (NASDAQ: NWS, NWSA; ASX: NWS, NWSLV).&lt;/p&gt;
&lt;p&gt;&amp;ldquo;Dow Jones®,&amp;rdquo; &amp;ldquo;Dow Jones Indexes,&amp;rdquo; and all other index names listed above are service marks of Dow Jones Trademark Holdings LLC (&amp;ldquo;Dow Jones&amp;rdquo;), and have been licensed for use by CME Group Index Services LLC (&amp;ldquo;CME Indexes&amp;rdquo;).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;About LSP Partners&lt;/strong&gt;&lt;br&gt;
Ralph Vince and Richard Wilkie formed LSP Partners to evolve the concepts introduced in Mr.  Vince’s series of books on portfolio management following a breakthrough discovery in portfolio position sizing algorithms. A recognized authority on position sizing in trading, Mr. Vince has worked with institutional asset management companies, sovereign wealth funds and private traders for more than 30 years. He has written numerous books and professional papers on money management for trading, and introduced new statistical techniques that are in widespread use throughout the industry today. Mr. Vince also conducts portfolio riskmanagement workshops for institutional portfolio managers. For more information about LSP Partners, please see &lt;a href=&#34;http://draft.blogger.com/www.ralphvince.com&#34;&gt;www.ralphvince.com&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>RQuantLib Windows binary on CRAN</title>
      <link>https://blog.fosstrading.com/2011/04/rquantlib-windows-binary-on-cran/</link>
      <pubDate>Mon, 04 Apr 2011 11:47:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2011/04/rquantlib-windows-binary-on-cran/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;http://dirk.eddelbuettel.com/&#34;&gt;Dirk Eddelbuettel&lt;/a&gt; has recently released &lt;a href=&#34;http://dirk.eddelbuettel.com/blog/2011/04/04/#rquantlib_0.3.7&#34;&gt;RQuantLib-0.3.7&lt;/a&gt;, which contains the necessary QuantLib builds to allow the CRAN servers to build the Windows binary.&lt;/p&gt;
&lt;p&gt;This (thankfully) makes my post on &lt;a href=&#34;http://blog.fosstrading.com/2010/12/build-rquantlib-on-32-bit-windows.html&#34;&gt;how to build RQuantLib on 32-bit Windows&lt;/a&gt; unnecessary for casual users, but may be useful for those who want to develop RQuantLib on Windows.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>How to backtest a strategy in R</title>
      <link>https://blog.fosstrading.com/2011/03/how-to-backtest-strategy-in-r/</link>
      <pubDate>Sat, 26 Mar 2011 09:54:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2011/03/how-to-backtest-strategy-in-r/</guid>
      <description>&lt;p&gt;This is the third post in the &lt;a href=&#34;http://blog.fosstrading.com/2011/02/backtesting-in-excel-and-r.html&#34;&gt;Backtesting in Excel and R&lt;/a&gt; series and it will show how to backtest a simple strategy in R.  It will follow the 4 steps Damian outlined in his post on &lt;a href=&#34;http://blog.fosstrading.com/2011/03/how-to-backtest-strategy-in-excel.html&#34;&gt;how to backtest a simple strategy in Excel&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Step 1: Get the data&lt;/strong&gt;&lt;br&gt;
The &lt;code&gt;getSymbols&lt;/code&gt; function in &lt;a href=&#34;http://www.quantmod.com/&#34;&gt;quantmod&lt;/a&gt; makes this step easy if you can use daily data from &lt;a href=&#34;http://finance.yahoo.com/&#34;&gt;Yahoo Finance&lt;/a&gt;.  There are also &amp;ldquo;methods&amp;rdquo; (not in the strict sense) to pull data from other sources (FRED, Google, Oanda, R save files, databases, etc.).  You could also use them as a template to write a custom function for a particular vendor you use.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# run the command below if quantmod isn&amp;#39;t already installed&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# install.packages(&amp;#34;quantmod&amp;#34;)&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# use the quantmod package (loads TTR, xts, and zoo)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;require&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;quantmod&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# pull SPX data from Yahoo (getSymbols returns an xts object)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;getSymbols&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;^GSPC&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;Step 2: Create your indicator&lt;/strong&gt;&lt;br&gt;
The &lt;a href=&#34;http://cran.r-project.org/web/packages/TTR/&#34;&gt;TTR package&lt;/a&gt; contains a multitude of indicators.  The indicators are written to make it easy to &lt;a href=&#34;http://www.rinfinance.com/agenda/2010/JoshUlrich.pdf&#34;&gt;combine them in creative and unconventional ways&lt;/a&gt;.  Starting with revision 106 on R-forge, TTR has a &lt;a href=&#34;http://marketsci.wordpress.com/2010/07/27/css-analytics%E2%80%99-dvi-indicator-revealed/&#34;&gt;DVI indicator&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# calculate DVI indicator&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;dvi&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;DVI&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Cl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# Cl() extracts the close price column&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;Step 3: Construct your trading rule&lt;/strong&gt;&lt;br&gt;
Since this trading rule is simple&amp;ndash;we&amp;rsquo;re long 100% if the DVI is below 0.5 and short 100% otherwise&amp;ndash;it can be written in a single line.  More elaborate rules and/or position sizings can be done as well, but require more code (&lt;a href=&#34;http://blog.fosstrading.com/2009/05/rsi2-with-position-sizing.html&#34;&gt;RSI(2) with Position Sizing&lt;/a&gt; is an example of more complex position sizing rules).  Also notice that the signal vector is lagged, which avoids look-ahead bias.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# create signal: (long (short) if DVI is below (above) 0.5)&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# lag so yesterday&amp;#39;s signal is applied to today&amp;#39;s returns&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;sig&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Lag&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;ifelse&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dvi&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dvi&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0.5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;-1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;Step 4: The trading rules/equity curve&lt;/strong&gt;&lt;br&gt;
As in Damian&amp;rsquo;s example, the code below is a simplified approach that is frictionless and does not account for slippage.  The code below takes today&amp;rsquo;s percentage return and multiplies it by yesterday&amp;rsquo;s signal / position size (always +/- 100% in this example).  I also subset the system returns to match the results in the &lt;a href=&#34;http://dl.dropbox.com/u/17693/DVI%20long-short.xlsx&#34;&gt;Excel file&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# calculate signal-based returns&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;ret&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;ROC&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Cl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sig&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# subset returns to match data in Excel file&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;ret&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ret[&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;2009-06-02/2010-09-07&amp;#34;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;Step 5: Evaluate strategy performance&lt;/strong&gt;&lt;br&gt;
Damian mentioned the importance of evaluating your strategy.  Fortunately for R users, the &lt;a href=&#34;http://cran.r-project.org/web/packages/PerformanceAnalytics/&#34;&gt;PerformanceAnalytics package&lt;/a&gt; makes this easy.  With a few lines of code we can view the drawdowns, downside risks, and a performance summary.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# use the PerformanceAnalytics package&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# install.packages(&amp;#34;PerformanceAnalytics&amp;#34;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;require&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;PerformanceAnalytics&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# create table showing drawdown statistics&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;table.Drawdowns&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ret&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;top&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# create table of downside risk estimates&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;table.DownsideRisk&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ret&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# chart equity curve, daily performance, and drawdowns&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;charts.PerformanceSummary&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ret&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;That&amp;rsquo;s all there is to backtesting a simple strategy in R.  It wasn&amp;rsquo;t that intimidating, was it?  Please leave feedback if you&amp;rsquo;re moving your backtesting from Excel to R and there&amp;rsquo;s something you&amp;rsquo;re hung up on or you have an awesome tip you&amp;rsquo;d like to share.&lt;/p&gt;
&lt;p&gt;Here&amp;rsquo;s a succinct version of the code in the above post if you want to be able to copy / paste it all in one block:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;nf&#34;&gt;require&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;quantmod&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;require&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;PerformanceAnalytics&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Step 1: Get the data&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;getSymbols&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;^GSPC&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Step 2: Create your indicator&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;dvi&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;DVI&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Cl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Step 3: Construct your trading rule&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;sig&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Lag&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;ifelse&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dvi&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dvi&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0.5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;-1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Step 4: The trading rules/equity curve&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;ret&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;ROC&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Cl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sig&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;ret&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ret[&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;2009-06-02/2010-09-07&amp;#34;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;eq&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;exp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;cumsum&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ret&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;plot&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;eq&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Step 5: Evaluate strategy performance&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;table.Drawdowns&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ret&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;top&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;table.DownsideRisk&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ret&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;charts.PerformanceSummary&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ret&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>Risk-Opportunity Analysis: Houston</title>
      <link>https://blog.fosstrading.com/2011/03/risk-opportunity-analysis-houston/</link>
      <pubDate>Thu, 17 Mar 2011 11:25:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2011/03/risk-opportunity-analysis-houston/</guid>
      <description>&lt;p&gt;I will be attending &lt;a href=&#34;http://www.ralphvince.com/&#34;&gt;Ralph Vince&amp;rsquo;s&lt;/a&gt; risk-opportunity analysis workshop in Houston this weekend.  I&amp;rsquo;ll be in town Friday-Monday.  Drop me a note if you&amp;rsquo;re in the area and would like to meet for coffee / drinks.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>How to backtest a strategy in Excel</title>
      <link>https://blog.fosstrading.com/2011/03/how-to-backtest-strategy-in-excel/</link>
      <pubDate>Mon, 14 Mar 2011 20:57:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2011/03/how-to-backtest-strategy-in-excel/</guid>
      <description>&lt;p&gt;(This is a guest post by Damian from &lt;a href=&#34;http://skillanalytics.wordpress.com/&#34;&gt;Skill Analytics&lt;/a&gt; and &lt;a href=&#34;http://www.etfprophet.com/&#34;&gt;ETF Prophet&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;Let me start by saying that I’m not an expert in backtesting in Excel – there are a load of very smart bloggers out there that have, as I would say, “mad skillz” at working with Excel including (but not limited to) Michael Stokes over at &lt;a href=&#34;http://blog.marketsci.com/&#34;&gt;marketsci.com&lt;/a&gt;, Jeff Pietch over at &lt;a href=&#34;http://www.etfprophet.com/&#34;&gt;etfprophet.com&lt;/a&gt; and the folks (David and Corey) over at &lt;a href=&#34;http://cssanalytics.wordpress.com/&#34;&gt;cssanalytics.wordpress.com&lt;/a&gt;. All of these guys have been gracious enough, over the years, to share with me how to do backtests – so I am indebted to them. And I want to thank Josh here at FOSS Trading as well – because he’s been kind enough to help me in learning how to use R for testing.&lt;/p&gt;
&lt;p&gt;With all that in mind, I thought I’d walk through what I consider the four basic steps in producing a backtest in Excel. Note that the &lt;a href=&#34;http://dl.dropbox.com/u/17693/DVI%20long-short.xlsx&#34;&gt;core Excel file&lt;/a&gt; wasn&amp;rsquo;t created by me - it was created by Jared over at &lt;a href=&#34;http://www.condoroptions.com/&#34;&gt;CondorOptions&lt;/a&gt; (another must read if you&amp;rsquo;re not following him).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Step 1: Get the data&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The first step is to get your market data into Excel. There are two basic approaches to this – the first involves going to Yahoo Finance and downloading historical data directly as CSV and then loading it into Excel. This is nice, but does require a manual update of that data as you go forward – meaning, you’ll need to re-download that historical data and then copy and paste either the entire dataset or a subset to update your strategy.&lt;/p&gt;
&lt;p&gt;The second approach is to use code to go grab data automatically from Yahoo Finance. Plenty of people have written VBA for doing just this – I have not written it myself so I don’t feel comfortable republishing the code. A quick search on Google will provide some examples to work with. There are also 3rd party tools that make the job simple – I’d recommend &lt;a href=&#34;http://www.analyzerxl.com/&#34;&gt;AnalyzerXL&lt;/a&gt; as it provides the most flexibility and options.&lt;/p&gt;
&lt;p&gt;How you store this data in Excel is up to you – most people I know have a single sheet where they keep all the data, and then have a separate worksheet for the rest of system. For systems with a single instrument (such as the SPY), it’s not a problem to integrate the data and the system, but as the number of instruments goes up, you’ll want to have them on a separate worksheet to minimize scrolling and make it easy to update.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Step 2: Create your indicator&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Now that we’ve got the data, we can use that data to construct an indicator or indicators. In this example, Jared constructed the DVI indicator (originally created by David over as CSS Analytics). You’ll see that we used 5 different columns to create the indicator – each one taking part of the calculation. One nice thing about working with Excel is that it really makes you think about how an indicator is constructed. It can be far too simple, these days, to throw down and indicator without understanding how it actually works.&lt;/p&gt;
&lt;p&gt;The final indicator column, DVI, is a weighted sum of the DVI magnitude and DVI stretch columns. I’d also note that AnalyzerXL also contains a large number of indicators predefined to make backtesting easier, and there are other add-ons for Excel that provide similar functionality.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Step 3: Construct your trading rule&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Now that you have an indicator, you need to construct your trading rules. In this example (calculation is in the “Signal” column), our trading rule is simple – we’re long if DVI is below 0.5 and short if above. Obviously you could have more complex rules – a neutral state where you’re not long or short, or variable position sizing as opposed to just all-in long or short.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Step 4: The trading rules/equity curve&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;There are many different approaches here, but what you can see in this example is a simple way to do it. Assume a starting cash value of $10,000 and then increment or decrement that by whether or not we are long or short on the close of the prior day, and whether we were correct or not. In function form, we represent this by saying: if long, then multiple the prior day’s equity by the ratio of today’s close to yesterday’s close, otherwise multiple the prior day’s equity by ratio of yesterday’s close to today’s close. We can then, obviously, graph the results. Note also that we’re using cash here, but you could easily do raw percentages in place of a cash value.&lt;/p&gt;
&lt;p&gt;What’s missing here can be important for deciding whether to trade or not trade a system. First of all, the results here are frictionless – they assume there is no cost/commission for the trade. In high frequency swing systems like this one, the commissions could have a major impact on the viability of a given strategy.&lt;/p&gt;
&lt;p&gt;Second, we don’t have any statistics on the performance of the strategy – just a graph. Generally we want to know stats like CAGR and the Sharpe ratio to compare it with other strategies. We also don’t have monthly or yearly reporting. All of these things can be constructed in Excel with a bit of work – and again, AnalyzerXL provides a large number of reporting options as part of the package.&lt;/p&gt;
&lt;p&gt;That&amp;rsquo;s a basic overview of backtesting in Excel - hope that you all find it useful!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>R/Finance 2011 Registration Open</title>
      <link>https://blog.fosstrading.com/2011/03/rfinance-2011-registration-open/</link>
      <pubDate>Mon, 14 Mar 2011 16:17:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2011/03/rfinance-2011-registration-open/</guid>
      <description>&lt;p&gt;The registration for R/Finance 2011&amp;ndash;which will take place April 29 and 30 in Chicago&amp;ndash;is NOW OPEN!&lt;/p&gt;
&lt;p&gt;Building on the success of the two previous conferences in 2009 and 2010, we are expecting more than 250 attendees from around the world representing both industry and academia to join a record 30+ presentations covering all areas of finance with R.&lt;/p&gt;
&lt;p&gt;This year we are excited to have longer tutorial sessions and an optional full-day workshop on the Thursday before the conference. In addition, we have worked hard to extend the great networking opportunities on both days with longer breaks and more hallway time between sessions.&lt;/p&gt;
&lt;p&gt;New for 2011 is a special conference dinner that is held on Friday evening. Overlooking the river from the famed Chicago Mercantile Exchange, we have designed it to be a great way to continue the conversations from the first day, as well as offering a chance to dine and drink in Chicago style.&lt;/p&gt;
&lt;p&gt;More details of the agenda are available at:&lt;/p&gt;
&lt;p&gt; &lt;a href=&#34;http://www.rinfinance.com/&#34;&gt;http://www.RinFinance.com&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Registration can be directly accessed by going to&lt;/p&gt;
&lt;p&gt; &lt;a href=&#34;http://www.regonline.com/RinFinance2011&#34;&gt;http://www.regonline.com/RinFinance2011&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;On behalf of the committee and sponsors, we look forward to seeing you in Chicago!&lt;/p&gt;
&lt;p&gt; Gib Bassett, Peter Carl, Dirk Eddelbuettel, Brian Peterson, Dale Rosenthal, Jeffrey Ryan, Joshua Ulrich&lt;/p&gt;
&lt;p&gt;Sponsors:&lt;br&gt;
&lt;a href=&#34;http://www.uic.edu/cba/icfd/&#34;&gt;International Center for Futures and Derivatives at UIC&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;http://www.revolutionanalytics.com/&#34;&gt;Revolution Analytics&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.rstudio.org/&#34;&gt;RStudio&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;http://www.onetick.com/web1/&#34;&gt;One Market Data&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;http://www.lemnica.com/&#34;&gt;lemnica&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Moving from Excel to R</title>
      <link>https://blog.fosstrading.com/2011/03/moving-from-excel-to-r/</link>
      <pubDate>Sat, 05 Mar 2011 15:09:00 -0600</pubDate>
      
      <guid>https://blog.fosstrading.com/2011/03/moving-from-excel-to-r/</guid>
      <description>&lt;p&gt;This first post of the &lt;a href=&#34;http://blog.fosstrading.com/2011/02/backtesting-in-excel-and-r.html&#34;&gt;Backtesting in Excel and R&lt;/a&gt; series will provide some resources to help smooth the transition from the familiarity and comfort of Excel to the potentially strange and intimidating world of &lt;a href=&#34;http://www.r-project.org/&#34;&gt;R&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I made my voyage from Excel to R more than 5 years ago and learned mostly by trial and error (and reading the R manuals).  Most people don&amp;rsquo;t prefer my approach of &amp;ldquo;keep at it until you figure it out&amp;rdquo;, so I don&amp;rsquo;t have a lot of personal advice to share.  My main piece of advice is that the best way to learn R is to use it, so most of the resources below focus on &amp;ldquo;how-to&amp;rdquo; do certain things in R.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;GUIs&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;While R for Windows comes with a very basic GUI (I&amp;rsquo;m not familiar with the R for Mac OS X GUIs), most people will want and benefit from something more elaborate.  The GUIs below were taken from the &lt;a href=&#34;http://www.sciviews.org/_rgui/&#34;&gt;R GUI Projects page&lt;/a&gt; (visit the page for more information / alternatives) and I added the newcomer, RStudio:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://socserv.mcmaster.ca/jfox/Misc/Rcmdr/&#34;&gt;R Commander&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.sciviews.org/SciViews-R/index.html%3ESciViews-R%3C/a%3E%3C/li%3E%0A%3Cli%3E%3Ca%20href=&#34;&gt;Tinn-R&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://jgr.markushelbig.org/&#34;&gt;JGR&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.walware.de/goto/statet&#34;&gt;StatET&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.red-r.org/&#34;&gt;Red-R&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.rstudio.org/&#34;&gt;RStudio&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Blogs / Videos&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The &lt;a href=&#34;http://chartsgraphs.wordpress.com/&#34;&gt;Climate Charts &amp;amp; Graphs blog&lt;/a&gt; has a &lt;a href=&#34;http://chartsgraphs.wordpress.com/2009/02/27/video-to-help-excel-users-get-familiar-with-r/&#34;&gt;video&lt;/a&gt; to help help Excel users get familiar with R, a &lt;a href=&#34;http://chartsgraphs.wordpress.com/r-resources/&#34;&gt;list of R resources&lt;/a&gt;, and&amp;ndash;most impressive of all&amp;ndash;a &lt;a href=&#34;http://chartsgraphs.wordpress.com/learnr-toolkit/&#34;&gt;toolkit to help Excel users move up to R&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;The &lt;a href=&#34;http://www.decisionsciencenews.com/&#34;&gt;Decision Science News&lt;/a&gt; blog has two video tutorials (&lt;a href=&#34;http://www.decisionsciencenews.com/2007/09/26/r-video-tutorial-number-1/&#34;&gt;part 1&lt;/a&gt;, &lt;a href=&#34;http://www.decisionsciencenews.com/2007/10/02/r-video-tutorial-number-2/&#34;&gt;part 2&lt;/a&gt;) to help people get started using R.&lt;/li&gt;
&lt;li&gt;J.D. Long, a fellow economist, has compiled a &lt;a href=&#34;http://www.cerebralmastication.com/r-resources/&#34;&gt;list of R resources&lt;/a&gt; on his blog, &lt;a href=&#34;http://www.cerebralmastication.com/&#34;&gt;Cerebral Mastication&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Books&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I haven&amp;rsquo;t read these two books personally, but I&amp;rsquo;ve heard very good things about both of them.  Both focus on how to accomplish specific tasks with R.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://www.amazon.com/gp/product/0596809158?ie=UTF8&amp;amp;tag=fosstrading-20&amp;amp;linkCode=as2&amp;amp;camp=1789&amp;amp;creative=390957&amp;amp;creativeASIN=0596809158&#34;&gt;R Cookbook&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.amazon.com/gp/product/059680170X?ie=UTF8&amp;amp;tag=fosstrading-20&amp;amp;linkCode=as2&amp;amp;camp=1789&amp;amp;creative=390957&amp;amp;creativeASIN=059680170X&#34;&gt;R in a Nutshell: A Desktop Quick Reference&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I hope this is helpful.  As always, please add suggestions in the comments!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Backtesting in Excel and R</title>
      <link>https://blog.fosstrading.com/2011/02/backtesting-in-excel-and-r/</link>
      <pubDate>Thu, 17 Feb 2011 18:53:00 -0600</pubDate>
      
      <guid>https://blog.fosstrading.com/2011/02/backtesting-in-excel-and-r/</guid>
      <description>&lt;p&gt;This post is the introduction to a series that will illustrate how to backtest the same strategy in Excel and R.  The impetus for this series started with &lt;a href=&#34;http://twitter.com/#%21/CondorOptions/status/27254925279&#34;&gt;this tweet&lt;/a&gt; by &lt;a href=&#34;http://twitter.com/#%21/CondorOptions&#34;&gt;Jared Woodard&lt;/a&gt; at &lt;a href=&#34;http://www.condoroptions.com/&#34;&gt;Condor Options&lt;/a&gt;.  After &lt;a href=&#34;http://about.me/soren/bio&#34;&gt;Soren Macbeth&lt;/a&gt; introduced us, Jared suggested  backtesting a simple &lt;a href=&#34;http://cssanalytics.wordpress.com/2010/07/29/dvi-and-spy-performance/&#34;&gt;DVI&lt;/a&gt; strategy in Excel and R.&lt;/p&gt;
&lt;p&gt;The three-post series will show you:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;http://blog.fosstrading.com/2011/03/moving-from-excel-to-r.html&#34;&gt;Resources that make it easier to move from Excel to R&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://blog.fosstrading.com/2011/03/how-to-backtest-strategy-in-excel.html&#34;&gt;How to test DVI in Excel&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://blog.fosstrading.com/2011/03/how-to-backtest-strategy-in-r.html&#34;&gt;How to test DVI in R&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Since I know next to nothing about testing strategies in Excel, I will be writing posts 1 and 3.  Jared was kind enough to create the Excel framework for post 2, but did not have time to devote to a full post.  Thankfully, &lt;a href=&#34;http://etfprophet.com/author/skill-analytics/&#34;&gt;Damian Roskill&lt;/a&gt; has agreed to write post 2 using Jared&amp;rsquo;s Excel file.&lt;/p&gt;
&lt;p&gt;Hopefully this will be a useful example for those of you who currently use Excel but would like to explore how to use R.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Stack Exchange: Quantitative Finance in public beta</title>
      <link>https://blog.fosstrading.com/2011/02/stack-exchange-quantitative-finance-in/</link>
      <pubDate>Mon, 14 Feb 2011 12:12:00 -0600</pubDate>
      
      <guid>https://blog.fosstrading.com/2011/02/stack-exchange-quantitative-finance-in/</guid>
      <description>&lt;p&gt;The &lt;a href=&#34;http://quant.stackexchange.com/&#34;&gt;Quantitative Finance&lt;/a&gt; &lt;a href=&#34;http://stackexchange.com/&#34;&gt;Stack Exchange&lt;/a&gt; community entered public beta last week.  To quote the &lt;a href=&#34;http://quant.stackexchange.com/faq&#34;&gt;FAQ&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The Quantitative Finance Stack Exchange is intended specifically for professionals and traders working in investment banking, and academics involved in teaching and research.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Topics include pricing of securities, derivatives, options, risk modeling, quantitative techniques, and the mathematics used in quantitative finance.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Several members of the R/Finance community are active there too.  Some names you may recognize: &lt;a href=&#34;http://www.burns-stat.com/&#34;&gt;Patrick Burns&lt;/a&gt;, &lt;a href=&#34;http://www.statalgo.com/&#34;&gt;Shane&lt;/a&gt;, &lt;a href=&#34;http://dirk.eddelbuettel.com/&#34;&gt;Dirk Eddelbuettel&lt;/a&gt;, &lt;a href=&#34;http://www.lemnica.com/&#34;&gt;Jeff Ryan&lt;/a&gt;, and &lt;a href=&#34;http://quanttrader.info/public/&#34;&gt;Paul Teetor&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>R/Finance 2011 Call for Papers</title>
      <link>https://blog.fosstrading.com/2010/12/rfinance-2011-call-for-papers/</link>
      <pubDate>Sun, 26 Dec 2010 18:49:00 -0600</pubDate>
      
      <guid>https://blog.fosstrading.com/2010/12/rfinance-2011-call-for-papers/</guid>
      <description>&lt;p&gt;The 2011 R/Finance conference has an updated call for papers.  Dirk Eddelbuettel announced it to the R-SIG-Finance mailing list.  I&amp;rsquo;ve reproduced his email in its entirety below.  Let me know if you plan on attending.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Subject: R/Finance 2011: Call for Papers: Now with prizes and travel money&lt;/p&gt;
&lt;p&gt;Dear R / Finance community,&lt;/p&gt;
&lt;p&gt;The preparations for R/Finance 2011 are progressing, and due to favourable responses from the different sponsors we contacted, we are now able to offer&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;a competition for best paper, which given the focus of the conference will award for both an &amp;lsquo;academic&amp;rsquo; paper and an &amp;lsquo;industry&amp;rsquo; paper&lt;/li&gt;
&lt;li&gt;availability of travel grants for up to two graduate students provided suitable papers were accepted for presentations&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;More details are below in the updated Call for Papers. Please feel free to re-circulate this Call for Papers with colleagues, students and other associations.&lt;/p&gt;
&lt;p&gt;Cheers, and Season&amp;rsquo;s Greetings,&lt;br&gt;
Dirk (on behalf of the organizing / program committee)&lt;/p&gt;
&lt;p&gt;Call for Papers:&lt;/p&gt;
&lt;p&gt;R/Finance 2011: Applied Finance with R&lt;br&gt;
April 29 and 30, 2011&lt;br&gt;
Chicago, IL, USA&lt;/p&gt;
&lt;p&gt;The third annual R/Finance conference for applied finance using R will be held this spring in Chicago, IL, USA on April 29 and 30, 2011.  The two-day conference will cover topics including portfolio management, time series analysis, advanced risk tools, high-performance computing, market microstructure and econometrics. All will be discussed within the context of using R as a primary tool for financial risk management, portfolio construction, and trading.&lt;/p&gt;
&lt;p&gt;Complete papers or one-page abstracts (in txt or pdf format) are invited to be submitted for consideration. Academic and practitioner proposals related to R are encouraged. We welcome submissions for full talks, abbreviated &amp;ldquo;lightning talks&amp;rdquo;, and for a limited number of pre-conference (longer) seminar sessions.&lt;/p&gt;
&lt;p&gt;Presenters are strongly encouraged to provide working R code to accompany the presentation/paper.  Data sets should also be made public for the purposes of reproducibility (though we realize this may be limited due to contracts with data vendors). Preference may be given to presenters who have released R packages.&lt;/p&gt;
&lt;p&gt;The conference will award two $1000 prizes for best paper: one for best practitioner-oriented paper and one for best academic-oriented paper.  Further, to defray costs for graduate students, two travel and expense grants of up to $500 each will be awarded to graduate students whose papers are accepted.  To be eligible, a submission must be a full paper; extended abstracts are not eligible.&lt;/p&gt;
&lt;p&gt;Please send submissions to: committee &amp;ldquo;at&amp;rdquo; RinFinance.com&lt;/p&gt;
&lt;p&gt;The submission deadline is February 15th, 2011.  Early submissions may receive early acceptance and scheduling.  The graduate student grant winners will be notified by February 23rd, 2011.&lt;/p&gt;
&lt;p&gt;Submissions will be evaluated and submitters notified via email on a rolling basis. Determination of whether a presentation will be a long presentation or a lightning talk will be made once the full list of presenters is known.&lt;/p&gt;
&lt;p&gt;R/Finance 2009 and 2010 included attendees from around the world and featured keynote presentations from prominent academics and practitioners. 2009-2010 presenters names and presentations are online at the conference website. We anticipate another exciting line-up for 2011&amp;ndash;including keynote presentations from John Bollinger, Mebane Faber, Stefano Iacus, and Louis Kates.  Additional details will be announced via the &lt;a href=&#34;http://www.rinfinance.com/&#34;&gt;conference website&lt;/a&gt; as they become available.&lt;/p&gt;
&lt;p&gt;For the program committee:&lt;/p&gt;
&lt;p&gt;       Gib Bassett, Peter Carl, Dirk Eddelbuettel, Brian Peterson,&lt;br&gt;
       Dale Rosenthal, Jeffrey Ryan, Joshua Ulrich&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Why Use R?</title>
      <link>https://blog.fosstrading.com/2010/12/why-use-r/</link>
      <pubDate>Tue, 14 Dec 2010 22:35:00 -0600</pubDate>
      
      <guid>https://blog.fosstrading.com/2010/12/why-use-r/</guid>
      <description>&lt;p&gt;I use R very frequently and take for granted much that it has to offer.  I forget how R is different from similar tools, so I have trouble communicating the benefits of using R.  The goal of this post is to highlight R&amp;rsquo;s main strengths, but first&amp;hellip; my story.&lt;/p&gt;
&lt;p&gt;How I got started with R&lt;/p&gt;
&lt;p&gt;I was introduced to R while I was working as a &lt;a href=&#34;http://research.stlouisfed.org/&#34;&gt;Research Analyst&lt;/a&gt; at the &lt;a href=&#34;http://stlouisfed.org/&#34;&gt;Federal Reserve Bank of St. Louis&lt;/a&gt;.  I wanted to do statistical analysis at home but the tools I used at work (&lt;a href=&#34;http://www.aptech.com/&#34;&gt;GAUSS&lt;/a&gt; and &lt;a href=&#34;http://www.sas.com/&#34;&gt;SAS&lt;/a&gt;) were expensive, so I started doing my analysis in Excel.&lt;/p&gt;
&lt;p&gt;But as my analysis became more complex, the Excel files became large and cumbersome.  The files also did not document my thought process, which made it difficult to revisit analysis I had started several months earlier.  I asked my fellow analysts for advice and one introduced me to R and &lt;a href=&#34;http://www.amazon.com/gp/product/1441930086?ie=UTF8&amp;amp;tag=fosstrading-20&amp;amp;linkCode=as2&amp;amp;camp=1789&amp;amp;creative=390957&amp;amp;creativeASIN=1441930086&#34;&gt;Modern Applied Statistics with S&lt;/a&gt;.  Thus began my auto-didactic journey with R.&lt;/p&gt;
&lt;p&gt;Why should you use R?&lt;/p&gt;
&lt;p&gt;R is the leading tool for statistics, data analysis, and machine learning.  It is more than a statistical package; it’s a programming language, so you can create your own objects, functions, and packages.&lt;/p&gt;
&lt;p&gt;Speaking of packages, there are over 2,000 cutting-edge, user-contributed packages available on &lt;a href=&#34;http://cran.r-project.org/&#34;&gt;CRAN&lt;/a&gt; (not to mention &lt;a href=&#34;http://www.bioconductor.org/&#34;&gt;Bioconductor&lt;/a&gt; and &lt;a href=&#34;http://www.omegahat.net/&#34;&gt;Omegahat&lt;/a&gt;).  To get an idea of what packages are out there, just take a look at these &lt;a href=&#34;http://cran.r-project.org/web/views/&#34;&gt;Task Views&lt;/a&gt;.  Many packages are submitted by prominent members of their respective fields.&lt;/p&gt;
&lt;p&gt;Like all programs, R programs explicitly document the steps of your analysis and make it easy to reproduce and/or update analysis, which means you can quickly try many ideas and/or correct issues.&lt;/p&gt;
&lt;p&gt;You can easily use it anywhere.  It&amp;rsquo;s &lt;a href=&#34;http://en.wikipedia.org/wiki/Platform-independent&#34;&gt;platform-independent&lt;/a&gt;, so you can use it on any operating system.  And it&amp;rsquo;s free, so you can use it at any employer without having to persuade your boss to purchase a license.&lt;/p&gt;
&lt;p&gt;Not only is R free, but it&amp;rsquo;s also &lt;a href=&#34;http://en.wikipedia.org/wiki/Open_source&#34;&gt;open-source&lt;/a&gt;.  That means anyone can examine the source code to see exactly what it’s doing.  This also means that you, or anyone, can fix bugs and/or add features, rather than waiting for the vendor to find/fix the bug and/or add the feature&amp;ndash;at their discretion&amp;ndash;in a future release.&lt;/p&gt;
&lt;p&gt;R allows you to integrate with other languages (C/C++, &lt;a href=&#34;http://java.sun.com/&#34;&gt;Java&lt;/a&gt;, &lt;a href=&#34;http://www.python.org/&#34;&gt;Python&lt;/a&gt;) and enables you to interact with many data sources: &lt;a href=&#34;http://en.wikipedia.org/wiki/Odbc&#34;&gt;ODBC&lt;/a&gt;-compliant databases (Excel, Access) and other statistical packages (&lt;a href=&#34;http://www.sas.com/&#34;&gt;SAS&lt;/a&gt;, &lt;a href=&#34;http://www.stata.com/&#34;&gt;Stata&lt;/a&gt;, &lt;a href=&#34;http://www.spss.com/&#34;&gt;SPSS&lt;/a&gt;, &lt;a href=&#34;http://www.minitab.com/&#34;&gt;Minitab&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;Explicit parallelism is straightforward in R (see the &lt;a href=&#34;http://cran.r-project.org/web/views/HighPerformanceComputing.html&#34;&gt;High Performance Computing Task View&lt;/a&gt;): several packages allow you to take advantage of multiple cores, either on a single machine or across a network.  You can also build R with &lt;a href=&#34;http://cran.r-project.org/doc/manuals/R-admin.html#Linear-algebra&#34;&gt;custom BLAS&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;R has a large, active, and growing community of users.  The &lt;a href=&#34;http://www.r-project.org/mail.html&#34;&gt;mailing lists&lt;/a&gt; provide access to many users and package authors who are experts in their respective fields.  Additionally, there are several R conferences every year.  The most prominent and general is &lt;a href=&#34;http://user2010.org/&#34;&gt;useR&lt;/a&gt;.  Finance-related conferences include &lt;a href=&#34;https://www.rmetrics.org/meielisalp2011&#34;&gt;Rmetrics Workshop on Computational Finance and Financial Engineering&lt;/a&gt; in Meielisalp, Switzerland and &lt;a href=&#34;http://www.rinfinance.com/&#34;&gt;R/Finance: Applied Finance with R&lt;/a&gt; in Chicago, USA.&lt;/p&gt;
&lt;p&gt;I hope that&amp;rsquo;s a helpful overview of some benefits of using R.  I&amp;rsquo;m sure I have forgotten some things, so please add them in the comments.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Build RQuantLib on 32-bit Windows</title>
      <link>https://blog.fosstrading.com/2010/12/build-rquantlib-on-32-bit-windows/</link>
      <pubDate>Tue, 07 Dec 2010 17:20:00 -0600</pubDate>
      
      <guid>https://blog.fosstrading.com/2010/12/build-rquantlib-on-32-bit-windows/</guid>
      <description>&lt;p&gt;Before you start, note that there is now a &lt;a href=&#34;http://blog.fosstrading.com/2011/04/rquantlib-windows-binary-on-cran.html&#34;&gt;Windows binary of RQuantLib is available on CRAN&lt;/a&gt;.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Due to a change in how R-2.12.0 is built, CRAN maintainers could no longer provide a Windows binary of RQuantLib with the QuantLib library they had been using. I decided to try and build an updated QuantLib library from source, which would allow me (and them) to build the current RQuantLib.&lt;br&gt;
Instructions for &lt;a href=&#34;http://www.nativact.com/taugust/quantlib.html&#34;&gt;Getting Started with QuantLib and MinGW from Scratch&lt;/a&gt; by Terry August (found in &lt;a href=&#34;http://quantlib.org/faq.shtml#Building%20QuantLib1&#34;&gt;QuantLib FAQ 3.2&lt;/a&gt;) were incredibly valuable.  Thanks to &lt;a href=&#34;http://dirk.eddelbuettel.com/&#34;&gt;Dirk Eddelbuettel&lt;/a&gt; for helpful guidance and pointers while I was working through this exercise, and for useful comments on this blog post.&lt;/p&gt;
&lt;p&gt;Here are the steps I took.  You will need to modify the paths to suit your particular setup.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Download and install &lt;a href=&#34;http://www.murdoch-sutherland.com/Rtools/&#34;&gt;Rtools&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://sourceforge.net/projects/mingw/files/&#34;&gt;Download&lt;/a&gt; and &lt;a href=&#34;http://www.mingw.org/wiki/Getting_Started&#34;&gt;install&lt;/a&gt; &lt;a href=&#34;http://www.mingw.org/&#34;&gt;MinGW&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Download &lt;a href=&#34;http://sourceforge.net/projects/boost/files/boost/&#34;&gt;boost&lt;/a&gt; (I used boost_1_42_0.tar.gz)&lt;br&gt;
unzip to c:/R/cpp/boost_1_42_0&lt;br&gt;
We only need the headers, so there&amp;rsquo;s nothing to install.&lt;/li&gt;
&lt;li&gt;Download &lt;a href=&#34;http://sourceforge.net/projects/quantlib/files/&#34;&gt;QuantLib&lt;/a&gt; (I used QuantLib-1.0.1.zip)&lt;br&gt;
unzip to c:/R/cpp/QuantLib-1.0.1&lt;/li&gt;
&lt;li&gt;Install Quantlib. The make and make install commands are going to take quite some time. I think they took about 2 hours on my 3.4Ghz system. Let&amp;rsquo;s get started. Open a msys command line and run:&lt;br&gt;
set PATH=c:/MinGW/bin:$PATH&lt;br&gt;
cd c:/R/cpp&lt;br&gt;
mkdir lib include&lt;br&gt;
cd QuantLib-1.0.1&lt;br&gt;
configure &amp;ndash;with-boost-include=c:/R/cpp/boost_1_42_0 &amp;ndash;prefix=c:/R/cpp&lt;br&gt;
make&lt;br&gt;
make install&lt;br&gt;
cd c:/R/cpp/lib&lt;br&gt;
cp libQuantLib.a libQuantLib.a.bak&lt;br&gt;
strip &amp;ndash;strip-unneeded libQuantLib.a&lt;/li&gt;
&lt;li&gt;Download the &lt;a href=&#34;http://cran.r-project.org/web/packages/RQuantLib/&#34;&gt;RQuantlib source&lt;/a&gt; (I used RQuantLib_0.3.4.tar.gz)&lt;br&gt;
unzip it to c:/R/cpp/RQuantLib&lt;/li&gt;
&lt;li&gt;Open c:/R/cpp/RQuantLib/src/Makevars.win and ensure&lt;br&gt;
PKG_LIBS=$(RCPP_LDFLAGS) -L$(QUANTLIB_ROOT)/lib -lQuantLib&lt;/li&gt;
&lt;li&gt;Make the following directories:&lt;br&gt;
c:/R/cpp/QuantLibBuild/boost&lt;br&gt;
c:/R/cpp/QuantLibBuild/ql&lt;br&gt;
c:/R/cpp/QuantLibBuild/lib&lt;br&gt;
then copy:&lt;br&gt;
c:/R/cpp/boost_1_42_0/boost to c:/R/cpp/QuantLibBuild/boost&lt;br&gt;
c:/R/cpp/include/ql to c:/R/cpp/QuantLibBuild/ql&lt;br&gt;
c:/R/cpp/lib/libQuantLib.a to c:/R/cpp/QuantLibBuild/lib/libQuantLib.a&lt;/li&gt;
&lt;li&gt;Now you should be able to build RQuantLib via:&lt;br&gt;
set QUANTLIB_ROOT=c:/R/cpp/QuantLibBuild&lt;br&gt;
R CMD INSTALL RQuantLib_0.3.4.tar.gz&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;I cannot guarantee these instructions will work on a 64-bit system because I do not have access to a 64-bit Windows machine, but the steps should be fairly similar.  If you run into any issues, feel free to leave a comment and I will do my best to help.&lt;/p&gt;
&lt;p&gt;If you just want to use my build, you can install this &lt;a href=&#34;https://docs.google.com/leaf?id=0B8wl4QBejPGiYmY4NGQ5MTYtOWJlMS00NTBhLThhZmItMWI4YjQ2Mjg2MWU2&amp;amp;hl=en&amp;amp;authkey=CLDLlPAN&#34;&gt;RQuantLib_0.3.4 Windows binary&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Risk-Opportunity Analysis</title>
      <link>https://blog.fosstrading.com/2010/11/risk-opportunity-analysis/</link>
      <pubDate>Fri, 12 Nov 2010 09:05:00 -0600</pubDate>
      
      <guid>https://blog.fosstrading.com/2010/11/risk-opportunity-analysis/</guid>
      <description>&lt;p&gt;I will be attending &lt;a href=&#34;http://www.ralphvince.com/&#34;&gt;Ralph Vince&amp;rsquo;s&lt;/a&gt; &lt;a href=&#34;http://rvincetampa201011.eventbrite.com/&#34;&gt;risk-opportunity analysis workshop&lt;/a&gt; in Tampa this weekend.  Drop me a note if you&amp;rsquo;re in the area and would like to meet for coffee / drinks.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Algorithmic Trading with IBrokers</title>
      <link>https://blog.fosstrading.com/2010/10/algorithmic-trading-with-ibrokers/</link>
      <pubDate>Mon, 25 Oct 2010 22:01:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2010/10/algorithmic-trading-with-ibrokers/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;http://personal.anderson.ucla.edu/kyle.matoba.2014/&#34;&gt;Kyle Matoba&lt;/a&gt; is a Finance PhD student at the UCLA Anderson School of Management.  He gave a presentation on Algorithmic Trading with R and IBrokers at a recent meeting of the &lt;a href=&#34;http://www.meetup.com/LAarea-R-usergroup/&#34;&gt;Los Angeles R User Group&lt;/a&gt;.  The discussion of IBrokers begins near the 12-minute mark.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Patrick Burns is blogging</title>
      <link>https://blog.fosstrading.com/2010/08/patrick-burns-is-blogging/</link>
      <pubDate>Sat, 28 Aug 2010 11:30:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2010/08/patrick-burns-is-blogging/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;http://www.burns-stat.com/&#34;&gt;Patrick Burns&lt;/a&gt; is the author of several helpful &lt;a href=&#34;http://www.r-project.org/&#34;&gt;R&lt;/a&gt; resources, including &lt;a href=&#34;http://www.burns-stat.com/pages/Tutor/unwilling_S.pdf&#34;&gt;A Guide for the Unwilling S User&lt;/a&gt;, &lt;a href=&#34;http://www.burns-stat.com/pages/Tutor/R_inferno.pdf&#34;&gt;The R Inferno&lt;/a&gt;, and &lt;a href=&#34;http://www.burns-stat.com/pages/spoetry.html&#34;&gt;S Poetry&lt;/a&gt;. He also wrote one of my favorite critiques of Microsoft Excel: &lt;a href=&#34;http://www.burns-stat.com/pages/Tutor/spreadsheet_addiction.html&#34;&gt;Spreadsheet Addiction&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;His writing is witty, entertaining, and packed fully of useful bits of information.  I strongly recommend you add &lt;a href=&#34;http://www.portfolioprobe.com/blog&#34;&gt;his blog&lt;/a&gt; to your list of regular reading material.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Margin Constraints with LSPM</title>
      <link>https://blog.fosstrading.com/2010/08/margin-constraints-with-lspm/</link>
      <pubDate>Sun, 01 Aug 2010 23:31:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2010/08/margin-constraints-with-lspm/</guid>
      <description>&lt;p&gt;When optimizing leverage space portfolios, I frequently run into the issue of one or more f$ ([Max Loss]/f) being less than the margin of its respective instrument.  For example, assume the required margin for an instrument is $500, f$ is $100, and $100,000 in equity.  The optimal amount to trade is 1,000 shares ($100,000/$100).  However, that would require $500,000 in equity, while you only have $100,000.  What do you do?&lt;/p&gt;
&lt;p&gt;Page 341 of &lt;a href=&#34;http://www.amazon.com/gp/product/0471757683?ie=UTF8&amp;amp;tag=fosstrading-20&amp;amp;linkCode=as2&amp;amp;camp=1789&amp;amp;creative=390957&amp;amp;creativeASIN=0471757683&#34;&gt;The Handbook of Portfolio Mathematics&lt;/a&gt; outlines how to determine how many units to trade, given margin constraints.  The methodology therein suggests finding optimal f values first, then calculating the portfolio that satisfies the margin constraints but keeps the ratio of each market system to one another the same.&lt;/p&gt;
&lt;p&gt;For those without the book, the calculation is:&lt;br&gt;
L = max(f$) / sum( ( max(f$) / f$[i] ) * margin[i] )&lt;/p&gt;
&lt;p&gt;Where:&lt;br&gt;
L = percentage of &amp;ldquo;active equity&amp;rdquo; to use when dividing by each f$&lt;br&gt;
margin = initial margin for each market system&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;maxUnits()&lt;/code&gt; function included in this post uses the formula above to return the maximum number of tradeable units.  In this example, we assume our margin is equal to our maximum loss (as is the case with equities).  The code below illustrates how to use the &lt;code&gt;maxUnits()&lt;/code&gt; function after optimization.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Load the LSPM package&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;library&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;LSPM&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;maxUnits&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;lsp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;margin&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;equity&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;

  &lt;span class=&#34;c1&#34;&gt;# Make sure margin and f are same length&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;NRf&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;NROW&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;lsp&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
  &lt;span class=&#34;nf&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;NROW&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;margin&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;NRf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;nf&#34;&gt;stop&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;paste&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&amp;#39;margin&amp;#39; must have length =&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;NRf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;

  &lt;span class=&#34;c1&#34;&gt;# Calculate maximum equity percentage&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;fDollar&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;lsp&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;maxLoss&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;lsp&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;f&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;maxfDollar&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;max&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;fDollar&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;[is.finite&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fDollar&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

  &lt;span class=&#34;n&#34;&gt;den&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;maxfDollar&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;fDollar&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;margin&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;den[&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;is.finite&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;den&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;]&lt;/span&gt;  &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;

  &lt;span class=&#34;n&#34;&gt;eqPct&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;min&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;maxfDollar&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;sum&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;den&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;

  &lt;span class=&#34;n&#34;&gt;max.units&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;eqPct&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;equity&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;fDollar&lt;/span&gt;
  &lt;span class=&#34;nf&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;max.units&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;nf&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;               &lt;span class=&#34;c1&#34;&gt;# Multiple strategy data&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;initEq&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;100000&lt;/span&gt;         &lt;span class=&#34;c1&#34;&gt;# Initial equity&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;margin&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;maxLoss&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# Margin amounts&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;opt&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;optimalf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;# Optimize portfolio&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;f&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;opt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;f&lt;/span&gt;          &lt;span class=&#34;c1&#34;&gt;# Assign optimal f values to lsp object&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Units to trade&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;fUnits&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;initEq&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;maxLoss&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# unconstrained&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;mUnits&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;maxUnits&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;margin&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;initEq&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# margin-constrained&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Equity needed to trade at f values&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;sum&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fUnits&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;margin&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# unconstrained&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;sum&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mUnits&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;margin&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# margin-constrained&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Implied f values based on maximum units&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;f&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;mUnits&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;maxLoss&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;initEq&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;GHPR&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# 1.209931&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>Estimating Probability of Drawdown</title>
      <link>https://blog.fosstrading.com/2010/06/estimating-probability-of-drawdown/</link>
      <pubDate>Sat, 19 Jun 2010 20:13:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2010/06/estimating-probability-of-drawdown/</guid>
      <description>&lt;p&gt;I&amp;rsquo;ve &lt;a href=&#34;http://blog.fosstrading.com/2010/01/lspm-examples.html&#34;&gt;shown&lt;/a&gt; &lt;a href=&#34;http://blog.fosstrading.com/2010/01/lspm-with-snow.html&#34;&gt;several&lt;/a&gt; &lt;a href=&#34;http://blog.fosstrading.com/2010/04/maximum-probability-of-profit.html&#34;&gt;examples&lt;/a&gt; of how to use &lt;a href=&#34;http://r-forge.r-project.org/projects/lspm&#34;&gt;LSPM&amp;rsquo;s&lt;/a&gt; &lt;code&gt;probDrawdown()&lt;/code&gt; function as a constraint when optimizing a leverage space portfolio.  Those posts implicitly assume the &lt;code&gt;probDrawdown()&lt;/code&gt; function produces an accurate estimate of actual drawdown.  This post will investigate the function&amp;rsquo;s accuracy.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Calculation Notes:&lt;/strong&gt;&lt;br&gt;
To calculate the probability of drawdown, the function traverses all permutations of the events in your &lt;code&gt;lsp&lt;/code&gt; object over the given horizon and sums the probability of each permutation that hits the drawdown constraint.  The probability of each permutation is the product of the probability of each event in the permutation.&lt;/p&gt;
&lt;p&gt;In the example below, there are 20 events in each &lt;code&gt;lsp&lt;/code&gt; object and the probability of drawdown is calculated over a horizon of 10 days, yielding 20^10 permutations to traverse - &lt;em&gt;for&lt;/em&gt; &lt;em&gt;each iteration&lt;/em&gt;.  So don&amp;rsquo;t be surprised when the code takes more than a couple minutes to run.&lt;/p&gt;
&lt;p&gt;For a more detailed discussion about the calculation, see:&lt;br&gt;
pp. 89-138 of &lt;a href=&#34;http://www.amazon.com/gp/product/0470455950?ie=UTF8&amp;amp;tag=fosstrading-20&amp;amp;linkCode=as2&amp;amp;camp=1789&amp;amp;creative=9325&amp;amp;creativeASIN=0470455950&#34;&gt;The Leverage Space Trading Model&lt;/a&gt;, and/or&lt;br&gt;
pp. 377-414 of &lt;a href=&#34;http://www.amazon.com/gp/product/0471757683?ie=UTF8&amp;amp;tag=fosstrading-20&amp;amp;linkCode=as2&amp;amp;camp=1789&amp;amp;creative=390957&amp;amp;creativeASIN=0471757683&#34;&gt;The Handbook of Portfolio Mathematics&lt;/a&gt;&lt;br&gt;
both by &lt;a href=&#34;http://www.ralphvince.com/&#34;&gt;Ralph Vince&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Discussion:&lt;/strong&gt;&lt;br&gt;
The results below were run on daily SPY from 2008-01-01 to 2009-01-01, using 20 days of data to estimate the probability of a 5% drawdown over the next 10 days.  Results on daily QQQQ over the same period, and monthly SPX from 1950-present produced similar results.&lt;/p&gt;
&lt;p&gt;I chose a prediction horizon of 10 periods to provide a fairly smooth actual probability of drawdown curve without making the &lt;code&gt;probDrawdown()&lt;/code&gt; calculation time too long.  Using 10 (instead of 20) days of data in the lsp object only changed results slightly.&lt;/p&gt;
&lt;p&gt;The chart below shows that &lt;code&gt;probDrawdown()&lt;/code&gt; nearly always over estimates actual drawdown over the next 10 periods and &lt;em&gt;hardly ever&lt;/em&gt; under estimates it.  While it&amp;rsquo;s comforting the function doesn&amp;rsquo;t under estimate risk, I would prefer a less biased estimator.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://blog.fosstrading.com/post/images/20100619_probDrawdown.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;Notice that the above calculation assumes each event is independently distributed.  &lt;a href=&#34;http://braverock.com/brian/&#34;&gt;Brian Peterson&lt;/a&gt; suggested a &lt;a href=&#34;http://en.wikipedia.org/wiki/Bootstrapping_%28statistics%29#Moving_block_bootstrap&#34;&gt;block bootstrap&lt;/a&gt; to attempt to preserve any dependence that may exist.  My next post will investigate if that materially improves estimates.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Code:&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;nf&#34;&gt;library&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;quantmod&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;library&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;LSPM&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;library&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;snow&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Pull data and calculate differences&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;symbol&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;SPY&amp;#34;&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;getSymbols&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;symbol&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;2008-01-01&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;to&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;2009-01-01&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;sym&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;symbol&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;symDiff&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;diff&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Cl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sym&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;symDiff[1]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;NP&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;20&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;# number of periods to use in lsp object&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;HR&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;10&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;# drawdown horizon&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;DD&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0.05&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# drawdown level&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Initialize projected / actual drawdown objects&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;NR&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;NROW&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;symDiff&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;prjDD&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;xts&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;rep&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;NR&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;index&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;symDiff&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;actDD&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;xts&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;rep&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;NR&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;index&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;symDiff&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Socket cluster with snow to speed up probDrawdown()&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;cl&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;makeSOCKcluster&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Start loop over data&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;in &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;NP&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;+1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;NR&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;HR&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  
  &lt;span class=&#34;c1&#34;&gt;# Objects to hold data for the last 20 days and next 10 days&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;last20&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;symDiff&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;NP&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i]&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;next10&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;symDiff&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;+1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;HR&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;]&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;maxLoss&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Cl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sym&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;[i]&lt;/span&gt;
  
  &lt;span class=&#34;c1&#34;&gt;# Portfolios to estimate drawdown and calculate actual drawdown&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;prjPort&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;lsp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;last20&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;maxLoss&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;maxLoss&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;actPort&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;lsp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;next10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;maxLoss&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;maxLoss&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
  
  &lt;span class=&#34;c1&#34;&gt;# Estimate probability of drawdown&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;prjDD[i]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;probDrawdown&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;prjPort&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;DD&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;HR&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;snow&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
  
  &lt;span class=&#34;c1&#34;&gt;# Calculate actual drawdown probability&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;actDD[i]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;sum&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;HPR&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;actPort&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;cummax&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;HPR&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;actPort&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;DD&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;HR&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# End loop over data&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Chart results&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;drawdown&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;cbind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;projected&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;prjDD&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;actual&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;actDD&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;difference&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;prjDD&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;actDD&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;chartSeries&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sym&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;FALSE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;theme&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;white&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;symbol&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;TA&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;addTA(drawdown,col=c(&amp;#39;blue&amp;#39;,&amp;#39;green&amp;#39;));addTA(difference)&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>LSPM Joint Probability Tables</title>
      <link>https://blog.fosstrading.com/2010/05/lspm-joint-probability-tables/</link>
      <pubDate>Tue, 18 May 2010 22:30:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2010/05/lspm-joint-probability-tables/</guid>
      <description>&lt;p&gt;I&amp;rsquo;ve received several requests for methods to create joint probability tables for use in LSPM&amp;rsquo;s portfolio optimization functions.  Rather than continue to email this example to individuals who ask, I post it here in hopes they find it via a Google search. ;-)&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;m certain there are more robust ways to estimate this table, but the code below is a start&amp;hellip;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# `x` is a matrix of market system returns&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# `n` is the number of bins to create for each system&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# `FUN` is the function to use to calculate the value for each bin&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# `...` are args to be passed to `FUN`&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;jointProbTable&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;FUN&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;median&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;...&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;

  &lt;span class=&#34;c1&#34;&gt;# Load LSPM&lt;/span&gt;
  &lt;span class=&#34;nf&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;require&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;LSPM&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;quietly&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;TRUE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;stop&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;warnings&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;())&lt;/span&gt;

  &lt;span class=&#34;c1&#34;&gt;# Function to bin data&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;quantize&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;FUN&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;median&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;...&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nf&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;is.character&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;FUN&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;FUN&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;FUN&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;bins&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;cut&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;labels&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;FALSE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;res&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;sapply&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;NROW&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;FUN&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x[bins&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;bins[i]]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;...&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

  &lt;span class=&#34;c1&#34;&gt;# Allow for different values of &amp;#39;n&amp;#39; for each system in &amp;#39;x&amp;#39;&lt;/span&gt;
  &lt;span class=&#34;nf&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;NROW&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;rep&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;NCOL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;else&lt;/span&gt;
  &lt;span class=&#34;nf&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;NROW&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;NCOL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;stop&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;invalid &amp;#39;n&amp;#39;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

  &lt;span class=&#34;c1&#34;&gt;# Bin data in &amp;#39;x&amp;#39;&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;qd&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;sapply&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;NCOL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;quantize&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x[&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;n[i]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;FUN&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;FUN&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;...&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;

  &lt;span class=&#34;c1&#34;&gt;# Aggregate probabilities&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;probs&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;rep&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;NROW&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;NROW&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;res&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;aggregate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;probs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;by&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;lapply&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;NCOL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;qd&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;qd[&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sum&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

  &lt;span class=&#34;c1&#34;&gt;# Clean up output, return lsp object&lt;/span&gt;
  &lt;span class=&#34;nf&#34;&gt;colnames&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;res&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;colnames&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;res&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;lsp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;res[&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;NCOL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;res[&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;NCOL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;res&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

  &lt;span class=&#34;nf&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;res&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Example&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;N&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;30&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;rnorm&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;N&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;y&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;rnorm&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;N&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;z&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;rnorm&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;N&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;zz&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;cbind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;z&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;jpt&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;jointProbTable&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;zz&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;jpt&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##                     x           y            z&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## f         0.100000000  0.10000000  0.100000000&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Max Loss -0.009192644 -0.03090575 -0.006942066&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##            probs            x            y            z&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##  [1,] 0.06666667 -0.002152201 -0.030905750 -0.006942066&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##  [2,] 0.06666667 -0.002152201 -0.006480683 -0.006942066&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##  [3,] 0.03333333  0.024304901 -0.006480683 -0.006942066&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##  [4,] 0.03333333 -0.009192644  0.001963339 -0.006942066&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##  [5,] 0.06666667  0.008308007  0.001963339 -0.006942066&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##  [6,] 0.03333333  0.024304901  0.001963339 -0.006942066&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##  [7,] 0.03333333 -0.009192644 -0.006480683  0.001678969&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##  [8,] 0.03333333  0.008308007 -0.006480683  0.001678969&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##  [9,] 0.20000000 -0.009192644  0.001963339  0.001678969&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## [10,] 0.06666667 -0.002152201  0.001963339  0.001678969&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## [11,] 0.13333333  0.008308007  0.001963339  0.001678969&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## [12,] 0.03333333  0.008308007 -0.006480683  0.013314122&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## [13,] 0.03333333 -0.009192644  0.001963339  0.013314122&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## [14,] 0.10000000 -0.002152201  0.001963339  0.013314122&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## [15,] 0.06666667  0.008308007  0.001963339  0.013314122&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>Introducing IBrokers (and Jeff Ryan)</title>
      <link>https://blog.fosstrading.com/2010/05/introducing-ibrokers-and-jeff-ryan/</link>
      <pubDate>Thu, 13 May 2010 14:23:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2010/05/introducing-ibrokers-and-jeff-ryan/</guid>
      <description>&lt;p&gt;Josh had kindly invited me to post on FOSS Trading around the time when he first came up with the idea for the blog. Fast forward a year and I am finally taking him up on his offer.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;ll start by highlighting that while all the software in this post is indeed &lt;em&gt;free (true to FOSS)&lt;/em&gt;, an account with &lt;a href=&#34;http://www.interactivebrokers.com/&#34;&gt;Interactive Brokers&lt;/a&gt; is needed to make use of it. For those not familiar with IB, they offer a trading platform that excels on numerous fronts but is most appealing to those of us who trade algorithmically. IB makes available a rather comprehensive API that makes data access and trade execution entirely possible programmatically via a handful of &amp;ldquo;supported&amp;rdquo; languages. These include Java (the language of the platform), C#, VBA and even Excel. The also have a POSIX compliant C++ version for those who enjoy C++ but dislike Windows.&lt;/p&gt;
&lt;p&gt;For those who dislike Windows &lt;em&gt;and&lt;/em&gt; C++, the community of IB users have a few &amp;ldquo;non-official&amp;rdquo; options. They include some nice implementations in C, Python (2), Matlab, and something even more abstracted in the &lt;a href=&#34;http://www.trading-shim.org/&#34;&gt;trading-shim&lt;/a&gt;. While all well and good, there was one missing: R.&lt;/p&gt;
&lt;p&gt;Many of you may know I am a rather large proponent of R. I have authored or coauthored quite a few packages and help to organize the &lt;a href=&#34;http://www.rinfinance.com/&#34;&gt;R/Finance conference&lt;/a&gt; in Chicago each Spring. I am also a huge single-language solution kind of guy. If I could order food and surf the internet from R, all the world would be mine. But I digress&amp;hellip;&lt;/p&gt;
&lt;p&gt;The &lt;a href=&#34;http://cran.r-project.org/web/packages/IBrokers/index.html&#34;&gt;IBrokers&lt;/a&gt; package on CRAN is my contribution to the landscape. A pure R implementation of most of the API, using nothing but R and some magic. It is now possible to connect to a running TWS (aka Trader Workstation) and retrieve historical data, request market data feeds, and even place orders &amp;ndash; &lt;em&gt;all from R&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;You can get a TWS client from IB at the link above, and installing IBrokers is easy enough from R:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;nf&#34;&gt;install.packages&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;IBrokers&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Next up would be to make sure that your TWS has sockets enable, and you have your localhost entered as a &amp;ldquo;trusted IP&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;First find the &amp;ldquo;Configure&amp;rdquo; menu in the TWS&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://blog.fosstrading.com/post/images/Screen+shot+2010-05-13+at+3.10.05+195PM.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;Next we check for &amp;ldquo;Enable ActiveX and Socket Clients&amp;rdquo;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.fosstrading.com/post/images/Screen+shot+2010-05-13+at+3.10.30+142PM.png&#34;&gt;&lt;img src=&#34;https://blog.fosstrading.com/post/images/Screen+shot+2010-05-13+at+3.10.30+142PM.png&#34; alt=&#34;&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;To add a &amp;ldquo;Trusted IP&amp;rdquo; click on &amp;ldquo;All API Settings&amp;hellip;&amp;rdquo;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.fosstrading.com/post/images/Screen+shot+2010-05-13+at+3.10.43+749PM.png&#34;&gt;&lt;img src=&#34;https://blog.fosstrading.com/post/images/Screen+shot+2010-05-13+at+3.10.43+749PM.png&#34; alt=&#34;&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Okay, that was easy. Now we are back to R code. Next we need to load our freshly installed IBrokers package and connect.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;nf&#34;&gt;library&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;IBrokers&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;## Loading required package: xts&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Loading required package: zoo&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## IBrokers version 0.2-7: (alpha)&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## Implementing API Version 9.62&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## This software comes with NO WARRANTY. Not intended for production use!&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## See ?IBrokers for details&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;tws&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;twsConnect&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;tws&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;## &amp;lt;twsConnection,1 @ 20100513 15:11:40 CST, nextId=1288&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;As you can see there isn&amp;rsquo;t too much to talk about in the code above. We make the standard R &lt;code&gt;library()&lt;/code&gt; call to get IBrokers into our session, and the use the &lt;code&gt;twsConnect()&lt;/code&gt; function to make a connection to the TWS. There are parameters that can be passed in (such as &lt;code&gt;host&lt;/code&gt;, and &lt;code&gt;connection ID&lt;/code&gt;), but we needn&amp;rsquo;t do that here.&lt;/p&gt;
&lt;p&gt;The result of our call is a &lt;code&gt;twsConnection&lt;/code&gt; object. This contains a few important bits of information that are used throughout the lifetime of the object.&lt;/p&gt;
&lt;p&gt;To wrap up this post we&amp;rsquo;ll use our new connection to fetch some historical data from IB.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;n&#34;&gt;aapl&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;reqHistoricalData&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tws&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;twsSTK&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;AAPL&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;## TWS Message: 2 -1 2104 Market data farm connection is OK:usfuture&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## TWS Message: 2 -1 2104 Market data farm connection is OK:usfarm&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## waiting for TWS reply ....... done.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Some notes about the above. The first argument to most any IBrokers call is the connection object created with &lt;code&gt;twsConnect()&lt;/code&gt;. The second argument to the above request is a &lt;code&gt;twsContract&lt;/code&gt; object. There are a variety of ways to construct this, and &lt;code&gt;twsSTK()&lt;/code&gt; is just a shortcut from IBrokers that allows for equity instruments to be specified. The object is just a list of fields that contain data IB needs to process your requests:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;nf&#34;&gt;twsSTK&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;AAPL&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;## List of 14&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## $ conId : num 0&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## $ symbol : chr &amp;#34;AAPL&amp;#34;&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## $ sectype : chr &amp;#34;STK&amp;#34;&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## $ exch : chr &amp;#34;SMART&amp;#34;&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## $ primary : chr &amp;#34;&amp;#34;&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## $ expiry : chr &amp;#34;&amp;#34;&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## $ strike : chr &amp;#34;0.0&amp;#34;&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## $ currency : chr &amp;#34;USD&amp;#34;&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## $ right : chr &amp;#34;&amp;#34;&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## $ local : chr &amp;#34;&amp;#34;&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## $ multiplier : chr &amp;#34;&amp;#34;&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## $ combo_legs_desc: NULL&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## $ comboleg : NULL&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## $ include_expired: chr &amp;#34;0&amp;#34;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;As you may have noticed, we assigned the output of our request to a variable &lt;code&gt;appl&lt;/code&gt; in our workspace. Taking a look at it reveals it is an xts object of our daily bars for the last 30 calendar days.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;nf&#34;&gt;str&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;aapl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;## An ‘xts’ object from 2010-04-14 to 2010-05-13 containing:&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##   Data: num [1:22, 1:8] 245 246 249 247 248 ...&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##  - attr(*, &amp;#34;dimnames&amp;#34;)=List of 2&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##   ..$ : NULL&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##   ..$ : chr [1:8] &amp;#34;AAPL.Open&amp;#34; &amp;#34;AAPL.High&amp;#34; &amp;#34;AAPL.Low&amp;#34; &amp;#34;AAPL.Close&amp;#34; ...&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##   Indexed by objects of class: [POSIXt,POSIXct] TZ: America/Chicago&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##   xts Attributes:&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## List of 4&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##  $ from : chr &amp;#34;20100413 21:35:34&amp;#34;&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##  $ to : chr &amp;#34;20100513 21:35:34&amp;#34;&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##  $ src : chr &amp;#34;IB&amp;#34;&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;##  $ updated: POSIXct[1:1], format: &amp;#34;2010-05-13 15:35:36.396084&amp;#34;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The &lt;code&gt;reqHistoricalData()&lt;/code&gt; call takes a few arguments that can specify the &lt;code&gt;barSize&lt;/code&gt; and &lt;code&gt;duration&lt;/code&gt; of the data that is returned. Be warned that not all combinations work, not all working combinations are applicable to all contract types, and there are strict limits on how many queries you can make in any time period. These are IB enforced limitations and often are a source of great frustration when trying to reconcile why your simple request has failed. More information regarding the details of what works and when can be found in the &lt;a href=&#34;http://cran.r-project.org/web/packages/IBrokers/IBrokers.pdf&#34;&gt;IBrokers documentation,&lt;/a&gt; as well as the more authoritative &lt;a href=&#34;http://www.interactivebrokers.com/php/apiUsersGuide/apiguide/api/historical_data_limitations.htm&#34;&gt;reference&lt;/a&gt; from IB.&lt;/p&gt;
&lt;p&gt;Next time we&amp;rsquo;ll explore the real-time data features of IBrokers, including live market data, real-time bars, and order-book data capabilities.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Thoughts on LSPM from R/Finance 2010</title>
      <link>https://blog.fosstrading.com/2010/04/thoughts-on-lspm-from-rfinance-2010/</link>
      <pubDate>Sun, 18 Apr 2010 22:24:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2010/04/thoughts-on-lspm-from-rfinance-2010/</guid>
      <description>&lt;p&gt;I just got back from &lt;a href=&#34;http://www.rinfinance.com/&#34;&gt;R/Finance&lt;/a&gt; &lt;a href=&#34;http://www.rinfinance.com/&#34;&gt;2010&lt;/a&gt; in Chicago. If you couldn&amp;rsquo;t make it this year, I strongly encourage you to attend next year. I will post a more comprehensive review of the event in the next couple days, but I wanted to share some of my notes specific to &lt;a href=&#34;http://lspm.r-forge.r-project.org/&#34;&gt;LSPM&lt;/a&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;How sensitive are optimal-f values to the method used to construct the joint probability table?&lt;/li&gt;
&lt;li&gt;Is there an optimizer better suited for this problem (e.g. &lt;a href=&#34;http://en.wikipedia.org/wiki/CMA-ES&#34;&gt;CMA-ES&lt;/a&gt;, or &lt;a href=&#34;http://www.amazon.com/gp/product/3642015263?ie=UTF8&amp;amp;tag=fotr09-20&amp;amp;linkCode=as2&amp;amp;camp=1789&amp;amp;creative=390957&amp;amp;creativeASIN=3642015263&#34;&gt;adaptive differential evolution&lt;/a&gt;)?&lt;/li&gt;
&lt;li&gt;How accurate are the estimates of the probability of drawdown, ruin, profit, etc.?&lt;/li&gt;
&lt;li&gt;What could be learned from &lt;a href=&#34;http://en.wikipedia.org/wiki/Ruin_theory&#34;&gt;ruin theory&lt;/a&gt; (see the &lt;a href=&#34;http://cran.r-project.org/web/packages/actuar/index.html&#34;&gt;actuar&lt;/a&gt; package)?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;These notes are mostly from many great conversations I had with other attendees, rather than thoughts I had while listening to the presentations. That is not a criticism of the presentations, but an illustration of the quality of the other conference-goers.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Historical / Future Volatility Correlation Stability</title>
      <link>https://blog.fosstrading.com/2010/04/historical-future-volatility/</link>
      <pubDate>Sun, 11 Apr 2010 12:53:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2010/04/historical-future-volatility/</guid>
      <description>&lt;p&gt;Michael Stokes, author of the &lt;a href=&#34;http://marketsci.wordpress.com/&#34;&gt;MarketSci blog&lt;/a&gt; recently published &lt;a href=&#34;http://marketsci.wordpress.com/2010/04/09/correlation-between-historical-and-future-volatility/&#34;&gt;a thought-provoking post&lt;/a&gt; about the correlation between historical and future volatility (measured as the standard deviation of daily close price percentage changes). This post is intended as an extension of his &amp;ldquo;unfinished thought&amp;rdquo;, not a critique.&lt;/p&gt;
&lt;p&gt;He suggests using his table of volatility correlations as a back-of-the-envelope approach to estimate future volatility, which led me to question the stability of the correlations in his table. His table&amp;rsquo;s values are calculated using daily data from 1970-present&amp;hellip; but what if you were to calculate correlations using only one year of data, rather than thirty? The chart below shows the results.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.fosstrading.com/post/images/rolling_volatility_correlations.png&#34;&gt;&lt;img src=&#34;https://blog.fosstrading.com/post/images/rolling_volatility_correlations.png&#34; alt=&#34;&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The chart shows the rolling one-year (252-day) correlations for the diagonal in Michael&amp;rsquo;s table (e.g. historical and future 2-day volatility, &amp;hellip;, historical and future 252-day volatility). You can see the shorter periods are generally more stable, but are also closer to zero. The rolling one-year correlation between historical and future one-year volatility swings wildly from +/-1 over time.&lt;/p&gt;
&lt;p&gt;This isn&amp;rsquo;t to argue that Michael&amp;rsquo;s back-of-the-envelope approach is incorrect, rather it is an attempt to make the approach more robust by weighing long-term market characteristics against recent market behavior.&lt;/p&gt;
&lt;p&gt;For those interested, here is the &lt;a href=&#34;http://www.r-project.org/&#34;&gt;R&lt;/a&gt; code I used to replicate Michael&amp;rsquo;s table and create the graph above. An interesting extension of this analysis would be to calculate volatility using &lt;a href=&#34;http://cran.r-project.org/web/packages/TTR/&#34;&gt;TTR&amp;rsquo;s&lt;/a&gt; &lt;code&gt;volatility()&lt;/code&gt; function instead of standard deviation. I&amp;rsquo;ll leave that exercise to the interested reader.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;nf&#34;&gt;require&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;quantmod&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# pull SPX data from Yahoo Finance&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;getSymbols&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;^GSPC&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;1970-01-01&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# volatility horizons&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;v2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;runSD&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;ROC&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Cl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)),&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;v5&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;runSD&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;ROC&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Cl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)),&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;v10&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;runSD&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;ROC&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Cl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)),&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;v21&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;runSD&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;ROC&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Cl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)),&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;21&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;v63&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;runSD&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;ROC&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Cl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)),&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;63&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;v252&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;runSD&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;ROC&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Cl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)),&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;252&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# volatility horizon lags&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;l2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;lag&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;v2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;l5&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;lag&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;v5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;l10&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;lag&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;v10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;l21&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;lag&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;v21&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-21&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;l63&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;lag&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;v63&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-63&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;l252&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;lag&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;v252&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-252&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# volatility correlation table&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;cor&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GSPC[&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;7&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;18&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;use&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;pair&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;[1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;7&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;12&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;]&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# remove missing observations&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;na.omit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# rolling 1-year volatility correlations&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;c2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;runCor&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;v2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;l2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;252&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;c5&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;runCor&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;v5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;l5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;252&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;c10&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;runCor&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;v10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;l10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;252&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;c21&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;runCor&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;v21&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;l21&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;252&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;c63&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;runCor&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;v63&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;l63&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;252&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;c252&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;runCor&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;v252&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;l252&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;252&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# plot rolling 1-year volatility correlations&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;plot.zoo&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GSPC[&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;grep&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;c&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;colnames&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Rolling 252-Day Volitility Correlations&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>Maximum Probability of Profit</title>
      <link>https://blog.fosstrading.com/2010/04/maximum-probability-of-profit/</link>
      <pubDate>Fri, 09 Apr 2010 10:04:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2010/04/maximum-probability-of-profit/</guid>
      <description>&lt;p&gt;To continue with the &lt;a href=&#34;http://blog.fosstrading.com/2010/01/lspm-examples.html&#34;&gt;LSPM examples&lt;/a&gt;, this post shows how to optimize a Leverage Space Portfolio for the maximum probability of profit. The data and example are again taken from &lt;a href=&#34;http://www.amazon.com/gp/product/0470455950?ie=UTF8&amp;amp;tag=fosstrading-20&amp;amp;linkCode=as2&amp;amp;camp=1789&amp;amp;creative=9325&amp;amp;creativeASIN=0470455950&#34;&gt;The Leverage Space Trading Model&lt;/a&gt; by &lt;a href=&#34;http://www.ralphvince.com/&#34;&gt;Ralph Vince&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;These optimizations take a very long time. 100 iterations on a 10-core Amazon EC2 cluster took 21 hours. Again, the results will not necessarily match the book because of differences between &lt;a href=&#34;https://cran.r-project.org/package=DEoptim&#34;&gt;DEoptim&lt;/a&gt; and Ralph&amp;rsquo;s genetic algorithm and because there are multiple possible paths one can take through leverage space that will achieve similar results.&lt;/p&gt;
&lt;p&gt;The results from the EC2 run were:&lt;/p&gt;
&lt;p&gt;iteration: 100 best member: 0.0275 0 0.0315 -0.928 -1 best value: -0.9999&lt;/p&gt;
&lt;p&gt;The book results (on p. 173) were:&lt;/p&gt;
&lt;p&gt;iteration: 100 best member: 0.085 0.015 0.129 -0.76 -0.992 best value: -0.9999&lt;/p&gt;
&lt;p&gt;Specifying an initial population can give DEoptim an initial set of parameters that are within the constraint. This guarantees a starting point but it can slow optimization if the f (and/or z) values are too low. Therefore, experiment with the initial population to find a set of f (and/or z) values that produce a result within, but not far from, the constraint.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Load the LSPM and snow packages&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;library&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;LSPM&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;library&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;snow&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Multiple strategy example (data found on pp. 84-87, 169)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;trades&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;cbind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
  &lt;span class=&#34;nf&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-150&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-45.333&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-45.333&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;13&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;13&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;13&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;13&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;13&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;79.667&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;79.667&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;79.667&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;136&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;
  &lt;span class=&#34;nf&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;253&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-1000&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-64.429&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-64.429&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-64.429&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;253&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;253&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;448&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-64.429&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-64.429&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-64.429&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;253&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;
  &lt;span class=&#34;nf&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;533&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;220.143&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;220.143&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-500&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;533&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;220.143&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;799&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;220.143&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-325&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;220.143&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;533&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;220.143&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;probs&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0.076923076923&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0.076923076923&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0.153846153846&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0.076923076923&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;m&#34;&gt;0.076923076923&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0.076923076923&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0.076923076923&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0.076923076923&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;m&#34;&gt;0.076923076923&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0.076923076923&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0.076923076923&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0.076923076923&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Create a Leverage Space Portfolio object&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;port&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;lsp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;trades&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;probs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Number of population members&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;np&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;30&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Initial population&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;initpop&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;cbind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;runif&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;np&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0.01&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;runif&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;np&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0.01&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;runif&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;np&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0.01&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;
  &lt;span class=&#34;nf&#34;&gt;runif&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;np&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-0.8&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;runif&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;np&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-0.8&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# DEoptim parameters (see ?deoptim)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;DEctrl&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;list&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;NP&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;np&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;itermax&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;11&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;refresh&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;digits&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;initial&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;initpop&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Create a socket cluster with snow to use both cores&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# on a dual-core processor&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;cl&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;makeSOCKcluster&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Drawdown-constrained maximum probability of profit (results on p. 173)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;res&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;maxProbProfit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;1e-6&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;12&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;probDrawdown&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0.1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;DD&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0.2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;calc.max&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;snow&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;control&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;DEctrl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>TTR_0.20-2 on CRAN</title>
      <link>https://blog.fosstrading.com/2010/03/ttr-0-20-2-on-cran/</link>
      <pubDate>Tue, 30 Mar 2010 14:48:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2010/03/ttr-0-20-2-on-cran/</guid>
      <description>&lt;p&gt;An updated version of &lt;a href=&#34;http://cran.r-project.org/web/packages/TTR/&#34;&gt;TTR&lt;/a&gt; is now on &lt;a href=&#34;http://cran.r-project.org/&#34;&gt;CRAN&lt;/a&gt;. It fixes a couple bugs and includes a couple handy tweaks. Here&amp;rsquo;s the full contents of the CHANGES file:&lt;/p&gt;
&lt;p&gt;TTR version 0.20-2&lt;br&gt;
Changes from version 0.20-1&lt;/p&gt;
&lt;p&gt;NEW FEATURES:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Added &lt;code&gt;VWAP()&lt;/code&gt; and &lt;code&gt;VWMA()&lt;/code&gt; (thanks to Brian Peterson)&lt;/li&gt;
&lt;li&gt;Added v-factor generalization to &lt;code&gt;DEMA()&lt;/code&gt; (thanks to John Gavin)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;CHANGES:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Updated &lt;code&gt;volatility()&lt;/code&gt; to handle univariate case of &lt;code&gt;calc=&#39;close&#39;&lt;/code&gt; (thanks to Cedrick Johnson)&lt;/li&gt;
&lt;li&gt;Moved &lt;code&gt;EMA()&lt;/code&gt;, &lt;code&gt;SAR()&lt;/code&gt;, and &lt;code&gt;wilderSum()&lt;/code&gt; from &lt;code&gt;.Fortran()&lt;/code&gt; to &lt;code&gt;.Call()&lt;/code&gt; and used &lt;code&gt;xts:::naCheck()&lt;/code&gt; in lieu of TTR&amp;rsquo;s NA check mechanism&lt;/li&gt;
&lt;li&gt;&lt;code&gt;RSI()&lt;/code&gt; up/down momentum now faster with xts (thanks to Jeff Ryan)&lt;/li&gt;
&lt;li&gt;If &lt;code&gt;ratio&lt;/code&gt; is specified in &lt;code&gt;EMA()&lt;/code&gt; but &lt;code&gt;n&lt;/code&gt; is missing, the traditional value of &lt;code&gt;n&lt;/code&gt; is approximated and returned as the first non-NA value (thanks to Jeff Ryan)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;BUG FIXES:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Fix to &lt;code&gt;stoch()&lt;/code&gt; when &lt;code&gt;maType&lt;/code&gt; is a list and &lt;code&gt;n&lt;/code&gt; is not set in the list&amp;rsquo;s 3rd element (thanks to Wind Me)&lt;/li&gt;
&lt;li&gt;Fixed &lt;code&gt;fastK&lt;/code&gt; in &lt;code&gt;stoch()&lt;/code&gt; when &lt;code&gt;smooth != 1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Fixed segfault caused by &lt;code&gt;EMA()&lt;/code&gt; when &lt;code&gt;n &amp;lt; NROW(x)&lt;/code&gt; (thanks to Douglas Hobbs)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;test.EMA.wilder()&lt;/code&gt; failed under R-devel (thanks to Prof Brian Ripley)&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;container&#34; role=&#34;main&#34;&gt;
  &lt;div class=&#34;row&#34;&gt;
    &lt;hr&gt;
    &lt;p&gt;If you love using my open-source work (e.g. &lt;a href=&#34;https://cran.r-project.org/package=quantmod&#34;&gt;quantmod&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=TTR&#34;&gt;TTR&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=xts&#34;&gt;xts&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=IBrokers&#34;&gt;IBrokers&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=microbenchmark&#34;&gt;microbenchmark&lt;/a&gt;, etc.), you can give back by &lt;a href=&#34;https://github.com/sponsors/joshuaulrich/&#34;&gt;sponsoring me on GitHub&lt;/a&gt;. I truly appreciate anything you&amp;rsquo;re willing and able to give!&lt;/p&gt;

    &lt;p&gt;I look forward to your questions and feedback! If you have a question, please ask on &lt;a href=&#34;http://stackoverflow.com/&#34;&gt;Stack Overflow&lt;/a&gt; and use the &lt;a href=&#34;http://stackoverflow.com/questions/tagged/r&#34;&gt;[r]&lt;/a&gt; and &lt;a href=&#34;http://stackoverflow.com/questions/tagged/ttr&#34;&gt;[ttr]&lt;/a&gt; tags.  Or you can send an email to the &lt;a href=&#34;https://stat.ethz.ch/mailman/listinfo/r-sig-finance&#34;&gt;R-SIG-Finance&lt;/a&gt; mailing list (you must subscribe to post). Open an &lt;a href=&#34;https://github.com/joshuaulrich/ttr/issues&#34;&gt;issue on GitHub&lt;/a&gt; if you find a bug or want to request a feature. Please &lt;a href=&#34;https://github.com/joshuaulrich/ttr/blob/master/.github/CONTRIBUTING.md&#34;&gt;read the contributing guide&lt;/a&gt; first! It will help save time for both of us. ;-)&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;

</description>
    </item>
    
    <item>
      <title>Updated Tactical Asset Allocation Results</title>
      <link>https://blog.fosstrading.com/2010/02/updated-tactical-asset-allocation/</link>
      <pubDate>Sat, 06 Feb 2010 22:35:00 -0600</pubDate>
      
      <guid>https://blog.fosstrading.com/2010/02/updated-tactical-asset-allocation/</guid>
      <description>&lt;p&gt;In November, I used the strategy in &lt;a href=&#34;http://www.mebanefaber.com/&#34;&gt;Mebane Faber&amp;rsquo;s&lt;/a&gt; Tactical Asset Allocation &lt;a href=&#34;http://ssrn.com/abstract=962461&#34;&gt;paper&lt;/a&gt; to provide an &lt;a href=&#34;http://blog.fosstrading.com/2009/11/tactical-asset-allocation-using-blotter.html&#34;&gt;introduction to blotter&lt;/a&gt;. Faber has &lt;a href=&#34;http://www.mebanefaber.com/2010/02/05/quant-approach-to-taa-updated-for-2009/&#34;&gt;updated the strategy&amp;rsquo;s results&lt;/a&gt; through the end of 2009. For those interested, he expands on the paper in his book, &lt;a href=&#34;http://www.amazon.com/gp/product/0470284897?ie=UTF8&amp;amp;tag=fosstrading-20&amp;amp;linkCode=as2&amp;amp;camp=1789&amp;amp;creative=390957&amp;amp;creativeASIN=0470284897&#34;&gt;The Ivy Portfolio&lt;/a&gt;.&lt;img src=&#34;http://www.assoc-amazon.com/e/ir?t=fotr09-20&amp;amp;l=as2&amp;amp;o=1&amp;amp;a=0470284897&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>R/Finance 2010: Registration Open</title>
      <link>https://blog.fosstrading.com/2010/02/rfinance-2010-registration-open/</link>
      <pubDate>Fri, 05 Feb 2010 15:46:00 -0600</pubDate>
      
      <guid>https://blog.fosstrading.com/2010/02/rfinance-2010-registration-open/</guid>
      <description>&lt;p&gt;As posted by Dirk Eddelbuettel on R-SIG-Finance:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;R / Finance 2010: Applied Finance with R&lt;br&gt;
April 16 &amp;amp; 17, Chicago, IL, US&lt;/p&gt;
&lt;p&gt;The second annual R / Finance conference for applied finance using R, the premier free software system for statistical computation and graphics, will be held this spring in Chicago, IL, USA on Friday April 16 and Saturday April 17.&lt;/p&gt;
&lt;p&gt;Building on the success of the inaugural R / Finance 2009 event, this two-day conference will cover topics as diverse as portfolio theory, time-series analysis, as well as advanced risk tools, high-performance computing, and econometrics. All will be discussed within the context of using R as a primary tool for financial risk management and trading.&lt;/p&gt;
&lt;p&gt;Invited keynote presentations by Bernhard Pfaff, Ralph Vince, Mark Wildi and Achim Zeileis are complemented by over twenty talks (both full-length and &amp;lsquo;lightning&amp;rsquo;) selected from the submissions.  Four optional tutorials are also offered on Friday April 16.&lt;/p&gt;
&lt;p&gt;R / Finance 2010 is organized by a local group of R package authors and community contributors, and hosted by the International Center for Futures and Derivatives [ICFD] at the University of Illinois at Chicago.&lt;/p&gt;
&lt;p&gt;Conference registration is now open. Special advanced registration pricing is available, as well as discounted pricing for academic and student registrations.&lt;/p&gt;
&lt;p&gt;More details and registration information can be found at the website at&lt;/p&gt;
&lt;p&gt;                      &lt;a href=&#34;http://www.rinfinance.com/&#34;&gt;http://www.RinFinance.com&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;For the program committee:&lt;/p&gt;
&lt;p&gt;    Gib Bassett, Peter Carl, Dirk Eddelbuettel, John Miller,&lt;br&gt;
    Brian Peterson, Dale Rosenthal, Jeffrey Ryan&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I hope to meet some of you there!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>LSPM with snow</title>
      <link>https://blog.fosstrading.com/2010/01/lspm-with-snow/</link>
      <pubDate>Sun, 10 Jan 2010 17:01:00 -0600</pubDate>
      
      <guid>https://blog.fosstrading.com/2010/01/lspm-with-snow/</guid>
      <description>&lt;p&gt;My &lt;a href=&#34;http://blog.fosstrading.com/2010/01/lspm-examples.html&#34;&gt;last post&lt;/a&gt; provided examples of how to use the &lt;a href=&#34;http://r-forge.r-project.org/projects/lspm&#34;&gt;LSPM package&lt;/a&gt;. Those who experimented with the code have probably found that constrained optimizations with &lt;code&gt;horizon&lt;/code&gt; &amp;gt; 6 have long run-times (when &lt;code&gt;calc.max &amp;gt;= horizon&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;This post will illustrate how the &lt;a href=&#34;http://cran.r-project.org/web/packages/snow/&#34;&gt;snow&lt;/a&gt; package can increase the speed of the &lt;code&gt;probDrawdown()&lt;/code&gt; and &lt;code&gt;probRuin()&lt;/code&gt; functions on computers with multiple cores. This yields nearly linear improvements in run-times relative to the number of cores. (Improvements are nearly linear because there is overhead in setting up the cluster and communication between the nodes.)&lt;/p&gt;
&lt;p&gt;The first optimization takes 346 seconds on my 2.2Ghz Centrino, while the second optimization (with snow) takes 193 seconds&amp;hellip; nearly a 45% improvement.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Load the libraries  &lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;library&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;LSPM&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
&lt;span class=&#34;nf&#34;&gt;library&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;snow&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
  
&lt;span class=&#34;c1&#34;&gt;# Create a Leverage Space Portfolio object  &lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;trades&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;cbind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;  
&lt;span class=&#34;nf&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-150&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-45.33&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-45.33&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;rep&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;13&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;rep&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;79.67&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;136&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;  
&lt;span class=&#34;nf&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;253&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-1000&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;rep&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-64.43&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;253&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;253&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;448&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;rep&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-64.43&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;253&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;  
&lt;span class=&#34;nf&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;533&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;220.14&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;220.14&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-500&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;533&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;220.14&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;799&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;220.14&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-325&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;220.14&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;533&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;220.14&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
&lt;span class=&#34;n&#34;&gt;probs&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;rep&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0.076923077&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0.153846154&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;rep&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0.076923077&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;9&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;  
&lt;span class=&#34;n&#34;&gt;port&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;lsp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;trades&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;probs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
  
&lt;span class=&#34;c1&#34;&gt;# Optimization using one CPU core  &lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;system.time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;({&lt;/span&gt;  
  &lt;span class=&#34;n&#34;&gt;res1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;optimalf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;probDrawdown&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0.1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;DD&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0.2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;horizon&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;control&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;list&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;NP&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;30&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;itermax&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;  
&lt;span class=&#34;p&#34;&gt;})&lt;/span&gt;  
  
&lt;span class=&#34;c1&#34;&gt;# Create snow socket cluster for both cores  &lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;clust&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;makeSOCKcluster&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
  
&lt;span class=&#34;c1&#34;&gt;# Optimization using both CPU cores  &lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;system.time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;({&lt;/span&gt;  
  &lt;span class=&#34;n&#34;&gt;res2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;optimalf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;probDrawdown&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0.1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;DD&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0.2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;horizon&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;snow&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;clust&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;control&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;list&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;NP&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;30&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;itermax&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;  
&lt;span class=&#34;p&#34;&gt;})&lt;/span&gt;  
  
&lt;span class=&#34;c1&#34;&gt;# Stop snow cluster  &lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;stopCluster&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;clust&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>LSPM Examples</title>
      <link>https://blog.fosstrading.com/2010/01/lspm-examples/</link>
      <pubDate>Sat, 02 Jan 2010 15:35:00 -0600</pubDate>
      
      <guid>https://blog.fosstrading.com/2010/01/lspm-examples/</guid>
      <description>&lt;p&gt;I have received several requests for additional &lt;a href=&#34;https://r-forge.r-project.org/projects/lspm&#34;&gt;LSPM&lt;/a&gt; documentation over the past couple days and a couple months ago &lt;a href=&#34;http://blog.fosstrading.com/2009/09/update.html&#34;&gt;I promised an introduction&lt;/a&gt; to LSPM.&lt;/p&gt;
&lt;p&gt;In this long-overdue post, I will show how to optimize a Leverage Space Portfolio with the LSPM package.  Please use the comments to let me know what you would like to see next.&lt;/p&gt;
&lt;p&gt;Some copious notes before we get to the code:&lt;/p&gt;
&lt;p&gt;These examples are based on revision &lt;del&gt;26&lt;/del&gt; 31 from r-forge and will not work under earlier revisions (and may not work with later revisions). LSPM is still in &lt;strong&gt;very&lt;/strong&gt; alpha status.  Expect things to change, perhaps significantly.&lt;/p&gt;
&lt;p&gt;These examples were run using &lt;a href=&#34;http://cran.r-project.org/src/contrib/Archive/DEoptim/DEoptim_1.3-3.tar.gz&#34;&gt;DEoptim_1.3-3&lt;/a&gt; (and LSPM revision 26 depends on that version) code from DEoptim_1.3-3 that has been bundled inside LSPM.  We are working with the DEoptim authors to address issues with more recent versions of DEoptim.  LSPM will un-bundle and use the most recent version of DEoptim as soon as the issues are resolved.&lt;/p&gt;
&lt;p&gt;The first two examples are taken from &lt;a href=&#34;http://www.amazon.com/gp/product/0470455950?ie=UTF8&amp;amp;tag=fotr09-20&amp;amp;linkCode=as2&amp;amp;camp=1789&amp;amp;creative=9325&amp;amp;creativeASIN=0470455950&#34;&gt;Vince, Ralph (2009). The Leverage Space Trading Model. New York: John Wiley &amp;amp; Sons, Inc.&lt;/a&gt;&lt;img src=&#34;http://www.assoc-amazon.com/e/ir?t=fotr09-20&amp;amp;l=as2&amp;amp;o=1&amp;amp;a=0470455950&#34; alt=&#34;&#34;&gt; The results will not match the book because of differences between optimization via DEoptim and Ralph&amp;rsquo;s genetic algorithm implementation.  Ralph believes his genetic algorithm is getting hung up on a local maximum, whereas DEoptim is closer to the global solution.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Load the LSPM package  &lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;library&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;LSPM&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
  
&lt;span class=&#34;c1&#34;&gt;# Multiple strategy example (data found on pp. 84-87)  &lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;trades&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;cbind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;  
 &lt;span class=&#34;nf&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-150&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-45.33&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-45.33&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;rep&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;13&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;rep&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;79.67&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;136&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;  
 &lt;span class=&#34;nf&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;253&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-1000&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;rep&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-64.43&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;253&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;253&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;448&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;rep&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-64.43&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;253&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;  
 &lt;span class=&#34;nf&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;533&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;220.14&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;220.14&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-500&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;533&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;220.14&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;799&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;220.14&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-325&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;220.14&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;533&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;220.14&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
&lt;span class=&#34;n&#34;&gt;probs&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;rep&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0.076923077&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0.153846154&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;rep&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0.076923077&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;9&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;  

&lt;span class=&#34;c1&#34;&gt;# Create a Leverage Space Portfolio object  &lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;port&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;lsp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;trades&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;probs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
  
&lt;span class=&#34;c1&#34;&gt;# DEoptim parameters (see ?DEoptim)  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# NP=30        (10 * number of strategies)  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# itermax=100  (maximum number of iterations)  &lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;DEctrl&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;list&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;NP&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;30&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;itermax&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
  
&lt;span class=&#34;c1&#34;&gt;# Unconstrainted Optimal f (results on p. 87)  &lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;res&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;optimalf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;control&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;DEctrl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
  
&lt;span class=&#34;c1&#34;&gt;# Drawdown-constrained Optimal f (results on p. 137)  &lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# Since horizon=12, this optimization will take about an hour  &lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;res&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;optimalf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;probDrawdown&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0.1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;DD&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0.2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;horizon&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;12&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;calc.max&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;control&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;DEctrl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
  
&lt;span class=&#34;c1&#34;&gt;# Ruin-constrained Optimal f  &lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;res&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;optimalf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;probRuin&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0.1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;DD&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0.2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;horizon&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;control&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;DEctrl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
  
&lt;span class=&#34;c1&#34;&gt;# Drawdown-constrained Optimal f  &lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;res&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;optimalf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;probDrawdown&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0.1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;DD&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0.2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;horizon&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;control&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;DEctrl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>Tactical asset allocation using blotter</title>
      <link>https://blog.fosstrading.com/2009/11/tactical-asset-allocation-using-blotter/</link>
      <pubDate>Wed, 18 Nov 2009 21:18:00 -0600</pubDate>
      
      <guid>https://blog.fosstrading.com/2009/11/tactical-asset-allocation-using-blotter/</guid>
      <description>&lt;p&gt;&lt;strong&gt;&lt;em&gt;NOTE: If you simply want to test strategies in R, please see the post: &lt;a href=&#34;http://blog.fosstrading.com/2011/08/tactical-asset-allocation-using.html&#34;&gt;Tactical Asset Allocation Using quantstrat&lt;/a&gt;.  quantstrat uses blotter behind the scenes, but provides a higher level of abstraction.&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://r-forge.r-project.org/projects/blotter&#34;&gt;blotter&lt;/a&gt; is an &lt;a href=&#34;http://www.r-project.org/&#34;&gt;R&lt;/a&gt; package that tracks the P&amp;amp;L of your trading systems (or simulations), even if your portfolio spans many security types and/or currencies. This post uses blotter to track a simple two-ETF trading system.&lt;/p&gt;
&lt;p&gt;The contents of this post borrow heavily from code and comments in the &amp;ldquo;longtrend&amp;rdquo; demo script in the blotter package. Many thanks to &lt;a href=&#34;http://www.braverock.com/%7Epeter/&#34;&gt;Peter Carl&lt;/a&gt; and &lt;a href=&#34;http://www.braverock.com/%7Ebrian/&#34;&gt;Brian Peterson&lt;/a&gt; for their hard work.&lt;/p&gt;
&lt;p&gt;The first chart shows the result of holding an equal-weight portfolio of &lt;a href=&#34;http://finance.yahoo.com/q?s=SPY&#34;&gt;SPY&lt;/a&gt; and &lt;a href=&#34;http://finance.yahoo.com/q?s=IEF&#34;&gt;IEF&lt;/a&gt; from 2002-07-31 to 2009-10-31. The 2008 bear market led to a 30% drawdown in this portfolio.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.fosstrading.com/post/images/20091118_blotter_buyhold.png&#34;&gt;&lt;img src=&#34;https://blog.fosstrading.com/post/images/20091118_blotter_buyhold.png&#34; alt=&#34;&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The second chart shows the result of following &lt;a href=&#34;http://www.mebanefaber.com/&#34;&gt;Mebane Faber&amp;rsquo;s&lt;/a&gt; tactical asset allocation approach using the same ETFs and time period. Though it did not perform as well as buy-and-hold through 2007, the 2008 bear market only caused a 5% drawdown for this strategy. Both observations are consistent with the conclusion in &lt;a href=&#34;http://ssrn.com/abstract=962461&#34;&gt;Faber&amp;rsquo;s article&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.fosstrading.com/post/images/20091118_blotter_strategy.png&#34;&gt;&lt;img src=&#34;https://blog.fosstrading.com/post/images/20091118_blotter_strategy.png&#34; alt=&#34;&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Without further ado, here&amp;rsquo;s the code:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# This code implements the strategy found in:&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# Faber, Mebane T., &amp;#34;A Quantitative Approach to Tactical Asset Allocation.&amp;#34;&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# Journal of Risk Management (Spring 2007).&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# The article implements a simpler version of the 200-day SMA, opting for a&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# 10-month SMA because monthly data are more easily available in earlier&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# periods and lower granularity should translate to lower transaction costs.&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# The rules of the system are relatively simple:&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# - Buy when monthly price &amp;gt; 10-month SMA&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# - Sell and move to cash when monthly price &amp;lt; 10-month SMA&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# 1. All entry and exit prices are on the day of the signal at the close.&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# 2. All data series are total return series including dividends, updated monthly.&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# NOTE: For the purposes of this demo, we only use price returns.&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# 3. Cash returns are estimated with 90-day commercial paper. Margin rates for&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# leveraged models are estimated with the broker call rate.&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# NOTE: For the purposes of this demo, we ignore interest and leverage.&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# 4. Taxes, commissions, and slippage are excluded.&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Data:&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# This demo uses monthly data downloaded from Yahoo Finance for two ETFs: SPY and&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# IEF. These were chosen to illustrate the classic stock/bond asset portfolio.&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# Though longer serires would be preferred, data for IEF begin in mid-2002.&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Load required libraries&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;library&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;quantmod&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;library&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;TTR&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;library&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;blotter&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# r-forge revision 193&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;library&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;PerformanceAnalytics&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Set initial values&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;initDate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;2002-07-31&amp;#39;&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;endDate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;2009-10-31&amp;#39;&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;initEq&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;100000&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Set currency and instruments&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;currency&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;USD&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;stock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;IEF&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;currency&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;USD&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;multiplier&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;stock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;SPY&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;currency&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;USD&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;multiplier&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Load data with quantmod&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Loading data&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;symbols&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;IEF&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;SPY&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;getSymbols&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;symbols&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;initDate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;to&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;endDate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;index.class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;POSIXt&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;POSIXct&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Adjust prices for splits/dividends (thanks pg)&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#IEF = adjustOHLC(IEF)&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#SPY = adjustOHLC(SPY)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Convert data to monthly frequency (to.weekly() needs drop.time=FALSE)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;IEF&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;to.monthly&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;IEF&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;indexAt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;endof&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;SPY&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;to.monthly&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;SPY&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;indexAt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;endof&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Set up indicators with TTR&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Setting up indicators&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;IEF&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;SMA&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;SMA&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Cl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;IEF&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;SPY&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;SMA&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;SMA&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Cl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;SPY&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Set up a portfolio object and an account object in blotter&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;initPortf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;default&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;symbols&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;symbols&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;initDate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;initDate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;initAcct&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;default&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;portfolios&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;default&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;initDate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;initDate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;initEq&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;initEq&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;verbose&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;TRUE&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Create trades&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;NROW&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;SPY&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;CurrentDate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;SPY&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;[i]&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;equity&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getEndEq&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Account&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;default&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;CurrentDate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

  &lt;span class=&#34;nf&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;symbol&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;symbols&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;sym&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;symbol&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;ClosePrice&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;as.numeric&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Cl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sym[i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;Posn&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getPosQty&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Portfolio&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;default&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Symbol&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;symbol&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Date&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;CurrentDate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;UnitSize&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;as.numeric&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;trunc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;equity&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;NROW&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;symbols&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ClosePrice&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;# Position Entry (assume fill at close)&lt;/span&gt;
    &lt;span class=&#34;nf&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Posn&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;# No position, so test to initiate Long position&lt;/span&gt;
      &lt;span class=&#34;nf&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Cl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sym[i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sym[i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;SMA&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;# Store trade with blotter&lt;/span&gt;
        &lt;span class=&#34;nf&#34;&gt;addTxn&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;default&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Symbol&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;symbol&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;TxnDate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;CurrentDate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
          &lt;span class=&#34;n&#34;&gt;TxnPrice&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ClosePrice&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;TxnQty&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;UnitSize&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;TxnFees&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;verbose&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;verbose&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
      &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
      &lt;span class=&#34;c1&#34;&gt;# Have a position, so check exit&lt;/span&gt;
      &lt;span class=&#34;nf&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Cl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sym[i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sym[i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;SMA&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;# Store trade with blotter&lt;/span&gt;
        &lt;span class=&#34;nf&#34;&gt;addTxn&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Portfolio&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;default&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Symbol&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;symbol&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;TxnDate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;CurrentDate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
          &lt;span class=&#34;n&#34;&gt;TxnPrice&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ClosePrice&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;TxnQty&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Posn&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;TxnFees&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;verbose&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;verbose&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
      &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# End symbols loop&lt;/span&gt;

  &lt;span class=&#34;c1&#34;&gt;# Calculate P&amp;amp;L and resulting equity with blotter&lt;/span&gt;
  &lt;span class=&#34;nf&#34;&gt;updatePortf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Portfolio&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;default&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Dates&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;CurrentDate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
  &lt;span class=&#34;nf&#34;&gt;updateAcct&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;default&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Dates&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;CurrentDate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
  &lt;span class=&#34;nf&#34;&gt;updateEndEq&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Account&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;default&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Dates&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;CurrentDate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# End dates loop&lt;/span&gt;


&lt;span class=&#34;c1&#34;&gt;# Buy and Hold cumulative equity&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;buyhold&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;exp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;cumsum&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0.5&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;ROC&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Cl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;IEF&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0.5&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;ROC&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Cl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;SPY&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-1&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Final values&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;cat&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;Tactical Asset Allocation Return: &amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;getEndEq&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Account&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;default&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Date&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;CurrentDate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;initEq&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;initEq&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;\n&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;cat&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;Buy and Hold Return: &amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;tail&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;buyhold&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;\n&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Plot Strategy Summary&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;png&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;filename&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;20091118_blotter_strategy.png&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;720&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;720&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;#charts.PerformanceSummary(ROC(getAccount(&amp;#39;default&amp;#39;)$TOTAL$End.Eq)[-1],main=&amp;#34;Tactical Asset Allocation&amp;#34;)&lt;/span&gt;

&lt;span class=&#34;nf&#34;&gt;charts.PerformanceSummary&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;ROC&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;getAccount&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;default&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;summary&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;End.Eq&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-1&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Tactical Asset Allocation&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;nf&#34;&gt;dev.off&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Plot Buy and Hold Summary&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;png&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;filename&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;20091118_blotter_buyhold.png&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;720&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;720&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;charts.PerformanceSummary&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;ROC&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;buyhold&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-1&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Buy &amp;amp; Hold&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;dev.off&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>opentick alternatives</title>
      <link>https://blog.fosstrading.com/2009/11/opentick-alternatives/</link>
      <pubDate>Thu, 05 Nov 2009 18:54:00 -0600</pubDate>
      
      <guid>https://blog.fosstrading.com/2009/11/opentick-alternatives/</guid>
      <description>&lt;p&gt;I&amp;rsquo;ve been getting a bit of traffic from people searching for opentick &lt;a href=&#34;http://blog.fosstrading.com/2009/04/opentick-is-no-more.html&#34;&gt;(the defunct company)&lt;/a&gt;, so I&amp;rsquo;ve started a list of similar (but non-free) data providers.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;m not affiliated with any of these vendors, and the list is in no particular order. I&amp;rsquo;ll update this post as more information becomes available.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.iqfeed.net/&#34;&gt;IQFeed&lt;/a&gt;&lt;br&gt;
- &lt;a href=&#34;http://www.iqfeed.net/index.cfm?displayaction=data&amp;amp;section=services&#34;&gt;features&lt;/a&gt;, &lt;a href=&#34;http://www.iqfeed.net/index.cfm?displayaction=data&amp;amp;section=fees&#34;&gt;fees&lt;/a&gt;, &lt;a href=&#34;http://www.iqfeed.net/index.cfm?displayaction=developer&amp;amp;section=main&#34;&gt;API&lt;/a&gt;**&lt;br&gt;
- starts at $60/month*&lt;br&gt;
- OS: Windows&lt;br&gt;
- Same API as &lt;a href=&#34;http://www.dtniq.com/&#34;&gt;DTN.IQ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.esignal.com/&#34;&gt;eSignal&lt;/a&gt;&lt;br&gt;
- &lt;a href=&#34;http://www.esignal.com/esignal/features_exp.aspx?name=all&#34;&gt;features&lt;/a&gt;, &lt;a href=&#34;http://www.esignal.com/esignal/pricing.aspx&#34;&gt;fees&lt;/a&gt;, &lt;a href=&#34;http://www.esignal.com/esignal/features_exp.aspx?name=activex&#34;&gt;API&lt;/a&gt;**&lt;br&gt;
- starts at $125/month*&lt;br&gt;
- OS: Windows&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.eoddata.com/Default.aspx&#34;&gt;eoddata&lt;/a&gt;&lt;br&gt;
- &lt;a href=&#34;http://www.eoddata.com/Products/Default.aspx&#34;&gt;features, fees, API&lt;/a&gt;&lt;br&gt;
- some data are free, as low as 1-minute intraday data for $19.95/month&lt;br&gt;
- OS: Windows&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.marketfeed.com/&#34;&gt;Marketfeed&lt;/a&gt;&lt;br&gt;
- &lt;a href=&#34;http://www.marketfeed.com/Integration_Basic.htm&#34;&gt;features, fees, API&lt;/a&gt;**&lt;br&gt;
- starts at $20/month*, access via API starts at $400/year&lt;br&gt;
- OS: Windows&lt;/p&gt;
&lt;p&gt;Notes:&lt;br&gt;
* plus exchange fees&lt;br&gt;
** API access may cost extra&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Xasax closes shop</title>
      <link>https://blog.fosstrading.com/2009/10/xasax-closes-shop/</link>
      <pubDate>Sun, 18 Oct 2009 11:21:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2009/10/xasax-closes-shop/</guid>
      <description>&lt;p&gt;Six months after &lt;a href=&#34;http://blog.fosstrading.com/2009/04/opentick-is-no-more.html&#34;&gt;shutting down opentick completely&lt;/a&gt; Xasax (opentick&amp;rsquo;s parent company) has followed suit.&lt;/p&gt;
&lt;p&gt;It looks like Xasax hit funding problems in August&amp;hellip; &lt;a href=&#34;http://www.watersonline.com/public/showPage.html?page=imd_index&#34;&gt;Inside Market Data&lt;/a&gt; mentions the above in &lt;a href=&#34;http://www.watersonline.com/public/showPage.html?page=868403&#34;&gt;this story&lt;/a&gt;. Here is the &lt;a href=&#34;http://www.watersonline.com/public/showPage.html?page=868401&#34;&gt;full story&lt;/a&gt; (subscription required).&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Update</title>
      <link>https://blog.fosstrading.com/2009/09/update/</link>
      <pubDate>Tue, 22 Sep 2009 22:37:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2009/09/update/</guid>
      <description>&lt;p&gt;I can&amp;rsquo;t believe it&amp;rsquo;s been two months since I last posted&amp;hellip; wow, time has a way of slipping through my fingers.  Here&amp;rsquo;s a short list of some upcoming posts:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;An introduction to &lt;a href=&#34;https://r-forge.r-project.org/projects/lspm&#34;&gt;LSPM&lt;/a&gt; &amp;ndash; a new R package that implements &lt;a href=&#34;http://parametricplanet.com/rvince/&#34;&gt;Ralph Vince&amp;rsquo;s&lt;/a&gt; leverage space portfolio model (co-authored with &lt;a href=&#34;http://dopeness.org/&#34;&gt;Soren Macbeth&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Updated charting with &lt;a href=&#34;http://www.quantmod.com/&#34;&gt;quantmod&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;An introduction to &lt;a href=&#34;https://r-forge.r-project.org/projects/blotter&#34;&gt;blotter&lt;/a&gt; &amp;ndash; a transaction-based infrastructure for trading systems and simulation, providing support for multi-asset class and multi-currency portfolios.&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>David Varadi&#39;s RSI(2) alternative</title>
      <link>https://blog.fosstrading.com/2009/07/david-varadis-rsi2-alternative/</link>
      <pubDate>Sun, 19 Jul 2009 08:38:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2009/07/david-varadis-rsi2-alternative/</guid>
      <description>&lt;p&gt;Here&amp;rsquo;s a quick R implementation of &lt;a href=&#34;http://cssanalytics.wordpress.com/&#34;&gt;David Varadi&amp;rsquo;s&lt;/a&gt; alternative to the RSI(2).  Michael Stokes over at the &lt;a href=&#34;http://marketsci.wordpress.com/&#34;&gt;MarketSci&lt;/a&gt; blog has three great posts exploring this indicator:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;https://web.archive.org/web/20131217014112/https://marketsci.wordpress.com/2009/07/15/varadi%E2%80%99s-rsi2-alternative-the-dv2/&#34;&gt;Varadi&amp;rsquo;s RSI(2) Alternative: The DV(2)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://web.archive.org/web/20130910080328/http://marketsci.wordpress.com/2009/07/16/rsi2-vs-dv2/&#34;&gt;RSI(2) vs. DV(2)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://web.archive.org/web/20131017073837/http://marketsci.wordpress.com/2009/07/17/last-couple-of-notes-on-dv2/&#34;&gt;Last Couple of Notes on DV(2)&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Here&amp;rsquo;s the R code:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;n&#34;&gt;DV&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;HLC&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;bounded&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;FALSE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;  
  &lt;span class=&#34;c1&#34;&gt;# &amp;#34;HLC&amp;#34; is an _xts_ object with &amp;#34;High&amp;#34;, &amp;#34;Low&amp;#34;, and &amp;#34;Close&amp;#34;  &lt;/span&gt;
  &lt;span class=&#34;c1&#34;&gt;# columns, in that order.  &lt;/span&gt;
  
  &lt;span class=&#34;c1&#34;&gt;# This is David Varadi&amp;#39;s alternative to the RSI(2).  Calculations  &lt;/span&gt;
  &lt;span class=&#34;c1&#34;&gt;# taken from the marketsci blog -- http://marketsci.wordpress.com  &lt;/span&gt;
  &lt;span class=&#34;c1&#34;&gt;# Author of this implementation: Joshua Ulrich  &lt;/span&gt;
  
  &lt;span class=&#34;c1&#34;&gt;# Calculate each day&amp;#39;s high/low mean  &lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;hlMean&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;rowMeans&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;HLC[&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-3&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
  
  &lt;span class=&#34;c1&#34;&gt;# Calculate the running Mean of the Close divided by the  &lt;/span&gt;
  &lt;span class=&#34;c1&#34;&gt;# high/low mean, then subtract 1.  &lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;res&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;runMean&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;HLC[&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;hlMean&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;  
  
  &lt;span class=&#34;c1&#34;&gt;# If we want the bounded DV...  &lt;/span&gt;
  &lt;span class=&#34;nf&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;bounded&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;  
    &lt;span class=&#34;c1&#34;&gt;# Set the range to calculated the bounded DV  &lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;rng&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;252&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;NROW&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;res&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
  
    &lt;span class=&#34;c1&#34;&gt;# Grab the index of the unbounded results, so we can convert  &lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;# the bounded results back to an xts object.  &lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;indx&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;index&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;res&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
  
    &lt;span class=&#34;c1&#34;&gt;# A simple percent rank function hack  &lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;pctRank&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;match&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x[i]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;sort&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;coredata&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-251&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)))&lt;/span&gt;  
  
    &lt;span class=&#34;c1&#34;&gt;# Apply the percent rank function to the coredata of our results  &lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;res&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;sapply&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;rng&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;pctRank&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;res&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;252&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
  
    &lt;span class=&#34;c1&#34;&gt;# Convert the bounded results to xts  &lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;res&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;xts&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;rep&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;NA&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;251&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;res&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;indx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;  
  
  &lt;span class=&#34;c1&#34;&gt;# Return results  &lt;/span&gt;
  &lt;span class=&#34;nf&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;res&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>RSI(2) Evaluation</title>
      <link>https://blog.fosstrading.com/2009/06/rsi2-evaluation/</link>
      <pubDate>Sun, 28 Jun 2009 22:02:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2009/06/rsi2-evaluation/</guid>
      <description>&lt;p&gt;This post continues the series of investigating the RSI(2) strategy. The &lt;a href=&#34;http://blog.fosstrading.com/2009/04/testing-rsi2-with-r.html&#34;&gt;first post&lt;/a&gt; replicated this &lt;a href=&#34;http://marketsci.wordpress.com/2008/12/09/trading-with-rsi2/&#34;&gt;simple RSI(2) strategy&lt;/a&gt; from the &lt;a href=&#34;http://marketsci.wordpress.com/&#34;&gt;MarketSci Blog&lt;/a&gt; using &lt;a href=&#34;http://www.r-project.org/&#34;&gt;R&lt;/a&gt;. The &lt;a href=&#34;http://blog.fosstrading.com/2009/05/rsi2-with-position-sizing.html&#34;&gt;second post&lt;/a&gt; showed how to replicate &lt;a href=&#34;http://marketsci.wordpress.com/2008/12/14/trading-strategy-scaling-inout-of-rsi2/&#34;&gt;the strategy&lt;/a&gt; that scales in/out of RSI(2).&lt;/p&gt;
&lt;p&gt;If you like the RSI(2), be sure to check out &lt;a href=&#34;http://blog.fosstrading.com/2009/07/david-varadis-rsi2-alternative.html&#34;&gt;David Varadi&amp;rsquo;s RSI(2) alternative&lt;/a&gt;!&lt;/p&gt;
&lt;p&gt;This post will use the &lt;a href=&#34;http://cran.r-project.org/web/packages/PerformanceAnalytics/&#34;&gt;PerformanceAnalytics&lt;/a&gt; package to evaluate the rules that scale in/out of positions. I&amp;rsquo;ve also provided a simple function that provides some summary statistics. There is a lot of code, so I put it at the end of the post.&lt;/p&gt;
&lt;p&gt;Table 1 contains output from my simple trade summary function (the wins and losses are in percentages, i.e. 0.69 is 69 basis points). The short side of the rule traded more often and had a lower win rate. The short side overcame its lower win rate via much higher mean and median win/loss ratios.&lt;/p&gt;
&lt;p&gt;Table 1: RSI(2) Trade Statistics - RSI steps = 5, Size steps = 0.25&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:right&#34;&gt;Signal&lt;/th&gt;
&lt;th style=&#34;text-align:right&#34;&gt;# Trades&lt;/th&gt;
&lt;th style=&#34;text-align:right&#34;&gt;% Win&lt;/th&gt;
&lt;th style=&#34;text-align:right&#34;&gt;Mean Win&lt;/th&gt;
&lt;th style=&#34;text-align:right&#34;&gt;Mean Loss&lt;/th&gt;
&lt;th style=&#34;text-align:right&#34;&gt;Median Win&lt;/th&gt;
&lt;th style=&#34;text-align:right&#34;&gt;Median Loss&lt;/th&gt;
&lt;th style=&#34;text-align:right&#34;&gt;Mean W/L&lt;/th&gt;
&lt;th style=&#34;text-align:right&#34;&gt;Median W/L&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right&#34;&gt;-1.00&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;133&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;58&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;0.69&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;-0.44&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;0.53&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;-0.25&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;1.55&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;2.12&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right&#34;&gt;-0.75&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;173&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;49&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;0.62&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;-0.39&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;0.37&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;-0.25&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;1.60&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;1.48&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right&#34;&gt;-0.50&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;143&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;54&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;0.43&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;-0.36&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;0.28&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;-0.19&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;1.19&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;1.51&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right&#34;&gt;-0.25&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;158&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;56&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;0.21&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;-0.19&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;0.14&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;-0.13&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;1.15&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;1.08&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right&#34;&gt;0.00&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;1262&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;0&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;NaN&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;NaN&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;NA&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;NA&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;NaN&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;NA&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right&#34;&gt;0.25&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;117&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;53&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;0.26&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;-0.31&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;0.18&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;-0.21&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;0.83&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;0.86&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right&#34;&gt;0.50&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;137&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;58&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;0.51&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;-0.58&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;0.31&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;-0.35&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;0.87&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;0.89&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right&#34;&gt;0.75&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;143&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;62&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;0.88&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;-0.89&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;0.50&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;-0.71&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;0.99&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;0.70&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right&#34;&gt;1.00&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;119&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;63&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;1.34&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;-1.41&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;0.80&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;-1.11&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;0.95&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;0.71&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Table 2 shows the output from the PerformanceAnalytics &lt;code&gt;table.Drawdowns()&lt;/code&gt; function. The largest percentage drawdown occurred in late 2008, but only lasted a few weeks.&lt;/p&gt;
&lt;p&gt;The table also shows the system is prone to drawdowns that trough quickly and take months to recover from. A week of bad trades can take months to recover from.&lt;/p&gt;
&lt;p&gt;Table 2: RSI(2) Drawdowns - RSI steps = 5, Size steps = 0.25&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:right&#34;&gt;From&lt;/th&gt;
&lt;th style=&#34;text-align:right&#34;&gt;Trough&lt;/th&gt;
&lt;th style=&#34;text-align:right&#34;&gt;To&lt;/th&gt;
&lt;th style=&#34;text-align:right&#34;&gt;Depth&lt;/th&gt;
&lt;th style=&#34;text-align:right&#34;&gt;Length&lt;/th&gt;
&lt;th style=&#34;text-align:right&#34;&gt;To Trough&lt;/th&gt;
&lt;th style=&#34;text-align:right&#34;&gt;Recovery&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right&#34;&gt;2008-10-06&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;2008-10-10&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;2008-10-28&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;-0.157&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;17&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;5&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;12&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right&#34;&gt;2001-08-30&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;2001-09-21&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;2002-01-23&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;-0.091&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;96&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;12&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;84&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right&#34;&gt;2002-07-19&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;2002-07-23&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;2002-08-20&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;-0.088&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;23&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;3&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;20&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right&#34;&gt;2000-03-22&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;2000-04-14&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;2000-07-05&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;-0.076&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;73&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;18&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;55&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right&#34;&gt;2009-02-17&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;2009-02-23&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;2009-04-27&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;-0.070&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;49&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;5&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;44&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right&#34;&gt;2003-03-14&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;2003-03-21&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;2003-05-09&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;-0.055&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;40&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;6&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;34&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right&#34;&gt;2000-10-09&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;2000-10-12&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;2000-12-06&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;-0.052&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;42&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;4&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;38&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right&#34;&gt;2002-08-29&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;2002-09-24&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;2002-10-10&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;-0.051&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;30&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;18&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;12&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right&#34;&gt;2008-01-02&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;2008-01-22&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;2008-03-11&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;-0.045&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;48&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;14&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;34&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right&#34;&gt;2001-04-18&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;2001-06-18&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;2001-08-10&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;-0.045&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;81&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;43&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;38&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Table 3 shows the output from the PerformanceAnalytics &lt;code&gt;table.DownsideRisk()&lt;/code&gt; function. The ratio of gain/loss deviation is encouraging. I have to defer to the PerformanceAnalytics documentation and vignettes to describe the rest of the table.&lt;/p&gt;
&lt;p&gt;Table 3: RSI(2) Downside Risk - RSI steps = 5, Size steps = 0.25&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Statistic&lt;/th&gt;
&lt;th style=&#34;text-align:right&#34;&gt;Return&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Semi Deviation&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;0.0050&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Gain Deviation&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;0.0094&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Loss Deviation&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;0.0076&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Downside Deviation (MAR=10%)&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;0.0099&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Downside Deviation (rf=0%)&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;0.0092&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Downside Deviation (0%)&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;0.0092&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Maximum Drawdown&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;-0.1572&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;VaR (99%)&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;0.0160&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Beyond VaR&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;0.0160&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Modified VaR (99%)&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;0.0705&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;The chart below shows the output from the PerformanceAnalytics &lt;code&gt;charts.PerformanceSummary()&lt;/code&gt; function. It shows the equity curves and drawdown from peak for the long and short sides of the strategy. The middle graph shows the &lt;em&gt;daily&lt;/em&gt; returns for the combined strategy.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.fosstrading.com/post/images/20090606_rsi2_performance.png&#34;&gt;&lt;img src=&#34;https://blog.fosstrading.com/post/images/20090606_rsi2_performance.png&#34; alt=&#34;&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The code below has everything that created the results above. It also contains the same results for a modified RSI(2) strategy. The modified strategy uses RSI steps of 10 and sizing steps of 0.3 (i.e. RSI&amp;lt;10 -&amp;gt; size=1, 10&amp;lt;20 -&amp;gt; size=0.7, etc.).&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Attach packages. You can install packages via:&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# install.packages(c(&amp;#34;quantmod&amp;#34;,&amp;#34;TTR&amp;#34;,&amp;#34;PerformanceAnalytics&amp;#34;))&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;library&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;quantmod&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;library&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;TTR&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;library&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;PerformanceAnalytics&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Pull S&amp;amp;P500 index data from Yahoo! Finance&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;getSymbols&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;^GSPC&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;2000-01-01&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Calculate the RSI indicator&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;rsi&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;RSI&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Cl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Calculate Close-to-Close returns&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;ret&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;ROC&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Cl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;ret[1]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# This function gives us some standard summary&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# statistics for our trades.&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;tradeStats&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;signals&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;returns&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# Inputs:&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# signals : trading signals&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# returns : returns corresponding to signals&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Combine data and convert to data.frame&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;sysRet&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;signals&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;returns&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;posRet&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sysRet&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# Positive rule returns&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;negRet&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sysRet&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# Negative rule returns&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;dat&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;cbind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;signals&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;posRet&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sysRet[posRet]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sysRet[negRet]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;dat&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;as.data.frame&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dat&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Aggreate data for summary statistics&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;means&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;aggregate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dat[&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;by&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;list&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dat[&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;mean&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;na.rm&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;TRUE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;medians&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;aggregate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dat[&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;by&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;list&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dat[&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;median&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;na.rm&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;TRUE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;sums&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;aggregate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dat[&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;by&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;list&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dat[&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sum&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;nf&#34;&gt;colnames&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;means&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Signal&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;% Win&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Mean Win&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Mean Loss&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;colnames&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;medians&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Signal&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Median Win&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Median Loss&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;colnames&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sums&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Signal&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;# Trades&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;all&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;merge&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sums&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;means&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;all&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;merge&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;all&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;medians&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;wl&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;cbind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;abs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;all[&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Mean Win&amp;#34;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;all[&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Mean Loss&amp;#34;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;abs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;all[&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Median Win&amp;#34;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;all[&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Median Loss&amp;#34;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;colnames&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;wl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Mean W/L&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Median W/L&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;all&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;cbind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;all&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;wl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;all&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# This function determines position size and&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# enables us to test several ideas with much&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# greater speed and flexibility.&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;rsi2pos&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;indIncr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;posIncr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0.25&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# Inputs:&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# ind : indicator vector&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# indIncr : indicator value increments/breakpoints&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# posIncr : position value increments/breakpoints&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Initialize result vector&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;size&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;rep&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;NROW&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Long&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;size&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;ifelse&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ind&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;indIncr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;posIncr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;size&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;ifelse&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ind&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;indIncr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;posIncr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;size&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;ifelse&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ind&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;indIncr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;posIncr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;size&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;ifelse&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ind&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;indIncr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;posIncr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Short&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;size&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;ifelse&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ind&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;100-4&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;indIncr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;posIncr&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;size&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;ifelse&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ind&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;100-3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;indIncr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;posIncr&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;size&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;ifelse&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ind&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;100-2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;indIncr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;posIncr&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;size&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;ifelse&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ind&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;100-1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;indIncr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;posIncr&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Today&amp;#39;s position (&amp;#39;size&amp;#39;) is based on today&amp;#39;s&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# indicator, but we need to apply today&amp;#39;s position&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# to the Close-to-Close return at tomorrow&amp;#39;s close.&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;size&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;lag&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Replace missing signals with no position&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# (generally just at beginning of series)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;[is.na&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Return results&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Calculate signals with the &amp;#39;rsi2pos()&amp;#39; function,&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# using 5 as the RSI step: 5, 10, 15, 20, 80, 85, 90, 95&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# and 0.25 as the size step: 0.25, 0.50, 0.75, 1.00&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;sig&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;rsi2pos&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;rsi&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0.25&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Break out the long (up) and short (dn) signals&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;sigup&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;ifelse&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sig&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sig&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;sigdn&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;ifelse&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sig&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sig&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Calculate rule returns&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;ret_up&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ret&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sigup&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;colnames&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ret_up&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;Long System Return&amp;#39;&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;ret_dn&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ret&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sigdn&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;colnames&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ret_dn&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;Short System Return&amp;#39;&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;ret_all&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ret&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sig&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;colnames&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ret_all&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;Total System Return&amp;#39;&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Create performance graphs&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;png&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;filename&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;20090606_rsi2_performance.png&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;720&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;720&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;charts.PerformanceSummary&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;cbind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ret_up&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ret_dn&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;methods&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;none&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;RSI(2) Performance - RSI steps = 5, Size steps = 0.25&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;dev.off&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Print trade statistics table&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;cat&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;\nRSI(2) Trade Statistics - RSI steps = 5, Size steps = 0.25\n&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;tradeStats&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sig&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ret&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Print drawdown table&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;cat&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;\nRSI(2) Drawdowns - RSI steps = 5, Size steps = 0.25\n&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;table.Drawdowns&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ret_all&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;top&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Print downside risk table&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;cat&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;\nRSI(2) Downside Risk - RSI steps = 5, Size steps = 0.25\n&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;table.DownsideRisk&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ret_all&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Calculate signals with the &amp;#39;rsi2pos()&amp;#39; function&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# using new RSI and size step values&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;sig&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;rsi2pos&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;rsi&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0.3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Break out the long (up) and short (dn) signals&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;sigup&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;ifelse&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sig&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sig&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;sigdn&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;ifelse&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sig&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sig&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Calculate rule returns&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;ret_up&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ret&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sigup&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;colnames&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ret_up&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;Long System Return&amp;#39;&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;ret_dn&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ret&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sigdn&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;colnames&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ret_dn&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;Short System Return&amp;#39;&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;ret_all&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ret&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sig&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;colnames&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ret_all&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;Total System Return&amp;#39;&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Calculate performance statistics&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;png&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;filename&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;20090606_rsi2_performance_updated.png&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;720&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;720&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;charts.PerformanceSummary&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;cbind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ret_up&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ret_dn&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;methods&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;none&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;RSI(2) Performance - RSI steps = 10, Size steps = 0.30&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;dev.off&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Print trade statistics table&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;cat&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;\nRSI(2) Trade Statistics - RSI steps = 10, Size steps = 0.30\n&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;tradeStats&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sig&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ret&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Print drawdown table&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;cat&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;\nRSI(2) Drawdowns - RSI steps = 10, Size steps = 0.30\n&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;table.Drawdowns&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ret_all&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;top&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Print downside risk table&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;cat&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;\nRSI(2) Downside Risk - RSI steps = 10, Size steps = 0.30\n&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;table.DownsideRisk&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ret_all&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>Packages featured with Inference for R</title>
      <link>https://blog.fosstrading.com/2009/05/packages-featured-with-inference-for-r/</link>
      <pubDate>Tue, 12 May 2009 09:22:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2009/05/packages-featured-with-inference-for-r/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;http://r-forge.r-project.org/projects/quantmod/&#34;&gt;quantmod&lt;/a&gt;, &lt;a href=&#34;http://r-forge.r-project.org/projects/ttr/&#34;&gt;TTR&lt;/a&gt;, and &lt;a href=&#34;http://r-forge.r-project.org/projects/xts/&#34;&gt;xts&lt;/a&gt; were (not so) recently featured on the &lt;a href=&#34;http://inferenceforr.com/blog/default.aspx&#34;&gt;Inference for R Blog&lt;/a&gt;. &lt;a href=&#34;http://inferenceforr.com/default.aspx&#34;&gt;Inference for R&lt;/a&gt; is a Integrated Development Environment (IDE) designed specifically for &lt;a href=&#34;http://www.r-project.org/&#34;&gt;R&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://inferenceforr.com/blog/Lists/Posts/Post.aspx?ID=17&#34;&gt;The post&lt;/a&gt; gives an example of how to easily perform advanced financial stock analysis using Inference in Excel.&lt;/p&gt;
&lt;p&gt;I appreciate how they&amp;rsquo;re making &lt;a href=&#34;http://www.r-project.org/&#34;&gt;R&lt;/a&gt; more accessible to a general audience, even though I like a command line interface and my preferred development environment is &lt;a href=&#34;http://www.vim.org&#34;&gt;vim&lt;/a&gt;. :-)&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>R/Finance 2009 Presentations Online</title>
      <link>https://blog.fosstrading.com/2009/05/rfinance-2009-presentations-online/</link>
      <pubDate>Mon, 04 May 2009 10:21:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2009/05/rfinance-2009-presentations-online/</guid>
      <description>&lt;p&gt;Posted to the R-SIG-Finance mailing list today:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;For those who missed it, the slides for the R/Finance 2009 tutorials&lt;br&gt;
and presentations are now available on RinFinance.com&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.RinFinance.com/presentations&#34;&gt;http://www.RinFinance.com/presentations&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;We want to thank everyone who traveled to Chicago to make this happen. With nearly 200 attendees, coming from 8 countries and 20+ states in the US, the conference exceeded all of our expectations. A very big thank you to our presenters for taking the time to join us, UIC&amp;rsquo;s International Center for Futures and Derivatives for hosting the event, and our sponsors REvolution Computing and Microsoft for their support.&lt;/p&gt;
&lt;p&gt;We look forward to doing it again in the future. Stay tuned&amp;hellip;&lt;/p&gt;
&lt;p&gt;On behalf of the committee and sponsors.&lt;/p&gt;
&lt;/blockquote&gt;
</description>
    </item>
    
    <item>
      <title>RSI(2) with Position Sizing</title>
      <link>https://blog.fosstrading.com/2009/05/rsi2-with-position-sizing/</link>
      <pubDate>Fri, 01 May 2009 20:58:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2009/05/rsi2-with-position-sizing/</guid>
      <description>&lt;p&gt;Though it&amp;rsquo;s more than two weeks later, here&amp;rsquo;s the second post in the series that will demonstrate how to build, test, and implement a trading strategy with &lt;a href=&#34;http://www.r-project.org/&#34;&gt;R&lt;/a&gt;. You can find the first post &lt;a href=&#34;http://blog.fosstrading.com/2009/04/testing-rsi2-with-r.html&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The &lt;a href=&#34;http://blog.fosstrading.com/2009/04/testing-rsi2-with-r.html&#34;&gt;first post&lt;/a&gt; replicated this &lt;a href=&#34;http://marketsci.wordpress.com/2008/12/09/trading-with-rsi2/&#34;&gt;simple RSI(2) strategy&lt;/a&gt; from the &lt;a href=&#34;http://marketsci.wordpress.com/&#34;&gt;MarketSci Blog&lt;/a&gt;. This second post will demonstrate how to replicate &lt;a href=&#34;http://marketsci.wordpress.com/2008/12/14/trading-strategy-scaling-inout-of-rsi2/&#34;&gt;this strategy&lt;/a&gt; that scales in/out of RSI(2).&lt;/p&gt;
&lt;p&gt;A couple notes before moving to the code:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The &lt;code&gt;rsi2pos()&lt;/code&gt; function isn&amp;rsquo;t &lt;em&gt;necessary&lt;/em&gt;, but it provides an example of how to define a function. Plus, it enables us to test several ideas with much greater speed and flexibility.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The &lt;code&gt;ifelse()&lt;/code&gt; function works on entire vectors at once, avoiding costly loops (loops are costly in R because it&amp;rsquo;s an interpreted language). Since we can potentially modify the entire &amp;lsquo;size&amp;rsquo; vector, we must be mindful of the order of the tests.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;On to the code!&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Attach the quantmod and TTR packages.&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# You can install packages via:&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# install.packages(c(&amp;#34;quantmod&amp;#34;,&amp;#34;TTR&amp;#34;))&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;library&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;quantmod&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;library&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;TTR&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Pull S&amp;amp;P500 index data from Yahoo! Finance&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;getSymbols&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;^GSPC&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;2000-01-01&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;to&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;2008-12-07&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Calculate the RSI indicator&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;rsi&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;RSI&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Cl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Calculate Close-to-Close returns&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# (this assumes we open/close our positions&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# at each day&amp;#39;s close)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;ret&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;ROC&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Cl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;ret[1]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Define our position-sizing function&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;rsi2pos&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;indIncr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;posIncr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0.25&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# Inputs:&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# ind : indicator vector&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# indIncr : indicator value increments/breakpoints&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# posIncr : position value increments/breakpoints&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Initialize result vector&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;size&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;rep&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;NROW&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Long&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;size&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;ifelse&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ind&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;indIncr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;posIncr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;size&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;ifelse&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ind&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;indIncr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;posIncr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;size&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;ifelse&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ind&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;indIncr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;posIncr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;size&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;ifelse&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ind&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;indIncr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;posIncr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Short&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;size&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;ifelse&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ind&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;100-4&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;indIncr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;posIncr&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;size&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;ifelse&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ind&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;100-3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;indIncr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;posIncr&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;size&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;ifelse&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ind&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;100-2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;indIncr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;posIncr&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;size&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;ifelse&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ind&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;100-1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;indIncr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;posIncr&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Today&amp;#39;s position (&amp;#39;size&amp;#39;) is based on today&amp;#39;s&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# indicator, but we need to apply today&amp;#39;s position&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# to the Close-to-Close return at tomorrow&amp;#39;s close.&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;size&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;lag&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Replace missing signals with no position&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# (generally just at beginning of series)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;[is.na&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Return results&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Calculate signals using the &amp;#39;rsi2pos()&amp;#39; function&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;sig&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;rsi2pos&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;rsi&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0.25&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Break out the long (up) and short (dn) signals&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;sigup&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;ifelse&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sig&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sig&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;sigdn&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;ifelse&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sig&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sig&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Calculate equity curves&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;eq_up&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;exp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;cumsum&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ret&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sigup&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;eq_dn&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;exp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;cumsum&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ret&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sigdn&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;eq_all&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;exp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;cumsum&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ret&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sig&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Replicate Michael&amp;#39;s nice chart (again)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;png&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;filename&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;20090430_rsi2_replication.png&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;plot.zoo&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;cbind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;eq_up&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;eq_dn&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;plot.type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;single&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;ylab&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Long&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Short&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;col&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;green&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;red&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;RSI(2) Strategy, with Position Scaling:\n 2000-01-03 through 2008-12-07&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;dev.off&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;a href=&#34;https://blog.fosstrading.com/post/images/20090501_rsi2_updated.png&#34;&gt;&lt;img src=&#34;https://blog.fosstrading.com/post/images/20090501_rsi2_updated.png&#34; alt=&#34;&#34;&gt;&lt;/a&gt;&lt;br&gt;
Visual inspection of the charts seems to indicate the updated RSI(2) strategy has slightly higher returns, but more volatility and larger drawdowns.&lt;/p&gt;
&lt;p&gt;The &lt;a href=&#34;http://cran.r-project.org/web/packages/PerformanceAnalytics/index.html&#34;&gt;PerformanceAnalytics&lt;/a&gt; package can evaluate the volatility, drawdowns, and related metrics for investing and trading strategies.  We&amp;rsquo;ll use it in the next post to &lt;a href=&#34;http://blog.fosstrading.com/2009/06/rsi2-evaluation.html&#34;&gt;evaluate RSI(2)&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>R/Finance 2009 Overview</title>
      <link>https://blog.fosstrading.com/2009/04/rfinance-2009-overview/</link>
      <pubDate>Tue, 28 Apr 2009 09:26:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2009/04/rfinance-2009-overview/</guid>
      <description>&lt;p&gt;The first international R/Finance 2009 conference in Chicago, IL was a huge success! David Smith from &lt;a href=&#34;http://www.revolution-computing.com/&#34;&gt;REvolution Computing&lt;/a&gt; has written &lt;a href=&#34;http://blog.revolution-computing.com/2009/04/rfinance-2009-roundup.html&#34;&gt;a great summary&lt;/a&gt; of the entire event. I&amp;rsquo;ll take the lazy route and point you to his blog post. :)&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The first international conference dedicated to the use of R in the finance industry, &lt;a href=&#34;http://www.rinfinance.com/&#34;&gt;R/Finance 2009&lt;/a&gt;, was a great success. With over 150 attendees (my poor &lt;a href=&#34;http://twitter.com/revodavid/status/1606990522&#34;&gt;estimation&lt;/a&gt; skills notwithstanding), sold-out tutorials, and an outstanding lineup of invited and contributing speakers from around the world, this event really demonstrated the importance of &lt;a href=&#34;http://www.revolution-computing.com/industry/finance.php&#34;&gt;R in the world of financial analysis&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Source:&lt;br&gt;
&lt;a href=&#34;http://blog.revolution-computing.com/2009/04/rfinance-2009-roundup.html&#34;&gt;R/Finance 2009 roundup&lt;/a&gt;&lt;br&gt;
David Smith&lt;br&gt;
&lt;a href=&#34;http://blog.revolution-computing.com/&#34;&gt;Revolutions&lt;/a&gt;, 4/27/2009&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>opentick is no more</title>
      <link>https://blog.fosstrading.com/2009/04/opentick-is-no-more/</link>
      <pubDate>Fri, 17 Apr 2009 14:46:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2009/04/opentick-is-no-more/</guid>
      <description>&lt;p&gt;After a year of &amp;ldquo;we plan to accept new subscribers shortly&amp;rdquo;, &lt;a href=&#34;http://www.opentick.com/&#34;&gt;opentick&lt;/a&gt; has shut its doors completely. As of March 20th, the opentick service is no longer available.&lt;/p&gt;
&lt;p&gt;From &lt;a href=&#34;http://www.opentick.com/&#34;&gt;opentick.com&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;3/16/2009&lt;/p&gt;
&lt;p&gt;To opentick subscribers, friends, supporters, contributors and the rest of the community&amp;hellip;&lt;/p&gt;
&lt;p&gt;It has been quite a journey for opentick, and for those of you who have been with us for the ride we cannot thank you enough for the support, contributions and guidance you have given us over the course of the last 5 years. We could not have come as far as we have without you.&lt;/p&gt;
&lt;p&gt;However, we are sad to say that the time has come for us to close the doors for opentick. However, this isn&amp;rsquo;t goodbye. In fact, it&amp;rsquo;s a new beginning. We will be introducing a fresh service with all the bells and whistles we&amp;rsquo;ve been slaving on over the course of the last year under a new name, a new website and a new level of service. Check back here in the near future for more information about the forthcoming new company and service. Of course amongst all these changes, there are some things that will remain the same - we still aim to provide a reliable free market data service, with an open architecture for a wide range of software platform support.&lt;/p&gt;
&lt;p&gt;If you are a current paying subscriber, this March billing cycle will be your final billing cycle; at your next billing date service will be terminated. If you are a delayed or historical data user not currently paying for service, your account will be deactivated as of Friday, March 20th.&lt;/p&gt;
&lt;p&gt;Sincerely,&lt;br&gt;
opentick Staff&lt;/p&gt;
&lt;p&gt;One day, we shall come back. Yes, we shall come back. Until then, there must be no regrets, no tears, no anxieties. Just go forward in all your beliefs, and prove to us we are not mistaken in ours.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I&amp;rsquo;m not optimistic their new offering (most likely their sister company, &lt;a href=&#34;http://www.xasax.com/&#34;&gt;Xasax&lt;/a&gt;) will be available anytime soon. The managers of the two companies sub-optimally managed expectations with opentick and potential Xasax customers are sure to keep that in mind.&lt;/p&gt;
&lt;p&gt;At least I learned quite a bit creating the &amp;lsquo;opentick&amp;rsquo; package, since it is now useless&amp;hellip; perhaps Xasax will have a similar API, but I won&amp;rsquo;t get my hopes up.&lt;/p&gt;
&lt;p&gt;Related Posts:&lt;br&gt;
&lt;a href=&#34;http://blog.fosstrading.com/2009/10/xasax-closes-shop.html&#34;&gt;Xasax closes shop&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;http://blog.fosstrading.com/2009/11/opentick-alternatives.html&#34;&gt;opentick alternatives&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Testing RSI(2) with R, First Steps</title>
      <link>https://blog.fosstrading.com/2009/04/testing-rsi2-with-r/</link>
      <pubDate>Mon, 13 Apr 2009 22:35:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2009/04/testing-rsi2-with-r/</guid>
      <description>&lt;p&gt;This is the first of a series of posts that will demonstrate how to build, test, and implement a trading strategy using my favorite FOSS, &lt;a href=&#34;http://www.r-project.org/&#34;&gt;R&lt;/a&gt;. I chose the RSI(2) strategy because it has gotten considerable attention on trading blogs over the past 6 months.&lt;/p&gt;
&lt;p&gt;In particular, I will be replicating and extending some of the results from Michael Stokes&#39; excellent &lt;a href=&#34;http://marketsci.wordpress.com/&#34;&gt;MarketSci Blog&lt;/a&gt;. This post will focus on replicating &lt;a href=&#34;http://marketsci.wordpress.com/2008/12/09/trading-with-rsi2/&#34;&gt;this simple RSI(2) strategy&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Without further ado, let&amp;rsquo;s get to some code&amp;hellip;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# We will need the quantmod package for charting and pulling&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# data and the TTR package to calculate RSI(2).&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# You can install packages via: install.packages(&amp;#34;packageName&amp;#34;)&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# install.packages(c(&amp;#34;quantmod&amp;#34;,&amp;#34;TTR&amp;#34;))&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;library&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;quantmod&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;library&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;TTR&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Pull S&amp;amp;P500 index data from Yahoo! Finance&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;getSymbols&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;^GSPC&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;2000-01-01&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;to&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;2008-12-07&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Calculate the RSI indicator&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;rsi&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;RSI&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Cl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Create the long (up) and short (dn) signals&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;sigup&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;ifelse&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;rsi&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;sigdn&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;ifelse&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;rsi&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;90&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;-1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Lag signals to align with days in market,&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# not days signals were generated&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#sigup &amp;lt;- Lag(sigup,1) # Use lag() to avoid Toby&amp;#39;s error&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#sigdn &amp;lt;- Lag(sigdn,1) # Use lag() to avoid Toby&amp;#39;s error&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;sigup&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;lag&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sigup&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# Note k=1 implies a move *forward*&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;sigdn&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;lag&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sigdn&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# Note k=1 implies a move *forward*&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Replace missing signals with no position&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# (generally just at beginning of series)&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;sigup&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;[is.na&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sigup&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;sigdn&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;[is.na&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sigdn&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Combine both signals into one vector&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;sig&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sigup&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sigdn&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Calculate Close-to-Close returns&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;ret&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;ROC&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Cl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GSPC&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;ret[1]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Calculate equity curves&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;eq_up&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;exp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;cumsum&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ret&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sigup&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;eq_dn&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;exp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;cumsum&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ret&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sigdn&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;-1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;eq_all&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;exp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;cumsum&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ret&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sig&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Replicate Michael&amp;#39;s nice chart&lt;/span&gt;
&lt;span class=&#34;nf&#34;&gt;plot.zoo&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;cbind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;eq_up&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;eq_dn&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;ylab&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Long&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Short&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;col&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;green&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;red&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Simple RSI(2) Strategy: 2000-01-02 through 2008-12-07&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Wait a few seconds before making next chart…&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#Sys.sleep(5)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Create a chart showing the S&amp;amp;P500&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#chartSeries(GSPC, type=&amp;#34;line&amp;#34;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Add the total equity line&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#addTA(eq_all)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;My version of Michael&amp;rsquo;s chart is below. Up next, scaling in/out of positions with RSI(2).&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.fosstrading.com/post/images/20090413_rsi2_long_short.png&#34;&gt;&lt;img src=&#34;https://blog.fosstrading.com/post/images//20090413_rsi2_long_short.png&#34; alt=&#34;&#34;&gt;&lt;/a&gt;&lt;br&gt;
Now, let&amp;rsquo;s look at &lt;a href=&#34;http://blog.fosstrading.com/2009/05/rsi2-with-position-sizing.html&#34;&gt;RSI(2) with position sizing&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Registration for R/Finance 2009 is Open!</title>
      <link>https://blog.fosstrading.com/2009/02/registration-for-r-finance-2009-is-open/</link>
      <pubDate>Fri, 20 Feb 2009 12:20:00 -0600</pubDate>
      
      <guid>https://blog.fosstrading.com/2009/02/registration-for-r-finance-2009-is-open/</guid>
      <description>&lt;p&gt;The &lt;a href=&#34;http://rinfinance.quantmod.com/&#34;&gt;conference website&lt;/a&gt; has details on:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;the &lt;a href=&#34;http://rinfinance.quantmod.com/agenda&#34;&gt;agenda&lt;/a&gt; and &lt;a href=&#34;http://rinfinance.quantmod.com/speakers&#34;&gt;speakers&lt;/a&gt;,&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;http://rinfinance.quantmod.com/travel&#34;&gt;travel accommodations&lt;/a&gt;,&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;http://rinfinance.quantmod.com/register/&#34;&gt;registration&lt;/a&gt;, and&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;http://rinfinance.quantmod.com/sponsors&#34;&gt;sponsors&lt;/a&gt;, who made the conference possible.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Hope to see you there!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>TTR_0.2 on CRAN</title>
      <link>https://blog.fosstrading.com/2009/02/ttr-0-2-on-cran/</link>
      <pubDate>Sun, 15 Feb 2009 18:51:00 -0600</pubDate>
      
      <guid>https://blog.fosstrading.com/2009/02/ttr-0-2-on-cran/</guid>
      <description>&lt;p&gt;I am happy to announce a long-overdue update to the TTR package (version 0.2) is now on CRAN.&lt;/p&gt;
&lt;p&gt;This update represents a major milestone, as TTR useRs are no longer restricted to using matrix objects. TTR 0.2 uses &lt;a href=&#34;https://cran.r-project.org/package=xts&#34;&gt;xts&lt;/a&gt; internally, so all major time series classes are now supported.&lt;/p&gt;
&lt;p&gt;NEW FEATURES:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Added the zig zag indicator: &lt;code&gt;ZigZag()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Added volatility estimators/indicators: &lt;code&gt;volatility()&lt;/code&gt;, with the following calculations
&lt;ul&gt;
&lt;li&gt;Close-to-Close&lt;/li&gt;
&lt;li&gt;Garman Klass&lt;/li&gt;
&lt;li&gt;Parkinson&lt;/li&gt;
&lt;li&gt;Rogers Satchell&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Added Money Flow Index: &lt;code&gt;MFI()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Added Donchian channel: &lt;code&gt;DonchianChannel()&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;CHANGES:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;All functions now use xts internally, adding support for all major time series classes. If &lt;code&gt;try.xts()&lt;/code&gt; fails on the input object(s), they will be converted to a matrix and a matrix object will be returned.&lt;/li&gt;
&lt;li&gt;Added &lt;code&gt;bounded&lt;/code&gt; arg to &lt;code&gt;stoch()&lt;/code&gt; and &lt;code&gt;SMI()&lt;/code&gt;, which includes the current period in the calculation.&lt;/li&gt;
&lt;li&gt;Added &lt;code&gt;naCheck()&lt;/code&gt; and implemented it in the moving average functions.&lt;/li&gt;
&lt;li&gt;Moved &lt;code&gt;maType&lt;/code&gt; argument default values from function formals to function body for the following functions:&lt;br&gt;
&lt;code&gt;ADX()&lt;/code&gt;, &lt;code&gt;ATR()&lt;/code&gt;, &lt;code&gt;CCI()&lt;/code&gt;, &lt;code&gt;DPO()&lt;/code&gt;, &lt;code&gt;EMV()&lt;/code&gt;, &lt;code&gt;KST()&lt;/code&gt;, &lt;code&gt;MACD()&lt;/code&gt;, &lt;code&gt;RSI()&lt;/code&gt;, &lt;code&gt;TRIX()&lt;/code&gt;, &lt;code&gt;BBands()&lt;/code&gt;, &lt;code&gt;chaikinVolatility()&lt;/code&gt;, &lt;code&gt;stoch()&lt;/code&gt;, &lt;code&gt;SMI()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;momentum()&lt;/code&gt; in &lt;code&gt;CMO()&lt;/code&gt; no longer sets &lt;code&gt;na=100&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Replaced &lt;code&gt;na&lt;/code&gt; argument in &lt;code&gt;momentum()&lt;/code&gt; and &lt;code&gt;ROC()&lt;/code&gt; with &lt;code&gt;na.pad&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Added &lt;code&gt;multiple&lt;/code&gt; argument to &lt;code&gt;TDI()&lt;/code&gt;, allowing more user control&lt;/li&gt;
&lt;li&gt;&lt;code&gt;getYahooData()&lt;/code&gt; now returns an xts object&lt;/li&gt;
&lt;li&gt;Added colnames to output for &lt;code&gt;ADX()&lt;/code&gt;, &lt;code&gt;EMV()&lt;/code&gt;, and &lt;code&gt;CLV()&lt;/code&gt; (for xts)&lt;/li&gt;
&lt;li&gt;Added unit tests using the &lt;a href=&#34;https://cran.r-project.org/package=RUnit&#34;&gt;RUnit&lt;/a&gt; package&lt;/li&gt;
&lt;li&gt;Used &lt;code&gt;checkEquals()&lt;/code&gt; on object attributes as well as values&lt;/li&gt;
&lt;li&gt;Removed &lt;code&gt;.First.lib&lt;/code&gt; function and added &lt;code&gt;.onLoad()&lt;/code&gt; with package version.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;BUG FIXES:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Corrected NaN replacement in &lt;code&gt;CLV()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Corrected &lt;code&gt;williamsAD()&lt;/code&gt;: AD=0 if C(t)=C(t-1)&lt;/li&gt;
&lt;li&gt;Corrected &lt;code&gt;runMedian()&lt;/code&gt; and &lt;code&gt;runMAD()&lt;/code&gt;. The argument controlling which type of median to calculate for even-numbered samples wasn&amp;rsquo;t being passed to the Fortran routine.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;aroon()&lt;/code&gt; calculation starts at period &lt;code&gt;n+1&lt;/code&gt;, instead of &lt;code&gt;n&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Added &lt;code&gt;NA&lt;/code&gt; to first element of &lt;code&gt;closeLag&lt;/code&gt; of &lt;code&gt;ATR()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Corrected &lt;code&gt;BBands()&lt;/code&gt; and &lt;code&gt;CCI()&lt;/code&gt; for &lt;code&gt;rowMeans()&lt;/code&gt; use on xts objects&lt;/li&gt;
&lt;li&gt;Made changes to Rd files to pass &lt;code&gt;R CMD check&lt;/code&gt; on R-devel (2.9.0)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Please do contact me with any questions, concerns, bug reports, etc.&lt;/p&gt;
&lt;div class=&#34;container&#34; role=&#34;main&#34;&gt;
  &lt;div class=&#34;row&#34;&gt;
    &lt;hr&gt;
    &lt;p&gt;If you love using my open-source work (e.g. &lt;a href=&#34;https://cran.r-project.org/package=quantmod&#34;&gt;quantmod&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=TTR&#34;&gt;TTR&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=xts&#34;&gt;xts&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=IBrokers&#34;&gt;IBrokers&lt;/a&gt;, &lt;a href=&#34;https://cran.r-project.org/package=microbenchmark&#34;&gt;microbenchmark&lt;/a&gt;, etc.), you can give back by &lt;a href=&#34;https://github.com/sponsors/joshuaulrich/&#34;&gt;sponsoring me on GitHub&lt;/a&gt;. I truly appreciate anything you&amp;rsquo;re willing and able to give!&lt;/p&gt;

    &lt;p&gt;I look forward to your questions and feedback! If you have a question, please ask on &lt;a href=&#34;http://stackoverflow.com/&#34;&gt;Stack Overflow&lt;/a&gt; and use the &lt;a href=&#34;http://stackoverflow.com/questions/tagged/r&#34;&gt;[r]&lt;/a&gt; and &lt;a href=&#34;http://stackoverflow.com/questions/tagged/ttr&#34;&gt;[ttr]&lt;/a&gt; tags.  Or you can send an email to the &lt;a href=&#34;https://stat.ethz.ch/mailman/listinfo/r-sig-finance&#34;&gt;R-SIG-Finance&lt;/a&gt; mailing list (you must subscribe to post). Open an &lt;a href=&#34;https://github.com/joshuaulrich/ttr/issues&#34;&gt;issue on GitHub&lt;/a&gt; if you find a bug or want to request a feature. Please &lt;a href=&#34;https://github.com/joshuaulrich/ttr/blob/master/.github/CONTRIBUTING.md&#34;&gt;read the contributing guide&lt;/a&gt; first! It will help save time for both of us. ;-)&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;

</description>
    </item>
    
    <item>
      <title>IBrokers Featured on Quantitative Trading</title>
      <link>https://blog.fosstrading.com/2009/01/ibrokers-featured-on-quantitative/</link>
      <pubDate>Sat, 17 Jan 2009 09:01:00 -0600</pubDate>
      
      <guid>https://blog.fosstrading.com/2009/01/ibrokers-featured-on-quantitative/</guid>
      <description>&lt;p&gt;Jeff Ryan&amp;rsquo;s IBrokers package was mentioned on Ernie Chan&amp;rsquo;s blog, &lt;a href=&#34;http://epchan.blogspot.com/&#34;&gt;Quantitative Trading&lt;/a&gt;. Though the package is still in pre-alpha stage, it is generating quite a bit of interest.&lt;/p&gt;
&lt;p&gt;Source:&lt;br&gt;
Ernie Chan&lt;br&gt;
Friday, January 16, 2009&lt;br&gt;
&lt;a href=&#34;http://epchan.blogspot.com/2009/01/algorithmic-trading-technology-update.html&#34;&gt;Quantitative Trading: Algorithmic Trading Technology Update&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>R/Finance 2009: Applied Finance with R</title>
      <link>https://blog.fosstrading.com/2008/12/rfinance-2009-applied-finance-with-r/</link>
      <pubDate>Tue, 30 Dec 2008 23:54:00 -0600</pubDate>
      
      <guid>https://blog.fosstrading.com/2008/12/rfinance-2009-applied-finance-with-r/</guid>
      <description>&lt;p&gt;Call for Papers&lt;/p&gt;
&lt;p&gt;The Finance Department of the University of Illinois at Chicago (UIC),&lt;br&gt;
the International Center for Futures and Derivatives at UIC, and&lt;br&gt;
members of the R finance community are pleased to announce&lt;/p&gt;
&lt;p&gt;R/Finance 2009: Applied Finance with R&lt;/p&gt;
&lt;p&gt;on April 24 and 25, 2009, in Chicago, IL, USA&lt;/p&gt;
&lt;p&gt;Confirmed keynote speakers include:&lt;/p&gt;
&lt;p&gt;Patrick Burns (Burns Statistics)&lt;br&gt;
David Kane (Kane Capital)&lt;br&gt;
Roger Koenker (U of Illinois at Urbana/Champaign)&lt;br&gt;
David Ruppert (Cornell)&lt;br&gt;
Diethelm Wuertz (ETH Zürich)&lt;br&gt;
Eric Zivot (U of Washington)&lt;/p&gt;
&lt;p&gt;We invite all users of R in Finance to submit one-page abstracts or&lt;br&gt;
complete papers (in txt/pdf/doc format). We encourage papers both on&lt;br&gt;
academic research topics and related to use of R by Finance practitioners.&lt;/p&gt;
&lt;p&gt;Presenters are strongly encouraged to provide working R code to accompany&lt;br&gt;
the presentation/paper. Datasets need not be made public.&lt;/p&gt;
&lt;p&gt;Please send submissions to &lt;a href=&#34;mailto:committee@RinFinance.com&#34;&gt;committee@RinFinance.com&lt;/a&gt;.&lt;br&gt;
The submission deadline is January 31st, 2009.&lt;br&gt;
Submissions will be evaluated and submitters notified via email&lt;br&gt;
on a rolling basis.&lt;/p&gt;
&lt;p&gt;Additional details about the conference will be announced as available.&lt;/p&gt;
&lt;p&gt;For the program committee:&lt;br&gt;
Gib Bassett, Peter Carl, Dirk Eddelbuettel, John Miller,&lt;br&gt;
Brian Peterson, Dale Rosenthal, Jeffrey Ryan&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Computational Finance with R</title>
      <link>https://blog.fosstrading.com/2008/12/computational-finance-with-r/</link>
      <pubDate>Fri, 05 Dec 2008 20:39:00 -0600</pubDate>
      
      <guid>https://blog.fosstrading.com/2008/12/computational-finance-with-r/</guid>
      <description>&lt;p&gt;Krishna Kumar, Jan Vecer and the great folks at &lt;a href=&#34;http://www.revolution-computing.com/&#34;&gt;REvolution computing&lt;/a&gt; put on &lt;a href=&#34;http://www.stat.columbia.edu/pages/ComputationalFinance/index.html&#34;&gt;a great event&lt;/a&gt; at the beautiful &lt;a href=&#34;http://www.columbia.edu/&#34;&gt;Columbia University&lt;/a&gt; campus on the Upper West Side of New York.&lt;/p&gt;
&lt;p&gt;Presentations by Whit Armstrong, Anthony Brockwell, Bryan Lewis, Scott Payseur, Peter Carl, Brian Peterson, and our own Jeff Ryan made for an impressive display of the power of R in quant finance. Jeff&amp;rsquo;s presentation slides can be found &lt;a href=&#34;http://www.quantmod.com/Columbia2008&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Some great things are happening in this community, and we are certainly glad to be part of them.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Welcome to FOSS Trading</title>
      <link>https://blog.fosstrading.com/2008/09/welcome-to-foss-trading/</link>
      <pubDate>Sun, 28 Sep 2008 15:51:00 -0500</pubDate>
      
      <guid>https://blog.fosstrading.com/2008/09/welcome-to-foss-trading/</guid>
      <description>&lt;p&gt;This blog will highlight the development and use of free open-source software to research, test, and trade financial markets.&lt;/p&gt;
&lt;p&gt;Meet the authors:&lt;/p&gt;
&lt;p&gt;Joshua Ulrich is currently the author and maintainer of four R packages:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://cran.r-project.org/web/packages/TTR/index.html&#34;&gt;TTR&lt;/a&gt; - Technical Trading Rules - a suite of technical analysis functions&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cran.r-project.org/web/packages/opentick/index.html&#34;&gt;opentick&lt;/a&gt; - an R API to the opentick databases&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cran.r-project.org/web/packages/xts/index.html&#34;&gt;xts&lt;/a&gt; - eXtensible Time Series - a time-based data class that integrates all of the current time-series classes (co-authored with Jeff Ryan)&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cran.r-project.org/web/packages/pack/index.html&#34;&gt;pack&lt;/a&gt; - convert binary to and from formats other programs and machines can understand&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Jeff Ryan is currently the author and maintainer of four R packages:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://www.quantmod.com/&#34;&gt;quantmod&lt;/a&gt; - specify, build, trade, and analyse quantitative financial trading strategies&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cran.r-project.org/web/packages/IBrokers/index.html&#34;&gt;IBrokers&lt;/a&gt; - provides native R access to Interactive Brokers Trader Workstation API&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cran.r-project.org/web/packages/xts/index.html&#34;&gt;xts&lt;/a&gt; - eXtensible Time Series - a time-based data class that integrates all of the current time-series classes (co-authored with Joshua Ulrich)&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cran.wustl.edu/web/packages/Defaults/index.html&#34;&gt;Defaults&lt;/a&gt; - create global function defaults&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;As you may have guessed, most of the software we develop is in the R language/environment, but we also write code in C and Fortran for efficiency. There are several reasons we use R:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;R allows for rapid prototyping, since it is a scripted language.&lt;/li&gt;
&lt;li&gt;The list of &lt;a href=&#34;http://cran.r-project.org/web/views/Finance.html&#34;&gt;finance-oriented R packages&lt;/a&gt; is large and growing.&lt;/li&gt;
&lt;li&gt;The &lt;a href=&#34;https://stat.ethz.ch/mailman/listinfo/r-sig-finance&#34;&gt;R-Finance community&lt;/a&gt; continues to grow rapidly.&lt;/li&gt;
&lt;li&gt;A multitude of statistical routines are available in &lt;a href=&#34;http://cran.r-project.org/web/packages/&#34;&gt;contributed packages&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We hope, with your help, this blog advances the use of free open source software in the finance / trading community!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>quantmod for enterprise</title>
      <link>https://blog.fosstrading.com/page/enterprise/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://blog.fosstrading.com/page/enterprise/</guid>
      <description>&lt;p&gt;Tidelift is working with the maintainers of quantmod and thousands of other open source projects to deliver commercial support and maintenance for the open source dependencies you use to build your applications. Save time, reduce risk, and improve code health, while paying the maintainers of the exact dependencies you use.&lt;/p&gt;
&lt;h3 id=&#34;enterprise-ready-open-source-softwaremanaged-for-you&#34;&gt;Enterprise-ready open source software—managed for you&lt;/h3&gt;
&lt;p&gt;The Tidelift Subscription is a managed open source subscription for application dependencies covering millions of open source projects across JavaScript, Python, Java, PHP, Ruby, .NET, and more.&lt;/p&gt;
&lt;p&gt;Your subscription includes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Security updates&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Tidelift’s security response team coordinates patches for new breaking security vulnerabilities and alerts immediately through a private channel, so your software supply chain is always secure.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Licensing verification and indemnification&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Tidelift verifies license information to enable easy policy enforcement and adds intellectual property indemnification to cover creators and users in case something goes wrong. You always have a 100% up-to-date bill of materials for your dependencies to share with your legal team, customers, or partners.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Maintenance and code improvement&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Tidelift ensures the software you rely on keeps working as long as you need it to work. Your managed dependencies are actively maintained and we recruit additional maintainers where required.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Package selection and version guidance&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;We help you choose the best open source packages from the start—and then guide you through updates to stay on the best releases as new issues arise.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Roadmap input&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Take a seat at the table with the creators behind the software you use. Tidelift’s participating maintainers earn more income as their software is used by more subscribers, so they’re interested in knowing what you need.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Tooling and cloud integration&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Tidelift works with GitHub, GitLab, BitBucket, and more. We support every cloud platform (and other deployment targets, too).&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The end result? All of the capabilities you expect from commercial-grade software, for the full breadth of open source you use. That means less time grappling with esoteric open source trivia, and more time building your own applications—and your business.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
