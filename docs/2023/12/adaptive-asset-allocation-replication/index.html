<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Adaptive Asset Allocation Replication - FOSS Trading</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Adaptive Asset Allocation Replication" />
<meta property="og:description" content="Introduction The Adaptive Asset Allocation: A Primer paper by Adam Butler, Mike Philbrick, Rodrigo Gordillo, and David Varadi addresses flaws in the traditional application of Modern Portfolio Theory related to Strategic Asset Allocation. It shows that estimating return and (co)variance parameters over shorter time horizons are superior to estimates over long-term horizons because parameter estimates vary substantially over time. Longer-term estimates do not account for this variability in the short-term." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://blog.fosstrading.com/2023/12/adaptive-asset-allocation-replication/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2023-12-08T13:00:00-05:00" />
<meta property="article:modified_time" content="2023-12-08T13:00:00-05:00" />

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	<link rel="stylesheet" href="/fosstrading.css"><link rel="stylesheet" href="/syntax.css">

	<link rel="shortcut icon" href="/favicon.ico">
		
<script async src="https://www.googletagmanager.com/gtag/js?id=G-LT26X44HDL"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-LT26X44HDL', { 'anonymize_ip': false });
}
</script>

</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="FOSS Trading" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">FOSS Trading</div>
					<div class="logo__tagline">Algorithmic Trading with Free Open Source Software</div>
				</div>
		</a>
	</div>
		
<nav class="menu">
	<button class="menu__btn" aria-haspopup="true" aria-expanded="false" tabindex="0">
		<span class="menu__btn-title" tabindex="-1">Menu</span>
	</button>
	<ul class="menu__list">
		<li class="menu__item">
			<a class="menu__link" href="/">
				
				<span class="menu__text">Blog</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/page/disclosures/">
				
				<span class="menu__text">Disclosures</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/page/enterprise/">
				
				<span class="menu__text">For Enterprise</span>
				
			</a>
		</li>
	</ul>
</nav>

	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Adaptive Asset Allocation Replication</h1>
			<div class="post__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class="meta__text" datetime="2023-12-08T13:00:00-05:00">December 08, 2023</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2l1 2h8v11h-16v-13z"/></svg><span class="meta__text"><a class="meta__link" href="/categories/Articles/" rel="category">Articles</a>
	</span>
</div></div>
		</header>
		<div class="content post__content clearfix">
			<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<h1 id="introduction">Introduction</h1>
<p>The <a href="https://papers.ssrn.com/sol3/papers.cfm?abstract_id=2328254">Adaptive Asset Allocation: A
Primer</a>
paper by Adam Butler, Mike Philbrick, Rodrigo Gordillo, and David Varadi
addresses flaws in the traditional application of Modern Portfolio
Theory related to Strategic Asset Allocation. It shows that estimating
return and (co)variance parameters over shorter time horizons are
superior to estimates over long-term horizons because parameter
estimates vary substantially over time. Longer-term estimates do not
account for this variability in the short-term. They propose an Adaptive
Asset Allocation portfolio construction methodology that uses the new
parameter estimates to substantially improve performance relative to
Strategic Asset Allocation.</p>
<h1 id="data">Data</h1>
<p>The original paper creates portfolios from 10 major global asset classes
using data between 1995 and 2014. It uses ETFs when possible, and uses
passive no-load mutual funds, underlying indexes, and no-load active
mutual funds as proxies for asset class returns prior to ETF inception.
The paper doesn&rsquo;t list the actual instruments used at each point in
time, so this post attempts to replicate their described methodology
using publicly available data.</p>
<p>The table below shows the asset class, instruments, and time horizons
used for each asset class in this replication. The data start in late
1997 instead of 1995 as in the original paper. Returns in this analysis
are adjusted for splits and dividends.</p>
<table>
<thead>
<tr>
<th style="text-align:left"></th>
<th style="text-align:left">ETF</th>
<th style="text-align:left">ETF Start</th>
<th style="text-align:left">Fund</th>
<th style="text-align:left">Fund Start</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">US Equity</td>
<td style="text-align:left">VTI</td>
<td style="text-align:left">2001-05</td>
<td style="text-align:left">VTSMX</td>
<td style="text-align:left">1992-04</td>
</tr>
<tr>
<td style="text-align:left">European Equity</td>
<td style="text-align:left">VGK</td>
<td style="text-align:left">2005-03</td>
<td style="text-align:left">VEURX</td>
<td style="text-align:left">1990-06</td>
</tr>
<tr>
<td style="text-align:left">Japanese Equity</td>
<td style="text-align:left">EWJ</td>
<td style="text-align:left">1996-03</td>
<td style="text-align:left">FJPNX</td>
<td style="text-align:left">1992-12</td>
</tr>
<tr>
<td style="text-align:left">Emerging Market Equity</td>
<td style="text-align:left">EEM</td>
<td style="text-align:left">2003-04</td>
<td style="text-align:left">VEIEX</td>
<td style="text-align:left">1994-12</td>
</tr>
<tr>
<td style="text-align:left">US Real Estate</td>
<td style="text-align:left">ICF</td>
<td style="text-align:left">2001-02</td>
<td style="text-align:left">VGSIX</td>
<td style="text-align:left">1996-05</td>
</tr>
<tr>
<td style="text-align:left">International Real Estate</td>
<td style="text-align:left">RWX</td>
<td style="text-align:left">2006-12</td>
<td style="text-align:left">XRFIX</td>
<td style="text-align:left">1997-09</td>
</tr>
<tr>
<td style="text-align:left">Intermediate Term Treasury</td>
<td style="text-align:left">IEF</td>
<td style="text-align:left">2002-07</td>
<td style="text-align:left">VFITX</td>
<td style="text-align:left">1991-12</td>
</tr>
<tr>
<td style="text-align:left">Long Term Treasury</td>
<td style="text-align:left">TLT</td>
<td style="text-align:left">2002-07</td>
<td style="text-align:left">VUSTX</td>
<td style="text-align:left">1986-12</td>
</tr>
<tr>
<td style="text-align:left">Commodities</td>
<td style="text-align:left">DBC</td>
<td style="text-align:left">2006-02</td>
<td style="text-align:left">QRACX</td>
<td style="text-align:left">1997-03</td>
</tr>
<tr>
<td style="text-align:left">Gold</td>
<td style="text-align:left">GLD</td>
<td style="text-align:left">2004-11</td>
<td style="text-align:left">SGGDX</td>
<td style="text-align:left">1993-08</td>
</tr>
</tbody>
</table>
<h1 id="replication">Replication</h1>
<p>This analysis attempts to replicate all 5 portfolios in the original
paper.</p>
<ol>
<li>Equal weight of all asset classes</li>
<li>Equal risk contribution of all asset classes</li>
<li>Equal weight of highest momentum asset classes</li>
<li>Equal risk contribution of highest momentum asset classes</li>
<li>Minimum variance of highest momentum asset classes</li>
</ol>
<p>The original paper showed results as a monthly series. The
<code>to_monthly_returns()</code> function converts the strategy returns from daily
to monthly. The <code>strat_summary()</code> function uses the
<a href="https://cran.r-project.org/package=PerformanceAnalytics">PerformanceAnalytics</a>
package to calculate summary statistics to compare with the original
paper. The file
<a href="adaptive-asset-allocation-replication.R">adaptive-asset-allocation-replication.R</a>
contains all the code used in this analysis, and the
<a href="returns.rds">returns.rds</a> function contains the data.</p>
<h3 id="1-equal-weight-portfolio-of-all-asset-classes">1. Equal weight portfolio of all asset classes</h3>
<p>The baseline example assumes no knowledge of expected relative asset
class performance, risk, or correlation. The results below are based on
a portfolio that holds each asset class in equal weight and is
rebalanced monthly. The table compares the results of this replication
with the original results. Some of the difference in results are due to
the different instruments and time frames used for the analysis. Despite
the differences in the data between the two approaches, the results are
very similar.</p>
<p>The <code>returns_equal_weight</code> object contains the portfolio returns for
each day. Then we convert those returns to monthly and evaluate the
portfolio results.</p>
<!-- raw HTML omitted -->
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">returns_equal_weight</span> <span class="o">&lt;-</span> <span class="nf">as.xts</span><span class="p">(</span><span class="nf">apply</span><span class="p">(</span><span class="n">returns</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="n">mean</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="n">monthly_returns</span> <span class="o">&lt;-</span> <span class="nf">to_monthly_returns</span><span class="p">(</span><span class="n">returns_equal_weight</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">title</span> <span class="o">&lt;-</span> <span class="s">&#34;All Assets - Equal Weight&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">stats</span> <span class="o">&lt;-</span> <span class="nf">strat_summary</span><span class="p">(</span><span class="n">monthly_returns</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                       <span class="n">original_results</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">0.081</span><span class="p">,</span> <span class="m">0.112</span><span class="p">,</span> <span class="m">0.72</span><span class="p">,</span> <span class="m">-0.392</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="nf">charts.PerformanceSummary</span><span class="p">(</span><span class="n">monthly_returns</span><span class="p">,</span> <span class="n">main</span> <span class="o">=</span> <span class="n">title</span><span class="p">,</span> <span class="n">wealth.index</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span>
</span></span></code></pre></div><p><img src="equal_weight-1.png" alt=""></p>
<table>
<thead>
<tr>
<th style="text-align:left"></th>
<th style="text-align:right">Replication</th>
<th style="text-align:right">Original</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Annualized Return</td>
<td style="text-align:right">0.079</td>
<td style="text-align:right">0.081</td>
</tr>
<tr>
<td style="text-align:left">Annualized Std Dev</td>
<td style="text-align:right">0.115</td>
<td style="text-align:right">0.112</td>
</tr>
<tr>
<td style="text-align:left">Annualized Sharpe (Rf=0%)</td>
<td style="text-align:right">0.684</td>
<td style="text-align:right">0.720</td>
</tr>
<tr>
<td style="text-align:left">Worst Drawdown</td>
<td style="text-align:right">-0.377</td>
<td style="text-align:right">-0.392</td>
</tr>
</tbody>
</table>
<h3 id="2-equal-risk-contribution-using-all-asset-classes">2. Equal risk contribution using all asset classes</h3>
<p>The next portfolio assumes the investor has some knowledge of each
asset&rsquo;s risk, but still no knowledge of relative performance or
correlations. So each asset in this portfolio is given a weight
proportional to its relative risk, and each asset contributes the same
amount of risk to the overall portfolio. That way no asset&rsquo;s risk will
dominate the risk of the overall portfolio.</p>
<p>The <code>portf_equal_risk()</code> estimates the equal risk contribution portfolio
using the <code>PERC()</code> function from the
<a href="https://cran.r-project.org/package=FRAPO">FRAPO</a> package. It calculates
the portfolio weights at the end of month using estimated portfolio risk
from the returns over the last 60 days. Then those weights are used to
calculate the portfolio returns for the following month.</p>
<!-- raw HTML omitted -->
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">returns_equal_risk</span> <span class="o">&lt;-</span> <span class="nf">portf_equal_risk</span><span class="p">(</span><span class="n">returns</span><span class="p">,</span> <span class="m">120</span><span class="p">,</span> <span class="m">60</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">monthly_returns</span> <span class="o">&lt;-</span> <span class="nf">to_monthly_returns</span><span class="p">(</span><span class="n">returns_equal_risk</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">title</span> <span class="o">&lt;-</span> <span class="s">&#34;All Assets - Equal Risk Contribution&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">stats</span> <span class="o">&lt;-</span> <span class="nf">strat_summary</span><span class="p">(</span><span class="n">monthly_returns</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                       <span class="n">original_results</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">0.085</span><span class="p">,</span> <span class="m">0.086</span><span class="p">,</span> <span class="m">0.99</span><span class="p">,</span> <span class="m">-0.242</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="nf">charts.PerformanceSummary</span><span class="p">(</span><span class="n">monthly_returns</span><span class="p">,</span> <span class="n">main</span> <span class="o">=</span> <span class="n">title</span><span class="p">,</span> <span class="n">wealth.index</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span>
</span></span></code></pre></div><p><img src="equal_risk-1.png" alt=""></p>
<table>
<thead>
<tr>
<th style="text-align:left"></th>
<th style="text-align:right">Replication</th>
<th style="text-align:right">Original</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Annualized Return</td>
<td style="text-align:right">0.086</td>
<td style="text-align:right">0.085</td>
</tr>
<tr>
<td style="text-align:left">Annualized Std Dev</td>
<td style="text-align:right">0.073</td>
<td style="text-align:right">0.086</td>
</tr>
<tr>
<td style="text-align:left">Annualized Sharpe (Rf=0%)</td>
<td style="text-align:right">1.177</td>
<td style="text-align:right">0.990</td>
</tr>
<tr>
<td style="text-align:left">Worst Drawdown</td>
<td style="text-align:right">-0.142</td>
<td style="text-align:right">-0.242</td>
</tr>
</tbody>
</table>
<p>In this case, the replicated results are better than the original
results. The data differences and the method used to estimate the equal
risk contribution portfolio weights are the most likely explanation for
the differences in the replicated results.</p>
<h3 id="3-equal-weight-portfolio-of-highest-momentum-asset-classes">3. Equal weight portfolio of highest momentum asset classes</h3>
<p>The next portfolio assumes the investor has some knowledge of each
asset&rsquo;s returns, but still no knowledge of risk or correlations. The
original paper uses momentum to estimate each asset&rsquo;s returns because
momentum (also known as long-term memory) is a well-known property of
financial market returns. Assets that have increased (decreased) in
price are likely to continue increasing (decreasing) in price in the
next period. Academic research shows that instruments with higher
(lower) momentum over the past 1-12 months exhibits better (worse)
performance over short-term future periods. See the original paper for a
description of some reasons why momentum exists in financial markets.</p>
<p>The estimates of each asset&rsquo;s returns are based on 6-month momentum
(approximately 120 days). Momentum is re-estimated every month and only
the top 5 assets are included in the portfolio, rather than including
every asset in the portfolio. Note that this doesn&rsquo;t mean every asset
included in the portfolio has a positive return over the 6-month period.
All of them could have negative returns over the period, in which case
the 5 assets with the smallest losses would be included in the
portfolio. Each of the top 5 assets included in the portfolio are held
with equal weight.</p>
<!-- raw HTML omitted -->
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">returns_momentum_equal_weight</span> <span class="o">&lt;-</span> <span class="nf">portf_top_momentum</span><span class="p">(</span><span class="n">returns</span><span class="p">,</span> <span class="m">5</span><span class="p">,</span> <span class="m">120</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">monthly_returns</span> <span class="o">&lt;-</span> <span class="nf">to_monthly_returns</span><span class="p">(</span><span class="n">returns_momentum_equal_weight</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">title</span> <span class="o">&lt;-</span> <span class="s">&#34;Top 5 Assets by 6-month Momentum - Equal Weight&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">stats</span> <span class="o">&lt;-</span> <span class="nf">strat_summary</span><span class="p">(</span><span class="n">monthly_returns</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                       <span class="n">original_results</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">0.130</span><span class="p">,</span> <span class="m">0.110</span><span class="p">,</span> <span class="m">1.17</span><span class="p">,</span> <span class="m">-0.217</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="nf">charts.PerformanceSummary</span><span class="p">(</span><span class="n">monthly_returns</span><span class="p">,</span> <span class="n">main</span> <span class="o">=</span> <span class="n">title</span><span class="p">,</span> <span class="n">wealth.index</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span>
</span></span></code></pre></div><p><img src="top5_momo_eq_weight-1.png" alt=""></p>
<table>
<thead>
<tr>
<th style="text-align:left"></th>
<th style="text-align:right">Replication</th>
<th style="text-align:right">Original</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Annualized Return</td>
<td style="text-align:right">0.142</td>
<td style="text-align:right">0.130</td>
</tr>
<tr>
<td style="text-align:left">Annualized Std Dev</td>
<td style="text-align:right">0.114</td>
<td style="text-align:right">0.110</td>
</tr>
<tr>
<td style="text-align:left">Annualized Sharpe (Rf=0%)</td>
<td style="text-align:right">1.243</td>
<td style="text-align:right">1.170</td>
</tr>
<tr>
<td style="text-align:left">Worst Drawdown</td>
<td style="text-align:right">-0.199</td>
<td style="text-align:right">-0.217</td>
</tr>
</tbody>
</table>
<p>The replicated results have slightly better returns and maximum
drawdown, but similar standard deviation. That said, the results are
similar enough to suggest this analysis replicates the approach
accurately.</p>
<h3 id="4-equal-risk-contribution-portfolio-of-highest-momentum-asset-classes">4. Equal risk contribution portfolio of highest momentum asset classes</h3>
<p>The previous two portfolios estimated asset weights using either
risk-based or momentum-based weights. This next portfolio combines
estimates of momentum-based performance and accounts for asset class
risk differences. It includes the top 5 asset classes based on 6-month
returns and weights them using the <code>estimate_equal_risk_portf()</code>
function defined earlier. Recall that the function weights each asset
class so they each contribute the same amount of risk to the portfolio.
Note that the asset volatilities are calculated on 60 days
(approximately 3 months) of returns while the momentum is based on 120
days (approximately 6 months).</p>
<!-- raw HTML omitted -->
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">returns_top_momentum_equal_risk</span> <span class="o">&lt;-</span>
</span></span><span class="line"><span class="cl">    <span class="nf">portf_top_momentum_equal_risk</span><span class="p">(</span><span class="n">returns</span><span class="p">,</span> <span class="m">5</span><span class="p">,</span> <span class="m">120</span><span class="p">,</span> <span class="m">60</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">monthly_returns</span> <span class="o">&lt;-</span> <span class="nf">to_monthly_returns</span><span class="p">(</span><span class="n">returns_top_momentum_equal_risk</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">title</span> <span class="o">&lt;-</span> <span class="s">&#34;Top 5 Assets by 6-month Momentum - Equal Risk Contribution&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">stats</span> <span class="o">&lt;-</span> <span class="nf">strat_summary</span><span class="p">(</span><span class="n">monthly_returns</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                       <span class="n">original_results</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">0.140</span><span class="p">,</span> <span class="m">0.099</span><span class="p">,</span> <span class="m">1.41</span><span class="p">,</span> <span class="m">-0.148</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="nf">charts.PerformanceSummary</span><span class="p">(</span><span class="n">monthly_returns</span><span class="p">,</span> <span class="n">main</span> <span class="o">=</span> <span class="n">title</span><span class="p">,</span> <span class="n">wealth.index</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span>
</span></span></code></pre></div><p><img src="top_momo_eq_risk-1.png" alt=""></p>
<table>
<thead>
<tr>
<th style="text-align:left"></th>
<th style="text-align:right">Replication</th>
<th style="text-align:right">Original</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Annualized Return</td>
<td style="text-align:right">0.137</td>
<td style="text-align:right">0.140</td>
</tr>
<tr>
<td style="text-align:left">Annualized Std Dev</td>
<td style="text-align:right">0.102</td>
<td style="text-align:right">0.099</td>
</tr>
<tr>
<td style="text-align:left">Annualized Sharpe (Rf=0%)</td>
<td style="text-align:right">1.335</td>
<td style="text-align:right">1.410</td>
</tr>
<tr>
<td style="text-align:left">Worst Drawdown</td>
<td style="text-align:right">-0.119</td>
<td style="text-align:right">-0.148</td>
</tr>
</tbody>
</table>
<p>The original and replicated results for this portfolio are very similar.
Note that in the original paper this portfolio&rsquo;s overall return
increased to 14.0% versus 13.0% for the momentum-based equal weight
portfolio, but the replicated results were more similar (14.2% versus
13.7%). Again, the data differences and portfolio weight estimation
differences likely cause differences in the results. Also, an
un-scientific comparison of the two cumulative return graphs suggests
some difference may be due to performance in 2012, when the replicated
results have a significant drawdown while the original results showed
positive performance.</p>
<h3 id="5-minimum-variance-portfolio-of-highest-momentum-asset-classes">5. Minimum variance portfolio of highest momentum asset classes</h3>
<p>The final portfolio takes the above concepts and adds correlation
estimates to the portfolio optimization. The previous portfolios only
accounted for the relative risk between the asset classes, but not the
correlation between the assets&rsquo; returns. This portfolio accounts for the
correlations between asset classes by finding the minimum variance
portfolio using <a href="https://en.wikipedia.org/wiki/Modern_portfolio_theory">modern portfolio
theory</a>. The
asset selection for these portfolios in the original paper differ
slightly from the previous portfolios. Instead of taking the top 5
assets with the highest momentum, the original paper selects &ldquo;assets
with above average 6-month momentum&rdquo;. So it&rsquo;s not clear how many assets
are held in the portfolio each month.</p>
<!-- raw HTML omitted -->
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">returns_momentum_min_var</span> <span class="o">&lt;-</span>
</span></span><span class="line"><span class="cl">    <span class="nf">portf_top_momentum_min_var</span><span class="p">(</span><span class="n">returns</span><span class="p">,</span> <span class="m">5</span><span class="p">,</span> <span class="m">120</span><span class="p">,</span> <span class="m">60</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">monthly_returns</span> <span class="o">&lt;-</span> <span class="nf">to_monthly_returns</span><span class="p">(</span><span class="n">returns_momentum_min_var</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">title</span> <span class="o">&lt;-</span> <span class="s">&#34;Assets With Above Average 6-month Momentum - Minimum Variance&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">stats</span> <span class="o">&lt;-</span> <span class="nf">strat_summary</span><span class="p">(</span><span class="n">monthly_returns</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                       <span class="n">original_results</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">0.150</span><span class="p">,</span> <span class="m">0.094</span><span class="p">,</span> <span class="m">1.60</span><span class="p">,</span> <span class="m">-0.088</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="nf">charts.PerformanceSummary</span><span class="p">(</span><span class="n">monthly_returns</span><span class="p">,</span> <span class="n">main</span> <span class="o">=</span> <span class="n">title</span><span class="p">,</span> <span class="n">wealth.index</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span>
</span></span></code></pre></div><p><img src="top_momo_min_var-1.png" alt=""></p>
<table>
<thead>
<tr>
<th style="text-align:left"></th>
<th style="text-align:right">Replication</th>
<th style="text-align:right">Original</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Annualized Return</td>
<td style="text-align:right">0.137</td>
<td style="text-align:right">0.150</td>
</tr>
<tr>
<td style="text-align:left">Annualized Std Dev</td>
<td style="text-align:right">0.103</td>
<td style="text-align:right">0.094</td>
</tr>
<tr>
<td style="text-align:left">Annualized Sharpe (Rf=0%)</td>
<td style="text-align:right">1.330</td>
<td style="text-align:right">1.600</td>
</tr>
<tr>
<td style="text-align:left">Worst Drawdown</td>
<td style="text-align:right">-0.102</td>
<td style="text-align:right">-0.088</td>
</tr>
</tbody>
</table>
<p>The replicated results still show worse performance than the original
results, which also seems to be related to performance during 2012. The
replicated results also do not show significant improvement relative to
the top 5 momentum equal risk portfolio like the original paper shows.</p>
<h1 id="conclusion">Conclusion</h1>
<p>Despite using returns from different instruments in the same asset
classes, over a slightly different time period, this analysis closely
replicates the results from <a href="https://papers.ssrn.com/sol3/papers.cfm?abstract_id=2328254">Adaptive Asset Allocation: A
Primer</a>.
The differences in the data sets seem to create a significant difference
in performance during 2012, but otherwise produce similar results on
monthly data.</p>
<p>I&rsquo;ll investigate the out-of-sample performance of this strategy in a
future post. Thanks for reading!</p>

		</div>
		<footer class="post__footer">
			
<div class="post__tags tags clearfix">
	<svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5 0 11V3C0 1.5.8.8.8.8S1.5 0 3 0h8c1.5 0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/></svg>
	<ul class="tags__list">
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/R/" rel="tag">R</a>
		</li>
	</ul>
</div>
		</footer>
	</article>
</main>



<section class="comments">
	<div id="disqus_thread"></div>
<script type="application/javascript">
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "foss-trading" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>


			</div>
			<aside class="sidebar"><div class="widget-search widget">
	<form class="widget-search__form" role="search" method="get" action="https://google.com/search">
		<label>
			<input class="widget-search__field" type="search" placeholder="SEARCH…" value="" name="q" aria-label="SEARCH…">
		</label>
		<input class="widget-search__submit" type="submit" value="Search">
		<input type="hidden" name="sitesearch" value="https://blog.fosstrading.com/">
	</form>
</div>
<link href="//cdn-images.mailchimp.com/embedcode/classic-071822.css" rel="stylesheet" type="text/css">
<style type="text/css">
#mc_embed_signup{background:#fff; clear:left; font:12px Helvetica,Arial,sans-serif;}
 
</style>
<div id="mc_embed_signup">
    <form action="https://fosstrading.us9.list-manage.com/subscribe/post?u=3b596c57e89d8db5b99daf4ff&amp;id=85bd253834&amp;f_id=00fb1ce1f0" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_self">
        <div id="mc_embed_signup_scroll">
        <h2>Subscribe to email updates</h2>
        <div class="indicates-required"><span class="asterisk">*</span> indicates required</div>
<div class="mc-field-group">
<label for="mce-EMAIL">Email Address  <span class="asterisk">*</span>
</label>
<input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL" required>
<span id="mce-EMAIL-HELPERTEXT" class="helper_text"></span>
</div>
<div class="mc-field-group">
<label for="mce-FNAME">First Name </label>
<input type="text" value="" name="FNAME" class="" id="mce-FNAME">
<span id="mce-FNAME-HELPERTEXT" class="helper_text"></span>
</div>
<div class="mc-field-group">
<label for="mce-LNAME">Last Name </label>
<input type="text" value="" name="LNAME" class="" id="mce-LNAME">
<span id="mce-LNAME-HELPERTEXT" class="helper_text"></span>
</div>
<div class="mc-field-group input-group">
    <strong>Interests </strong>
    <ul><li>
    <input type="checkbox" value="1" name="group[53492][1]" id="mce-group[53492]-53492-0" checked>
    <label for="mce-group[53492]-53492-0">R package releases</label>
</li>
<li>
    <input type="checkbox" value="2" name="group[53492][2]" id="mce-group[53492]-53492-1" checked>
    <label for="mce-group[53492]-53492-1">Everything else</label>
</li>
</ul>
    <span id="mce-group[53492]-HELPERTEXT" class="helper_text"></span>
</div>
<div id="mce-responses" class="clear foot">
<div class="response" id="mce-error-response" style="display:none"></div>
<div class="response" id="mce-success-response" style="display:none"></div>
</div>    
    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_3b596c57e89d8db5b99daf4ff_85bd253834" tabindex="-1" value=""></div>
        <div class="optionalParent">
            <div class="clear foot">
                <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button">
                <p class="brandingLogo"><a href="http://eepurl.com/ijAV-n" title="Mailchimp - email marketing made easy and fun"><img src="https://eep.io/mc-cdn-images/template_images/branding_logo_text_dark_dtp.svg"></a></p>
            </div>
        </div>
    </div>
</form>
</div>


<div>
    <a title="CSI Data" href="https://www.csicheckout.com/cgi-bin/ua_order_form_nw.pl?referrer=JU" target="_blank">
      <img class="csi-banner" src="/csi-banner.jpg" width="160" height="312">
    </a>
    <p>
</div>

<div class="widget-recent widget">
	<h4 class="widget__title">Recent Posts</h4>
	<div class="widget__content">
		<ul class="widget__list">
			<li class="widget__item"><a class="widget__link" href="/2023/12/adaptive-asset-allocation-replication/">Adaptive Asset Allocation Replication</a></li>
			<li class="widget__item"><a class="widget__link" href="/2023/08/quantmod-0-4-25-on-cran/">quantmod_0.4.25 on CRAN</a></li>
			<li class="widget__item"><a class="widget__link" href="/2023/06/running-timebase-in-docker/">Running TimeBase in Docker</a></li>
			<li class="widget__item"><a class="widget__link" href="/2023/06/streaming-data-with-timebase/">Streaming Market Data with TimeBase</a></li>
			<li class="widget__item"><a class="widget__link" href="/2023/05/getsymbols-rebooted/">getSymbols Rebooted</a></li>
		</ul>
	</div>
</div>
<div class="widget-taglist widget">
	<h4 class="widget__title">Tags</h4>
	<div class="widget__content">
		<a class="widget-taglist__link widget__link btn" href="/search/label/API/" title="API">API</a>
		<a class="widget-taglist__link widget__link btn" href="/search/label/Code/" title="Code">Code</a>
		<a class="widget-taglist__link widget__link btn" href="/search/label/DEoptim/" title="DEoptim">DEoptim</a>
		<a class="widget-taglist__link widget__link btn" href="/search/label/Data/" title="Data">Data</a>
		<a class="widget-taglist__link widget__link btn" href="/search/label/Drawdown/" title="Drawdown">Drawdown</a>
		<a class="widget-taglist__link widget__link btn" href="/search/label/Events/" title="Events">Events</a>
		<a class="widget-taglist__link widget__link btn" href="/search/label/Examples/" title="Examples">Examples</a>
		<a class="widget-taglist__link widget__link btn" href="/search/label/Excel/" title="Excel">Excel</a>
		<a class="widget-taglist__link widget__link btn" href="/search/label/Historical-Data/" title="Historical Data">Historical Data</a>
		<a class="widget-taglist__link widget__link btn" href="/search/label/IBrokers/" title="IBrokers">IBrokers</a>
		<a class="widget-taglist__link widget__link btn" href="/search/label/Interactive-Brokers/" title="Interactive Brokers">Interactive Brokers</a>
		<a class="widget-taglist__link widget__link btn" href="/search/label/LSPM/" title="LSPM">LSPM</a>
		<a class="widget-taglist__link widget__link btn" href="/search/label/PortfolioAnalytics/" title="PortfolioAnalytics">PortfolioAnalytics</a>
		<a class="widget-taglist__link widget__link btn" href="/search/label/R/" title="R">R</a>
		<a class="widget-taglist__link widget__link btn" href="/search/label/Releases/" title="Releases">Releases</a>
		<a class="widget-taglist__link widget__link btn" href="/search/label/Reviews/" title="Reviews">Reviews</a>
		<a class="widget-taglist__link widget__link btn" href="/search/label/TTR/" title="TTR">TTR</a>
		<a class="widget-taglist__link widget__link btn" href="/search/label/TimeBase/" title="TimeBase">TimeBase</a>
		<a class="widget-taglist__link widget__link btn" href="/search/label/blotter/" title="blotter">blotter</a>
		<a class="widget-taglist__link widget__link btn" href="/search/label/quantmod/" title="quantmod">quantmod</a>
		<a class="widget-taglist__link widget__link btn" href="/search/label/quantstrat/" title="quantstrat">quantstrat</a>
		<a class="widget-taglist__link widget__link btn" href="/search/label/xts/" title="xts">xts</a>
	</div>
</div><div>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-7427704313601198"
       data-ad-slot="6372007789"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>

</aside>
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 FOSS Trading.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>